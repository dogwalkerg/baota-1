import{bX as e,aj as a,bY as t,an as l,ao as s,O as r,h as i,b as o}from"./utils-lib.js?v=1734676359";import{_ as n}from"./index90.js?v=1734676359";import{B as p}from"./index185.js?v=1734676359";import{c as m,B as d,k as u,l as c,p as f,I as h,e as x,x as b,A as y,y as v,J as k,z as C,q as g,C as j,M as _}from"./base-lib.js?v=1734676359";import{a as B,b as V,u as F}from"./column.js?v=1734676359";import{u as S,S as w}from"./useStore7.js?v=1734676359";import{u as E,i as T,e as q,a as R,h as U,c as z,b as A,s as H,d as I,f as J,g as L,j as M,k as O}from"./useController11.js?v=1734676359";const X={class:"h-full"},Y={key:1,class:"bg-[#7F7F7F] flex items-center justify-center h-full",style:{"min-height":"600px"}},D={class:"bg-white px-[48px] py-[16px] text-[#333] flex"},G={class:"p-[20px]"},K=m({__name:"index",setup(m,{expose:K}){const N=o(),{isBindExtranet:P,siteType:Q}=S(),{jumpTabEvent:W}=w(),{isRefreshList:Z}=E(),$=s([{label:"启用重定向规则",value:"start",event:O},{label:"停用重定向规则",value:"stop",event:O},{label:"删除重定向规则",value:"delete",event:O}]),{BtTable:ee,BtRefresh:ae,BtBatch:te,refresh:le}=e({request:T,columns:[B(),{label:"被重定向",render:e=>{var t;return e.errorpage?"404错误页面":"domain"===e.domainorpath?null==(t=a(e.redirectdomain,"array",[]))?void 0:t.join("、"):e.redirectpath}},{label:"重定向类型",prop:"domainorpath",render:e=>e.errorpage?"错误":"domain"===e.domainorpath?"域名":"路径"},{label:"重定向到",render:e=>e.topath?e.topath:e.tourl},V({prop:"type",event:J,data:["已停止","运行中"]}),F([{width:70,title:"配置文件",onClick:e=>{if(!e.type)return N.warn("请先启用重定向规则再查看配置文件");L(e)}},{title:"编辑",onClick:e=>{e.errorpage?R(e):q(e)}},{onClick:M,title:"删除"}])],extension:[t(),$,l(Z)]});return K({init:le}),(e,a)=>{const t=n,l=r,s=i,o=d("bt-loading");return u(),c("div",X,[f(P)?(u(),c(h,{key:0},[x(t,null,{"header-left":b((()=>[x(f(y),{type:"primary",onClick:a[0]||(a[0]=e=>f(q)())},{default:b((()=>a[6]||(a[6]=[v("添加重定向")]))),_:1}),["php","html"].includes(f(Q))?(u(),k(f(y),{key:0,type:"default",onClick:f(R)},{default:b((()=>a[7]||(a[7]=[v("404重定向")]))),_:1},8,["onClick"])):C("",!0)])),"header-right":b((()=>[x(f(ae))])),content:b((()=>[x(f(ee),{"max-height":460})])),"footer-left":b((()=>[x(f(te))])),_:1}),x(l,{class:"mt-2rem",options:f(U),"list-style":"disc"},null,8,["options"])],64)):(u(),c("div",Y,[g("div",D,[a[8]||(a[8]=v(" 请开启 ")),g("span",{class:"mx-[.4rem] bt-link",onClick:a[1]||(a[1]=e=>f(W)("mapping"))},"外网映射"),a[9]||(a[9]=v(" 后查看配置信息 "))])])),x(s,{title:"编辑配置文件",modelValue:f(I),"onUpdate:modelValue":a[5]||(a[5]=e=>_(I)?I.value=e:null),area:54},{default:b((()=>[g("div",G,[a[11]||(a[11]=v(" 提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换 ")),j(x(f(p),{class:"!h-[36rem] my-[8px]",ref:"aceEditor",modelValue:f(A),"onUpdate:modelValue":a[2]||(a[2]=e=>_(A)?A.value=e:null),onSave:a[3]||(a[3]=e=>f(H)())},null,8,["modelValue"]),[[o,f(z)]]),x(f(y),{type:"primary",onClick:a[4]||(a[4]=e=>f(H)())},{default:b((()=>a[10]||(a[10]=[v("保存")]))),_:1}),a[12]||(a[12]=g("ul",{class:"mt-[8px] leading-8 text-[1.2rem] list-disc ml-[20px]"},[g("li",null,"此处为该负载均衡的配置文件，若您不了解配置规则,请勿随意修改。")],-1))])])),_:1},8,["modelValue"])])}}});export{K as _};
