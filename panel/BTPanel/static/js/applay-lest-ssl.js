import{c as e,i as a,e as l,Q as s,y as t,A as o,o as r,a1 as u,k as d,J as m,x as n,q as i,p,l as c,I as f,aX as y,v as b,z as v,aw as _,aa as x,a7 as h}from"./base-lib.js?v=1734676359";import{D as j,aO as k,e as w}from"./utils-lib.js?v=1734676359";import{ar as C,as as V,at as S,am as g,au as A,v as L,av as U,aw as z,ax as D,ay as I,az as N,aA as W}from"./useController7.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./site.js?v=1734676359";import"./index90.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";import"./useStore11.js?v=1734676359";import"./useStore7.js?v=1734676359";import"./useController3.js?v=1734676359";import"./validator.js?v=1734676359";import"./useStore9.js?v=1734676359";import"./useMethod5.js?v=1734676359";import"./useStore10.js?v=1734676359";const q={class:"p-[12px] border-[1px] w-[50rem] h-[22rem] flex flex-col overflow-auto rounded-default border-[#ececec] checkGroup"},B={class:"w-[41rem] flex items-center justify-between"},E=w(e({__name:"applay-lest-ssl",setup(e,{expose:w}){const{BtForm:E,submit:F,param:G}=j({data:C,options:e=>a((()=>[{type:"radio",label:"验证方法",key:"resource",options:[{label:"文件验证",value:"0"},{label:"DNS验证(支持通配符)",value:"1"}]},..."1"===e.value.resource?[{type:"custom",render:()=>l(k,{label:" "},{default:()=>[l(s,{modelValue:e.value.auth_to,"onUpdate:modelValue":a=>e.value.auth_to=a},{default:()=>[t("手动解析")]})]})},{type:"custom",render:()=>l(k,{label:" "},{default:()=>[l(s,{modelValue:e.value.autoWildcard,"onUpdate:modelValue":a=>e.value.autoWildcard=a},{default:()=>[t("自动组合泛域名")]}),l("div",{class:"text-[1.2rem]"},[t("* 如需申请通配符域名请勾选此项，且不要在下方域名列表中选中泛域名")])]})}]:[],{type:"slots",key:"domain"},{type:"custom",render:()=>l(k,{label:" "},{default:()=>[l(o,{type:"primary",onClick:()=>F()},{default:()=>[t("申请证书")]})]})},{type:"help",options:V.value}])),submit:async e=>await S(e)});return w({onConfirm:F}),r((async()=>{g.value="dns",await A(),await L()})),u(U),(e,a)=>{const r=o,u=_,j=x,k=h;return d(),m(p(E),{class:"p-2rem"},{domain:n((()=>[l(k,{label:"域名"},{default:n((()=>[i("div",q,[l(p(s),{indeterminate:p(z),class:"w-full !mx-0 mb-[4px]",modelValue:p(G).checkAll,"onUpdate:modelValue":a[0]||(a[0]=e=>p(G).checkAll=e),onChange:p(D),border:""},{default:n((()=>a[2]||(a[2]=[t(" 全选 ")]))),_:1},8,["indeterminate","modelValue","onChange"]),l(j,{class:"flex flex-col",modelValue:p(G).checkList,"onUpdate:modelValue":a[1]||(a[1]=e=>p(G).checkList=e),onChange:p(I)},{default:n((()=>[(d(!0),c(f,null,y(p(N),(e=>(d(),m(u,{placement:"top",effect:"dark",trigger:"hover",width:"280",disabled:1===e.apply_ssl,key:e.name},{default:n((()=>a[3]||(a[3]=[i("div",{class:"flex flex-col"},[i("span",null,"Let's Encrypt证书不支持申请IP证书"),i("span",null,"请选择【商用证书】的多域名SSL证书申请")],-1)]))),reference:n((()=>[(d(),m(p(s),{class:"w-full !mx-0 mb-[4px] overflow-hidden",disabled:0===e.apply_ssl,value:e.name,key:e.name,border:""},{default:n((()=>[i("div",B,[i("span",null,b(e.name),1),"1"!==p(G).resource||0!==e.dns_status||p(G).auth_to?v("",!0):(d(),m(r,{key:0,type:"primary",size:"small",class:"ml-auto",onClick:a=>p(W)(e)},{default:n((()=>a[4]||(a[4]=[t(" 配置DNS ")]))),_:2},1032,["onClick"]))])])),_:2},1032,["disabled","value"]))])),_:2},1032,["disabled"])))),128))])),_:1},8,["modelValue","onChange"])])])),_:1})])),_:1})}}}),[["__scopeId","data-v-91ac50f6"]]);export{E as default};
