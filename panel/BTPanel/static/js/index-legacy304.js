!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */t=function(){return r};var n,r={},o=Object.prototype,l=o.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},u="function"==typeof Symbol?Symbol:{},i=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",s=u.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(n){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var o=t&&t.prototype instanceof b?t:b,l=Object.create(o.prototype),u=new S(r||[]);return a(l,"_invoke",{value:U(e,n,u)}),l}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}r.wrap=d;var m="suspendedStart",h="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function _(){}var x={};f(x,i,(function(){return this}));var V=Object.getPrototypeOf,j=V&&V(V(F([])));j&&j!==o&&l.call(j,i)&&(x=j);var k=_.prototype=b.prototype=Object.create(x);function E(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function L(t,n){function r(o,a,u,i){var c=p(t[o],t,a);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==e(f)&&l.call(f,"__await")?n.resolve(f.__await).then((function(e){r("next",e,u,i)}),(function(e){r("throw",e,u,i)})):n.resolve(f).then((function(e){s.value=e,u(s)}),(function(e){return r("throw",e,u,i)}))}i(c.arg)}var o;a(this,"_invoke",{value:function(e,t){function l(){return new n((function(n,o){r(e,t,n,o)}))}return o=o?o.then(l,l):l()}})}function U(e,t,r){var o=m;return function(l,a){if(o===y)throw Error("Generator is already running");if(o===v){if("throw"===l)throw a;return{value:n,done:!0}}for(r.method=l,r.arg=a;;){var u=r.delegate;if(u){var i=C(u,r);if(i){if(i===g)continue;return i}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===m)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var c=p(e,t,r);if("normal"===c.type){if(o=r.done?v:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function C(e,t){var r=t.method,o=e.iterator[r];if(o===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=n,C(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var l=p(o,e.iterator,t.arg);if("throw"===l.type)return t.method="throw",t.arg=l.arg,t.delegate=null,g;var a=l.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=n),t.delegate=null,g):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,g)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function F(t){if(t||""===t){var r=t[i];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,a=function e(){for(;++o<t.length;)if(l.call(t,o))return e.value=t[o],e.done=!1,e;return e.value=n,e.done=!0,e};return a.next=a}}throw new TypeError(e(t)+" is not iterable")}return w.prototype=_,a(k,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=f(_,s,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,f(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},r.awrap=function(e){return{__await:e}},E(L.prototype),f(L.prototype,c,(function(){return this})),r.AsyncIterator=L,r.async=function(e,t,n,o,l){void 0===l&&(l=Promise);var a=new L(d(e,t,n,o),l);return r.isGeneratorFunction(t)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(k),f(k,s,"Generator"),f(k,i,(function(){return this})),f(k,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},r.values=F,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=n,this.done=!1,this.delegate=null,this.method="next",this.arg=n,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=n)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(r,o){return u.type="throw",u.arg=e,t.next=r,o&&(t.method="next",t.arg=n),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var i=l.call(a,"catchLoc"),c=l.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;P(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:F(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=n),g}},r}function n(e,t,n,r,o,l,a){try{var u=e[l](a),i=u.value}catch(e){return void n(e)}u.done?t(i):Promise.resolve(i).then(r,o)}System.register(["./base-lib-legacy.js?v=1734676359","./index-legacy88.js?v=1734676359","./utils-lib-legacy.js?v=1734676359","./useController-legacy3.js?v=1734676359","./index-legacy57.js?v=1734676359","./__commonjsHelpers__-legacy.js?v=1734676359","./site-legacy.js?v=1734676359","./column-legacy.js?v=1734676359","./index-legacy91.js?v=1734676359","./validator-legacy.js?v=1734676359","./useStore-legacy7.js?v=1734676359","./index-legacy90.js?v=1734676359","./index-legacy116.js?v=1734676359","./index.vue_vue_type_style_index_0_scoped_03ce946a_lang-legacy.js?v=1734676359","./index-legacy124.js?v=1734676359","./index-legacy107.js?v=1734676359"],(function(e,r){"use strict";var o,l,a,u,i,c,s,f,d,p,m,h,y,v,g,b,w,_,x,V,j,k,E,L,U,C,O,P,S,F,T,G,N,I,z,A,M,q,D,H,J,X,Y,$,B,Q,R,K,W,Z,ee;return{setters:[function(e){o=e.c,l=e.r,a=e.i,u=e.o,i=e.a1,c=e.k,s=e.J,f=e.x,d=e.e,p=e.q,m=e.p,h=e.C,y=e.D,v=e.F,g=e.l,b=e.aX,w=e.I,_=e.z,x=e.y,V=e.v,j=e.X,k=e.a7,E=e.ag,L=e.ah,U=e.af,C=e.ad,O=e.ae,P=e.Q,S=e.aj,F=e.A},function(e){T=e._},function(e){G=e.D,N=e.bR,I=e.j,z=e._,A=e.E,M=e.c},function(e){q=e.l},function(e){D=e.p,H=e.s,J=e.i,X=e.$,Y=e.a,$=e.v,B=e.g,Q=e.o,R=e.b,K=e.c,W=e.d,Z=e.e,ee=e.u},null,null,null,null,null,null,null,null,null,null,null],execute:function(){var r={class:"flex items-center"},te={class:"flex items-center"},ne={key:0,class:"el-input-group__append !h-3rem !flex items-center"},re={class:"text-[12px] ml-8px"},oe={key:0,class:"ml-[4.2rem] mt-[-4rem] text-[1.2rem] text-[red]"},le={class:"mt-[1.6rem]"},ae={class:"mt-[1.6rem]"},ue={class:"flex"},ie={key:2,class:"my-[20px]"},ce={class:"flex items-center"},se={class:"ml-[1rem] text-[#20a53a] w-[16rem] select-none"},fe={class:"pt-[0]"};e("default",o({__name:"index",setup:function(e,o){var de,pe,me=o.expose,he=l(!1),ye=G({data:D.value,options:function(e){return a((function(){return[{type:"slots",key:"custom",rules:{pjname:[N({message:"请输入项目名称"})],port:[{validator:function(e,t,n){"command"!==D.value.stype&&(!/^\d+$/.test(t)||t<0||t>65535)?D.value.listenMsg?n(new Error(" ")):n(new Error("端口号范围为0-65535")):n()},tirgger:["blur","change"]}],path:[N({message:"请选择路径"})],processes:[N({message:"请输入进程数"})],threads:[N({message:"请输入线程数"})],parm:[{validator:function(e,t,n){"command"===D.value.stype&&""===t?n(new Error("请输入启动命令")):n()},tirgger:["blur","change"]}]}}]}))},submit:(de=t().mark((function e(n,r){return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return e.next=4,H(n.value);case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})),pe=function(){var e=this,t=arguments;return new Promise((function(r,o){var l=de.apply(e,t);function a(e){n(l,r,o,a,u,"next",e)}function u(e){n(l,r,o,a,u,"throw",e)}a(void 0)}))},function(e,t){return pe.apply(this,arguments)})}),ve=ye.BtForm,ge=ye.submit;return u((function(){J()})),i(X),me({onConfirm:ge}),function(e,t){var n=I,o=k,l=E,a=L,u=z,i=A,G=M,N=U,H=C,J=T,X=O,de=P,pe=S,me=F;return c(),s(m(ve),{"label-width":"100px",class:"p-2rem"},{custom:f((function(){return[d(o,{label:"项目名称",prop:"pjname"},{default:f((function(){return[p("div",r,[d(n,{disabled:m(Y),width:"22rem",modelValue:m(D).pjname,"onUpdate:modelValue":t[0]||(t[0]=function(e){return m(D).pjname=e}),placeholder:"请输入Python项目名称"},null,8,["disabled","modelValue"]),h(d(o,{label:"项目端口",prop:"port","label-width":"7rem"},{default:f((function(){return[d(n,{width:"18rem",type:"number",modelValue:m(D).port,"onUpdate:modelValue":t[1]||(t[1]=function(e){return m(D).port=e}),placeholder:"项目的真实端口"},null,8,["modelValue"])]})),_:1},512),[[y,"command"!==m(D).stype]])])]})),_:1}),d(o,{label:"Python版本"},{default:f((function(){return[p("div",te,[p("div",{class:v(["flex items-center",m(Y)?"":"custom-refresh-select"])},[d(a,{modelValue:m(D).version,"onUpdate:modelValue":t[2]||(t[2]=function(e){return m(D).version=e}),class:"!w-[16rem]",disabled:m(Y)},{default:f((function(){return[(c(!0),g(w,null,b(m($),(function(e){return c(),s(l,{key:e,value:e,label:e},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","disabled"]),m(Y)?_("",!0):(c(),g("div",ne,[d(i,{title:"刷新Python版本",class:"!flex",onClick:t[3]||(t[3]=function(e){return m(B)(!0)})},{default:f((function(){return[d(u,{icon:"el-refresh",class:"!text-[14px]"})]})),_:1})]))],2),p("span",re,[t[25]||(t[25]=x(" * 如需安装Python版本，请点击")),d(G,{onClick:t[4]||(t[4]=function(e){return m(q)("py",m(B))})},{default:f((function(){return t[24]||(t[24]=[x("版本管理")])})),_:1})]),m(D).listenMsg&&"command"!==m(D).stype?(c(),g("div",oe,V(m(D).listenMsg),1)):_("",!0)])]})),_:1}),d(o,{label:"启动方式"},{default:f((function(){return[d(H,{modelValue:m(D).stype,"onUpdate:modelValue":t[5]||(t[5]=function(e){return m(D).stype=e})},{default:f((function(){return[d(N,{label:"command"},{default:f((function(){return t[26]||(t[26]=[x("命令行启动")])})),_:1}),d(N,{label:"uwsgi"},{default:f((function(){return t[27]||(t[27]=[x("uwsgi")])})),_:1}),d(N,{label:"gunicorn"},{default:f((function(){return t[28]||(t[28]=[x("gunicorn")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),d(o,{label:"项目路径",prop:"path"},{default:f((function(){return[d(n,{width:"42rem","icon-type":!m(Y)&&"folder",disabled:m(Y),placeholder:"项目的根路径",onFolder:m(Q),onChange:m(R),modelValue:m(D).path,"onUpdate:modelValue":t[6]||(t[6]=function(e){return m(D).path=e})},j({_:2},[m(Y)?void 0:{name:"append",fn:f((function(){return[d(i,{onClick:m(Q)},{default:f((function(){return[d(u,{icon:"el-folder-opened",class:"cursor-pointer"})]})),_:1},8,["onClick"])]})),key:"0"}]),1032,["icon-type","disabled","onFolder","onChange","modelValue"])]})),_:1}),h(p("div",{class:"mt-[1rem] ml-[12rem]"},"当前框架："+V(m(D).framework),513),[[y,m(D).framework]]),h(p("div",le,[d(o,{label:"启动命令",prop:"parm"},{default:f((function(){return[d(n,{modelValue:m(D).parm,"onUpdate:modelValue":t[7]||(t[7]=function(e){return m(D).parm=e}),placeholder:"请输入启动命令",width:"42rem"},null,8,["modelValue"])]})),_:1})],512),[[y,"command"===m(D).stype]]),h(p("div",ae,[d(o,{label:"入口文件"},{default:f((function(){return[d(J,{placeholder:"项目的入口文件",modelValue:m(D).rfile,"onUpdate:modelValue":t[8]||(t[8]=function(e){return m(D).rfile=e}),icon:"el-folder-opened",onIconClick:t[9]||(t[9]=function(e){return m(K)(m(D))}),onChange:t[10]||(t[10]=function(e){return m(W)(m(D))}),width:"42rem"},null,8,["modelValue"])]})),_:1}),d(o,{label:"通讯协议"},{default:f((function(){return[p("div",ue,[d(a,{modelValue:m(D).xsgi,"onUpdate:modelValue":t[11]||(t[11]=function(e){return m(D).xsgi=e}),class:"!w-[15rem]"},{default:f((function(){return[d(l,{label:"wsgi",value:"wsgi"}),d(l,{label:"asgi",value:"asgi"})]})),_:1},8,["modelValue"]),d(o,{label:"应用名称"},{default:f((function(){return[d(n,{modelValue:m(D).app,"onUpdate:modelValue":t[12]||(t[12]=function(e){return m(D).app=e}),placeholder:"请输入应用名称",width:"22rem"},null,8,["modelValue"])]})),_:1})])]})),_:1})],512),[[y,"command"!==m(D).stype]]),d(o,{label:"环境变量",class:"mt-[1.6rem]"},{default:f((function(){return[d(H,{modelValue:m(D).envType,"onUpdate:modelValue":t[13]||(t[13]=function(e){return m(D).envType=e})},{default:f((function(){return[d(X,{label:0},{default:f((function(){return t[29]||(t[29]=[x("无")])})),_:1}),d(X,{label:1},{default:f((function(){return t[30]||(t[30]=[x("指定变量")])})),_:1}),d(X,{label:2},{default:f((function(){return t[31]||(t[31]=[x("从文件加载")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),h(d(o,{label:" "},{default:f((function(){return[h(d(n,{width:"40rem",type:"textarea",rows:4,resize:"none",modelValue:m(D).env,"onUpdate:modelValue":t[14]||(t[14]=function(e){return m(D).env=e}),placeholder:"环境变量，1行1个，例如： JAVA_HOME=/usr/local/btjdk/jdk8"},null,8,["modelValue"]),[[y,1===m(D).envType]]),h(d(J,{modelValue:m(D).envPath,"onUpdate:modelValue":t[15]||(t[15]=function(e){return m(D).envPath=e}),placeholder:"请选择环境变量文件",icon:"el-folder-opened",onIconClick:m(Z),width:"42rem"},null,8,["modelValue","onIconClick"]),[[y,2===m(D).envType]])]})),_:1},512),[[y,0!==m(D).envType]]),d(o,{label:"启动用户"},{default:f((function(){return[d(a,{modelValue:m(D).user,"onUpdate:modelValue":t[16]||(t[16]=function(e){return m(D).user=e}),class:"!w-[16rem]"},{default:f((function(){return[(c(!0),g(w,null,b(m(ee),(function(e){return c(),s(l,{key:e,label:e,value:e},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1}),m(Y)?(c(),s(o,{key:0,label:"开机启动"},{default:f((function(){return[d(de,{modelValue:m(D).auto_run,"onUpdate:modelValue":t[17]||(t[17]=function(e){return m(D).auto_run=e})},{default:f((function(){return t[32]||(t[32]=[x(" 是否设置开机自动启动（默认自带守护进程每120秒检测一次） ")])})),_:1},8,["modelValue"])]})),_:1})):_("",!0),m(Y)?_("",!0):(c(),s(o,{key:1,label:"安装依赖包"},{default:f((function(){return[d(pe,{modelValue:m(D).requirement_path,"onUpdate:modelValue":t[18]||(t[18]=function(e){return m(D).requirement_path=e})},null,8,["modelValue"])]})),_:1})),m(Y)?(c(),g("div",ie,["command"!=m(D).stype?(c(),s(o,{key:0,label:"进程数",prop:"processes"},{default:f((function(){return[p("div",ce,[d(n,{width:"16rem",modelValue:m(D).processes,"onUpdate:modelValue":t[19]||(t[19]=function(e){return m(D).processes=e})},null,8,["modelValue"]),d(o,{label:"线程数",prop:"threads"},{default:f((function(){return[d(n,{width:"16rem",modelValue:m(D).threads,"onUpdate:modelValue":t[20]||(t[20]=function(e){return m(D).threads=e})},null,8,["modelValue"])]})),_:1})])]})),_:1})):_("",!0),m(Y)&&"uwsgi"===m(D).stype?(c(),s(o,{key:1,label:"通信方式"},{default:f((function(){return[d(a,{modelValue:m(D).is_http,"onUpdate:modelValue":t[21]||(t[21]=function(e){return m(D).is_http=e}),class:"w-[16rem]"},{default:f((function(){return[d(l,{label:"http",value:!0}),d(l,{label:"socket",value:!1})]})),_:1},8,["modelValue"])]})),_:1})):_("",!0)])):_("",!0),m(Y)?_("",!0):(c(),g(w,{key:3},[p("div",{class:"more flex items-center cursor-pointer pl-[10rem] my-[2rem] px-[2rem]",onClick:t[22]||(t[22]=function(e){return he.value=!m(he)})},[p("i",{class:v(m(he)?"svgtofont-el-arrow-down":"svgtofont-el-arrow-right")},null,2),p("div",se,V("更多设置，".concat(m(he)?"点击收回":"点击查看")),1)]),h(p("div",fe,[d(o,{label:"项目初始化命令",prop:"initialize"},{default:f((function(){return[d(n,{rows:3,modelValue:m(D).initialize,"onUpdate:modelValue":t[23]||(t[23]=function(e){return m(D).initialize=e}),type:"textarea",name:"initialize",width:"42rem",placeholder:"此处填写用于初始化项目的命令或脚本，常见的有项目数据库初始化操作等。例如：django常使用python manage.py makemigrations 和 python manage.py migrate 初始化数据库"},null,8,["modelValue"])]})),_:1})],512),[[y,m(he)]]),t[33]||(t[33]=p("ul",{class:"mt-[20px] leading-8 text-[1.2rem] list-disc ml-48px"},[p("li",null,"执行命令：请输入项目需要携带的参数，默认请输入执行文件名"),p("li",null,[x(" 通讯协议：wsgi：同步通讯，一次处理一个请求， asgi：异步处理，并发处理请求 "),p("br"),x(" 根据项目情况具体选择，例如: 传统Flask就是wsgi, Fastap框架就是asgi, Django两者都可以支持 ")]),p("li",null,"项目初始化命令：初始化脚本会在创建虚拟环境，安装依赖库之后执行")],-1))],64)),m(Y)?(c(),s(o,{key:4,label:" "},{default:f((function(){return[d(me,{type:"primary",onClick:m(ge)},{default:f((function(){return t[34]||(t[34]=[x("保存配置")])})),_:1},8,["onClick"])]})),_:1})):_("",!0)]})),_:1})}}}))}}}))}();
