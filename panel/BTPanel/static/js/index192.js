import{_ as s}from"./index101.js?v=1734676359";import{_ as e}from"./index277.js?v=1734676359";import{aM as l,t as a,c as t,e as o}from"./utils-lib.js?v=1734676359";import{c as i,s as n,i as c,o as r,a1 as m,k as p,l as d,p as u,I as v,q as x,v as g,e as f,x as j,y as k,aX as _,z as h}from"./base-lib.js?v=1734676359";import{V as b}from"./store.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./store2.js?v=1734676359";import"./index88.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const w={class:"p-16px realTaskDialog"},y={class:"title"},C=["title"],D={class:"p-[1rem]"},H={class:"mt-[4px] flex justify-between items-center"},I={class:"flex"},T={class:"mr-[25px]"},q={class:"title"},z={class:"truncate max-w-[36rem]"},L={key:2,class:"wait"},M={class:"truncate"},N=["onClick"],V=o(i({__name:"index",emits:["close"],setup(o,{emit:i}){const V=b(),{taskData:W}=n(V),{getLog:X,cancel:$,$reset:A}=V,B=c((()=>W.value[0]||{log:"",name:"",shell:""}));return r((()=>{X()})),m((()=>{A()})),(o,i)=>{var n,c,r,m,b;const V=t,X=e,A=s;return p(),d("div",w,[u(l)(u(B).log)?(p(),d(v,{key:0},[x("div",y,[x("span",{class:"truncate max-w-[36rem]",title:u(B).shell},"正在下载:"+g(u(B).shell),9,C),f(V,{onClick:i[0]||(i[0]=s=>u($)(u(B)))},{default:j((()=>i[2]||(i[2]=[k("取消")]))),_:1})]),x("div",D,[f(X,{strokeWidth:3,percentage:Number((null==(n=u(B).log)?void 0:n.pre)||0),showText:!1},null,8,["percentage"]),x("div",H,[x("div",I,[x("span",T,g(null==(c=u(B).log)?void 0:c.used)+" / "+g(u(a)(null==(r=u(B).log)?void 0:r.total)),1),x("span",null,"预计还要:"+g(null==(m=u(B).log)?void 0:m.time),1)]),x("span",null,g(null==(b=u(B).log)?void 0:b.speed)+"/s",1)])])],64)):(p(),d(v,{key:1},[x("div",q,[x("span",z,g("".concat(u(B).name,":").concat(u(B).shell)),1),f(V,{onClick:i[1]||(i[1]=s=>u($)(u(B)))},{default:j((()=>i[3]||(i[3]=[k("取消")]))),_:1})]),f(A,{content:u(B).log,isHtml:!0,class:"max-h-[18rem] h-[18rem]"},null,8,["content"])],64)),u(W).length>1?(p(),d("div",L,[i[4]||(i[4]=x("div",{class:"title"},"等待执行任务",-1)),(p(!0),d(v,null,_(u(W).slice(1),(s=>(p(),d("div",{class:"title item w-full !text-[#ccc] items-center",key:s.id},[x("span",M,g("".concat(s.name,":").concat(s.shell)),1),x("span",{class:"svgtofont-el-close-bold text-danger cursor-pointer ml-1rem",onClick:e=>u($)(s)},null,8,N)])))),128))])):h("",!0)])}}}),[["__scopeId","data-v-b013b94e"]]);export{V as default};
