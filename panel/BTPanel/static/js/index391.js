import{_ as e}from"./index116.js?v=1734676359";import{c as s,j as a,O as l,_ as o,e as t}from"./utils-lib.js?v=1734676359";import{c as n,o as i,B as p,C as r,p as d,k as m,l as c,q as u,e as k,x,I as f,aX as _,D as y,J as b,y as C,z as h,v,ah as j,A as g,aj as P,aT as V,ag as H}from"./base-lib.js?v=1734676359";import{_ as I}from"./index89.js?v=1734676359";import{i as T,v as w,a as U,e as S,h as z,s as q,b as A,p as B,c as D,d as J,f as M,g as O,j as X,k as E,o as F,m as G,t as K,l as L,n as N,q as Q}from"./useController14.js?v=1734676359";import"./index91.js?v=1734676359";import"./validator.js?v=1734676359";import"./column.js?v=1734676359";import"./index.vue_vue_type_style_index_0_scoped_03ce946a_lang.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./site.js?v=1734676359";import"./useStore7.js?v=1734676359";import"./useStore9.js?v=1734676359";import"./useMethod5.js?v=1734676359";import"./useController13.js?v=1734676359";import"./useStore12.js?v=1734676359";import"./useController3.js?v=1734676359";const R={class:"border-b border-dashed border-[#ccc] mb-[2.2rem] pb-[2.2rem]"},W={class:"flex mb-[20px]"},Y={class:"border-b border-dashed border-[#ccc] my-[2.2rem] pb-[2.2rem]"},Z={class:"flex mb-[20px]"},$={class:"my-[2.2rem] relative"},ee={class:"flex mb-[20px] items-center"},se={class:"title-span"},ae={class:"ml-[2rem]"},le={class:"ml-[2rem]"},oe={class:"w-[37rem] ml-[2rem]"},te={key:1},ne={class:"flex mb-[20px]"},ie={class:"text-[1.2rem] flex items-center font-bold"},pe=t(n({__name:"index",setup:(t,{expose:n})=>(i(T),n({init:T}),(t,n)=>{const i=s,T=H,pe=j,re=a,de=g,me=l,ce=P,ue=I,ke=V,xe=o,fe=e,_e=p("bt-loading");return r((m(),c("div",null,[u("div",R,[u("div",W,[n[10]||(n[10]=u("div",{class:"title-span"},"PHP版本",-1)),k(pe,{modelValue:d(U).phpVersion,"onUpdate:modelValue":n[0]||(n[0]=e=>d(U).phpVersion=e),placeholder:"请选择PHP版本",class:"!w-[14rem] mr-1rem",onChange:d(S)},{default:x((()=>[(m(!0),c(f,null,_(d(U).options,((e,s)=>(m(),b(T,{key:s,label:e.title,value:e.key,disabled:!e.status},{default:x((()=>[u("span",null,[u("span",null,v(e.label),1),e.status?h("",!0):(m(),c(f,{key:0},[n[6]||(n[6]=C(" [ ")),k(i,{class:"my-[4px]",onClick:s=>d(A)(e.key)},{default:x((()=>n[5]||(n[5]=[C("未安装")]))),_:2},1032,["onClick"]),n[7]||(n[7]=C(" ] "))],64))])])),_:2},1032,["label","value","disabled"])))),128))])),_:1},8,["modelValue","onChange"]),r(k(re,{modelValue:d(U).other,"onUpdate:modelValue":[n[1]||(n[1]=e=>d(U).other=e),d(z)],ref:"otherInput",class:"mr-[.5rem]",width:"30rem",placeholder:"连接配置，如：1.1.1.1:9001或unix:/tmp/php.sock"},null,8,["modelValue","onUpdate:modelValue"]),[[y,"other"===d(U).phpVersion]]),d(U).toggleShow?(m(),b(de,{key:0,type:"primary",class:"mr-1rem",onClick:d(q)},{default:x((()=>n[8]||(n[8]=[C("切换")]))),_:1},8,["onClick"])):h("",!0),d(U).noInstall?(m(),b(de,{key:1,type:"primary",onClick:n[2]||(n[2]=e=>d(A)())},{default:x((()=>n[9]||(n[9]=[C("安装")]))),_:1})):h("",!0)]),k(me,{options:d(B)[d(U).helpIndex],class:"ml-[20px] mt-[20px]"},null,8,["options"])]),u("div",Y,[u("div",Z,[n[11]||(n[11]=u("div",{class:"title-span"},"session隔离",-1)),k(ce,{modelValue:d(D).status,"onUpdate:modelValue":n[3]||(n[3]=e=>d(D).status=e),onChange:d(J)},null,8,["modelValue","onChange"])]),k(me,{options:d(M),class:"ml-[20px] mt-[20px]"},null,8,["options"])]),u("div",$,[u("div",ee,[u("div",se,[k(ue,{name:"icon-ltd",size:"1.6",class:"mr-[4px]"}),n[12]||(n[12]=C(" 站点防护 "))]),k(ce,{modelValue:d(O).status,"onUpdate:modelValue":n[4]||(n[4]=e=>d(O).status=e),onChange:d(X)},null,8,["modelValue","onChange"]),u("span",ae,"今日："+v(d(O).today),1),u("span",le,"总告警数："+v(d(O).total),1),r(u("div",oe,[k(ke,{type:"warning",closable:!1},{title:x((()=>[n[14]||(n[14]=u("span",null,"未启用PHP安全告警，请先",-1)),d(O).safeTip.alarmTip?(m(),b(i,{key:0,type:"danger",onClick:d(E),class:"!inline-block"},{default:x((()=>n[13]||(n[13]=[C("设置告警")]))),_:1},8,["onClick"])):h("",!0),d(O).safeTip.allTip?(m(),c("span",te,"和")):h("",!0),d(O).safeTip.safeTip?(m(),b(i,{key:2,type:"danger",onClick:d(F)},{default:x((()=>[C("开启PHP-"+v(d(O).version)+"防护",1)])),_:1},8,["onClick"])):h("",!0)])),_:1})],512),[[y,d(O).safeTip.show]])]),u("div",ne,[k(de,{type:"default",class:"!mr-[12px]",onClick:d(G)},{default:x((()=>n[15]||(n[15]=[C("监视器")]))),_:1},8,["onClick"]),k(de,{type:"default",onClick:d(K)},{default:x((()=>n[16]||(n[16]=[C("触发日志")]))),_:1},8,["onClick"])]),k(me,{options:d(L),class:"ml-[20px] mt-[20px]"},null,8,["options"]),d(O).tips?(m(),b(fe,{key:0},{content:x((()=>[k(xe,{icon:"el-warning",size:"20",class:"mr-[8px]",color:"orange"}),u("div",ie,[0===d(O).tipsIndex?(m(),c(f,{key:0},[C("当前PHP版本不兼容此功能,请切换其他PHP版本")],64)):h("",!0),1===d(O).tipsIndex?(m(),c(f,{key:1},[n[18]||(n[18]=C(" 如需使用【PHP网站安全告警】功能，请先安装， ")),k(i,{onClick:d(N)},{default:x((()=>n[17]||(n[17]=[C("点击安装")]))),_:1},8,["onClick"])],64)):h("",!0),2===d(O).tipsIndex?(m(),c(f,{key:2},[n[20]||(n[20]=C(" 如需使用【PHP网站安全告警】功能，请先购买， ")),k(i,{onClick:d(Q)},{default:x((()=>n[19]||(n[19]=[C("点击购买")]))),_:1},8,["onClick"])],64)):h("",!0)])])),_:1})):h("",!0)])])),[[_e,d(w)]])})}),[["__scopeId","data-v-2dd71edd"]]);export{pe as default};
