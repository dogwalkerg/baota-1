import{u as t,b2 as e,l as a,H as s,o as l,G as o,a8 as i,k as n,V as r,e as c}from"./utils-lib.js?v=1734676359";import{_ as m}from"./index90.js?v=1734676359";import{_ as u}from"./index97.js?v=1734676359";import{_ as d}from"./index182.js?v=1734676359";import{c as p,r as g,h as f,w as v,o as b,B as h,k as _,l as y,e as w,x as k,q as j,p as x,C as N,ar as S}from"./base-lib.js?v=1734676359";import{f as C,N as I,d as q}from"./useMethods.js?v=1734676359";import{c as J}from"./column.js?v=1734676359";import{g as L,J as O,K as R,L as T}from"./useStore3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";const E={class:"relative container-table-tab p-[1.6rem]"},H={class:"flex items-center"},A=c(p({__name:"index",setup(c){const p=g(),{refs:{customLimit:A,isRefreshNetworkList:D}}=L(),{mainHeight:U}=t(),V=f({loading:!1,total:0,p:1,limit:Number(localStorage.getItem("dockernetlimit"))||20}),B=g([]),G=g([]),K=[{label:"删除",value:"delete",event:async(t,e,a,s)=>{const{label:l,value:o}=s,i=async(t,e)=>{const{id:a}=t;if("delete"===o){const t={id:a};return await T({data:JSON.stringify(t)})}};await t({title:"批量".concat(l,"网络"),content:"批量".concat(l,"已选的网络，是否继续操作！"),column:[{label:"网络名",prop:"name"},J()],onConfirm:async()=>(await e(i),Q(),!1)})}}],M=[{active:!0,content:"添加网络",event:()=>{a({component:()=>s((()=>import("./add-net-dialog.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),title:"添加网络",area:58,btn:"添加"})}},{active:!1,content:"清理网络",event:async()=>{try{await l({type:"calc",title:"清理网络",width:"35rem",content:"您真的要清理未使用的网络吗？"}),o({request:O(),message:!0,loading:S(V,"loading"),success:()=>{Q()}})}catch(t){}}}];v((()=>D.value),(t=>{D.value&&Q()}));const P=t=>{A.value.network=!0,localStorage.setItem("dockernetlimit",V.limit.toString()),Q(!1)},z=g(C({deleteDataEvent:async t=>{try{await l({type:"calc",title:"删除网络【".concat(t.name,"】"),width:"35rem",content:"您真的要删除网络【".concat(t.name,"】吗？")});const e={id:t.id};o({request:T({data:JSON.stringify(e)}),message:!0,success:()=>{Q()}})}catch(e){}}}));let F=!0;const Q=async t=>{D.value=!1,!1!==t?(F&&(V.loading=!0),await o({request:R(),data:Array,success:t=>{F=!1,B.value=t,V.total=t.length,G.value=q({p:V.p,limit:V.limit,list:B.value})||[]}}),V.loading=!1):G.value=q({p:V.p,limit:V.limit,list:B.value})||[]};return b((async()=>{Q(),z.value=e(JSON.parse(localStorage.getItem("dockerNetColumn")||"[]"),z.value),A.value.network||setTimeout((()=>{U.value>900?V.limit=20:V.limit=10}),0)})),(t,e)=>{const a=d,s=i,l=n,o=r,c=u,g=m,f=h("bt-loading");return _(),y("div",E,[w(g,null,{"header-left":k((()=>[j("div",H,[w(a,{options:M}),j("a",{class:"ml-[1rem] bt-link",onClick:e[0]||(e[0]=t=>x(I)())},"需求反馈")])])),"header-right":k((()=>[w(s,{name:"dockerNetColumn",column:x(z),tableRef:x(p)},null,8,["column","tableRef"])])),content:k((()=>[N(w(l,{ref_key:"netTable",ref:p,key:"NetTable",column:x(z),"max-height":x(U)-220,data:x(G),description:"网络列表为空"},null,8,["column","max-height","data"]),[[f,x(V).loading],[f,"正在加载网络列表，请稍后...","title"]])])),"footer-left":k((()=>[w(o,{"table-ref":x(p),options:K},null,8,["table-ref"])])),"footer-right":k((()=>[w(c,{page:x(V).p,"onUpdate:page":e[1]||(e[1]=t=>x(V).p=t),row:x(V).limit,"onUpdate:row":e[2]||(e[2]=t=>x(V).limit=t),total:x(V).total,onChange:P},null,8,["page","row","total"])])),popup:k((()=>e[3]||(e[3]=[]))),_:1})])}}}),[["__scopeId","data-v-7035177a"]]);export{A as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
