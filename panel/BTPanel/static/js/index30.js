import{u as e,o as t,aj as a,l,H as s,b as n,G as o,e as c,h as r,ai as u,R as i,c as m,M as d}from"./utils-lib.js?v=1734676359";import{c as p,r as v,ax as h,h as f,i as g,w as _,o as y,B as k,k as x,l as w,q as C,e as b,x as j,y as D,p as R,M as V,C as I,G as P,I as q,aX as S,D as E,F as M,az as T,A as L,P as A,Q as H,au as N,aw as O,N as U,v as B,z as F,L as z,b5 as W,J as G,ap as J,ao as X,an as K,aN as Q,n as Y,W as $,a1 as Z,b2 as ee,a$ as te,b3 as ae}from"./base-lib.js?v=1734676359";import{g as le,H as se,I as ne,x as oe}from"./useStore3.js?v=1734676359";import{t as ce,N as re}from"./useMethods.js?v=1734676359";import{u as ue}from"./use-socket-request.js?v=1734676359";import{_ as ie}from"./index182.js?v=1734676359";import{_ as me}from"./index101.js?v=1734676359";import{B as de}from"./index185.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";import"./ace.js?v=1734676359";const pe={class:"flex items-center flex-wrap gap-[10px] p-[1.6rem]"},ve={class:"w-full relative"},he=["onClick"],fe={class:"w-[1.6rem]"},ge={class:"flex flex-col ml-[1rem] w-[60%] truncate"},_e={class:"truncate compose-title"},ye=["onClick"],ke=["value","onBlur"],xe={class:"batch-select"},we={class:"ml-[1rem]"},Ce=c(p({__name:"orchestration-list",setup(c){const{mainHeight:r}=e(),{refs:{orchestrationData:u}}=le(),i=n(),m=v(""),d=v({}),p=h("addCompose"),G=h("createComposeDialog",(()=>{})),J=v([]),X=v([]),K=f({checked:!1,showCheckPopover:!1,showSlectPopover:!1,popoverContent:"",type:""}),Q=v(!1),Y=[{active:!0,content:"添加容器编排",event:()=>G(p)}];let $=null;const Z=h("socketInstance"),ee=h("isEmpty"),te=h("createNewSocket");let ae=v(!0);const ne=v({}),oe=v(""),ce=g((()=>m.value?X.value.filter((e=>e.name.includes(m.value))):X.value));_((()=>u.value.refreshList),(e=>{e&&qe(e)}));const re=e=>{switch(e.run_status){case"running":return{text:"运行中",type:"success"};case"exited":return{text:"已停止",type:"danger"};default:return{text:"异常",type:"warning"}}},ue=g((()=>0===J.value.length)),me=g((()=>X.value.length!==J.value.length&&J.value.length>0)),de=e=>{const t={},a=e.map((e=>(t[e.name]=J.value.includes(e.name),e.name)));return J.value=J.value.filter((e=>a.includes(e))),t},Ce=e=>{switch(clearTimeout($),K.showSlectPopover=!1,K.showCheckPopover=!1,e){case"select":K.showSlectPopover=!0,$=setTimeout((()=>{K.showSlectPopover=!1}),2e3);break;case"check":K.showCheckPopover=!0,$=setTimeout((()=>{K.showCheckPopover=!1}),2e3)}},be=()=>{if(ue.value||""===K.type)switch(!0){case 0===J.value.length:K.popoverContent="请先选择要操作的容器编排",Ce("check");break;case""===K.type:K.popoverContent="请选择批量操作",Ce("select")}},je=e=>{e?(J.value=X.value.map((e=>e.name)),d.value=de(X.value)):(J.value=[],d.value=de(X.value))},De=()=>Re(),Re=async()=>{try{await t({icon:"warning-filled",title:"批量删除容器编排",width:"35rem",content:"将批量删除选中的".concat(J.value.length,"个容器编排,是否继续？")});const e={mod_name:"docker",sub_mod_name:"com",def_name:"batch_delete",project_list:[],ws_callback:"batch_delete"};J.value.map((t=>{const a=X.value.find((e=>e.name===t));a&&e.project_list.push({project_name:t,path:a.path})}));const n=[];u.value.noRefresh=!0;let o=i.load("正在删除中");Z.value.socketRequest({params:e,onMessage:e=>{let t=a(e.data,"object",!1);t&&n.push({name:t.project_name,status:t.status}),-1===e.data&&(u.value.noRefresh=!1,o.close(),Q.value=!1,l({title:"批量删除结果",area:42,component:()=>s((()=>import("./index102.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{resultData:n,autoTitle:"批量删除完成",resultColumn:[{label:"容器编排名称",prop:"name"},{label:"操作结果",align:"right",render:e=>T("span",{class:e.status?"text-primary":e.status?"text-danger":""},e.status?"删除成功":"删除失败")}]}}))}})}catch(e){}},Ve=e=>{e.target.blur()},Ie=async e=>{ne.value[e.name]||(await te(),qe(),u.value.currentCompose=e,e.path===u.value.currentCompose.path&&(u.value.refreshItem=!u.value.refreshItem))},Pe=()=>{l({title:"编排模板",area:100,component:()=>s((()=>import("./index183.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},qe=async e=>{try{const t={mod_name:"docker",sub_mod_name:"com",def_name:"get_project_list",ws_callback:"get_project_list"};u.value.refreshList=!1,u.value.loading=!0,Z.value.socketRequest({params:t,onMessage:async t=>{if(u.value.isEdit)return;if(X.value=t.data||[],u.value.loading=!1,d.value=de(X.value),ee.value=0===X.value.length,0===X.value.length)return void(ae.value=!1);if(u.value.noRefresh)return;X.value.forEach((e=>{ne.value[e.name]||(ne.value[e.name]=!1)}));const a=u.value.currentCompose.name,l=X.value.find((e=>e.name===a));!l&&a&&(await te(),qe()),"force"===e?Ie(X.value[0]):u.value.currentCompose=l||X.value[0],ae.value=!1}})}catch(t){u.value.loading=!1,ae.value=!1}};return y((()=>{qe()})),(e,t)=>{const a=ie,l=L,s=A,n=H,c=W,i=N,p=O,v=k("focus"),h=k("bt-loading");return x(),w("div",{class:"left-list",style:P({height:"".concat(R(r)-103,"px")})},[C("div",pe,[b(a,{options:Y}),b(l,{onClick:Pe},{default:j((()=>t[8]||(t[8]=[D("编排模板")]))),_:1}),C("div",ve,[b(s,{modelValue:R(m),"onUpdate:modelValue":t[0]||(t[0]=e=>V(m)?m.value=e:null),placeholder:"请输入关键字",clear:""},{prefix:j((()=>t[9]||(t[9]=[C("i",{class:"svgtofont-el-search"},null,-1)]))),_:1},8,["modelValue"])])]),I((x(),w("div",{class:"table-con",style:P({height:"".concat(R(r)-270,"px")})},[(x(!0),w(q,null,S(R(ce),(e=>(x(),w("div",{key:e.name,class:M(["list-item h-[5.4rem]",{active:e.name===R(u).currentCompose.name}]),onClick:t=>Ie(e)},[b(n,{modelValue:R(d)[e.name],"onUpdate:modelValue":t=>R(d)[e.name]=t,onChange:t=>(e=>{const t=J.value.indexOf(e.name);-1===t?(J.value.push(e.name),K.checked=J.value.length===X.value.length):(J.value.splice(t,1),K.checked=!1)})(e),onClick:t[1]||(t[1]=U((()=>{}),["stop"]))},null,8,["modelValue","onUpdate:modelValue","onChange"]),I(C("div",fe,null,512),[[E,!R(Q)]]),b(c,{type:re(e).type,class:"ml-[1rem] w-[5rem] status-tag text-center !h-[1.9rem] !leading-[1.9rem] !px-[.4rem]"},{default:j((()=>[D(B(re(e).text),1)])),_:2},1032,["type"]),C("div",ge,[C("span",_e,B(e.name),1),R(ne)[e.name]?F("",!0):(x(),w("span",{key:0,class:M(["remark-text",e.remark?"":"empty-remark"]),onClick:U((t=>(e=>{oe.value=e.remark,ne.value[e.name]=!0})(e)),["stop"])},B(e.remark||"点击编辑备注"),11,ye)),R(ne)[e.name]?I((x(),w("input",{key:1,type:"text",class:"remark-input",title:"点击编辑备注，回车或失焦保存",value:R(oe),placeholder:"点击编辑备注",onClick:t[2]||(t[2]=U((()=>{}),["stop"])),onFocus:t[3]||(t[3]=e=>R(u).isEdit=!0),onKeyup:z(Ve,["enter"]),onMousedown:t[4]||(t[4]=U((()=>{}),["stop"])),onMouseup:t[5]||(t[5]=U((()=>{}),["stop"])),onBlur:t=>(async(e,t)=>{ne.value[t.name]=!1,u.value.isEdit=!1,e.target.value!==t.remark&&(await o({request:se({remark:e.target.value,name:t.name,path:t.path}),message:!0,success:a=>{a.status&&(t.remark=e.target.value)}}),Ie(t))})(t,e)},null,40,ke)),[[v]]):F("",!0)])],10,he)))),128)),I(b(i,{description:"当前列表为空"},null,512),[[E,0===R(ce).length]])],4)),[[h,R(ae)],[h,"正在获取列表","title"]]),C("div",xe,[b(p,{modelValue:R(K).showCheckPopover,"onUpdate:modelValue":t[7]||(t[7]=e=>R(K).showCheckPopover=e),trigger:"manual","popper-class":"popper-danger",placement:"top-start",content:R(K).popoverContent},{reference:j((()=>[b(n,{modelValue:R(K).checked,"onUpdate:modelValue":t[6]||(t[6]=e=>R(K).checked=e),indeterminate:R(me),onChange:je},null,8,["modelValue","indeterminate"])])),_:1},8,["modelValue","content"]),C("div",{class:"relative flex items-center",onClick:be},[C("div",{class:M(["absolute w-full h-full z-999 cursor-not-allowed",R(ue)?"":"hidden"])},null,2),C("div",we,[b(l,{type:"primary",disabled:R(ue),onClick:De},{default:j((()=>t[10]||(t[10]=[D(" 批量删除 ")]))),_:1},8,["disabled"])])])])],4)}}}),[["__scopeId","data-v-5d7b7697"]]),be={class:"menu-col h-full"},je={class:"p-[1.6rem] !pt-0 overflow-y-auto",style:{height:"calc(100% - 50px)"}},De={class:"flex flex-col w-full"},Re={class:"flex items-center w-full"},Ve=["title"],Ie={class:"inline-block truncate leading-normal",style:{"max-width":"calc(100% - 60px)"}},Pe={class:"flex items-center ml-[2rem]"},qe=["title"],Se={class:"flex flex-wrap content-center gap-[1rem]",style:{"grid-template-columns":"repeat(2, auto)"}},Ee={class:"mt-[1.6rem] bg-white rounded-[.4rem]"},Me=c(p({__name:"orchestration-menu",setup(c){const u=n(),{mainHeight:i}=e(),{refs:{orchestrationData:m}}=le(),d=h("socketInstance"),p=h("delCompose",(()=>{})),E=h("restartCompose"),T=g((()=>m.value.currentCompose)),A=h("commandEvent"),H=v(""),O=v([]),U=f({con:!1,log:!1}),z=v("容器日志"),Y=v(!1),$=v("暂无日志信息"),Z=e=>{const t=[{text:"重启",command:"restart"},{text:"停止",command:"stop"},{text:"强制停止",command:"kill"}],a=[{text:"启动",command:"start"}],l=[{text:"重启",command:"restart"},{text:"强制停止",command:"kill"}];switch(e){case"running":return t;case"exited":return a;default:return l}},ee=e=>{switch(e){case"running":return{text:"运行中",type:"success"};case"exited":return{text:"已停止",type:"danger"};default:return{text:"异常",type:"warning"}}};_((()=>T.value.path),(()=>{ae(),se()})),_((()=>m.value.refreshItem),(e=>{ae(),se()})),_((()=>E.value),(e=>{e&&(E.value=!1,te("start",!1))}));const te=async(e,a=!0)=>{try{let n="";switch(e){case"stop":"stop"===e&&(n="停止");case"start":"start"===e&&(n="启动");case"restart":"restart"===e&&(n="重启");case"update":"update"===e&&(n="更新");case"rebuild":"rebuild"===e&&(n="重建");case"down":"down"===e&&(n="停止并删除所有容器"),a&&await t({icon:"warning-filled",title:"【".concat(T.value.name,"】").concat(n),width:"35rem",content:"容器编排即将".concat(n,",是否继续？")});const o={mod_name:"docker",sub_mod_name:"com",def_name:e,path:T.value.path,project_name:T.value.name,ws_callback:e};l({isAsync:!0,title:"编排【".concat(T.value.name,"】日志"),area:60,component:()=>s((()=>import("./orchestration-terminal.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{init:e=>{d.value.socketRequest({params:o,onMessage:t=>{-1===t.data&&u.request(t),e(t.msg)}})}}});break;case"delete":p(T.value)}}catch(n){}},ae=async()=>{try{if(!T.value.path)return void(U.con=!1);const e={mod_name:"docker",sub_mod_name:"com",def_name:"get_project_ps",path:T.value.path,ws_callback:"get_project_ps"};U.con=!0,d.value.socketRequest({params:e,onMessage:e=>{O.value=a(e.data,"array",[]),U.con=!1,O.value.map((e=>{e.port=e.Ports.split(",").filter((e=>""!==e))}))}})}catch(e){}},se=async()=>{try{if(!T.value.path)return void(U.log=!1);const e={mod_name:"docker",sub_mod_name:"com",def_name:"get_logs",path:T.value.path,ws_callback:"get_logs"};U.log=!0;let t=0;const l=[];d.value.socketRequest({params:e,onMessage:e=>{U.log=!1;let s=a(e.msg,"string","",null,!0);if("暂无日志信息"===s)return H.value=s,void(t=0);t>=200&&l.shift(),l.push(s),t++,H.value=l.join("\n")}})}catch(e){}};return y((()=>{A.value=te})),(e,t)=>{const a=W,l=J,s=X,n=K,c=L,m=Q,d=N,p=me,v=r,h=k("bt-loading");return x(),w("div",be,[C("div",{class:"mt-[1.6rem] bg-white rounded-[.4rem]",style:P("height: calc(100% - ".concat(R(i)>800?410:255,"px)"))},[t[3]||(t[3]=C("div",{class:"card-title"},"容器列表",-1)),I((x(),w("div",je,[(x(!0),w(q,null,S(R(O),(e=>(x(),w("div",{class:"card-item con-item w-full",key:e.ID},[C("div",De,[C("div",Re,[C("div",{class:"flex items-center",style:{width:"calc(100% - 160px)"},title:e.Name},[C("span",Ie,B(e.Name),1),b(n,{placement:"bottom",onCommand:t=>(async(e,t)=>{const a={id:t.ID,status:e};o({request:oe({data:JSON.stringify(a)}),loading:"正在设置容器状态，请稍后...",message:!0})})(t,e)},{dropdown:j((()=>[b(s,null,{default:j((()=>[(x(!0),w(q,null,S(Z(e.State),(e=>(x(),G(l,{key:e.command,command:e.command},{default:j((()=>[D(B(e.text),1)])),_:2},1032,["command"])))),128))])),_:2},1024)])),default:j((()=>[b(a,{type:ee(e.State).type,class:"status-tag w-[5rem] text-center ml-[.5rem]",title:""},{default:j((()=>[D(B(ee(e.State).text),1)])),_:2},1032,["type"])])),_:2},1032,["onCommand"])],8,Ve),C("div",Pe,[b(m,{effect:"dark",content:"容器终端",placement:"top","open-delay":500},{default:j((()=>[b(c,{onClick:t=>R(ce)({id:e.ID,status:e.State})},{default:j((()=>t[1]||(t[1]=[C("div",{class:"flex items-center"},[C("span",{class:"fileTerminal-icon"}),D("终端")],-1)]))),_:2},1032,["onClick"])])),_:2},1024),b(m,{effect:"dark",content:"容器日志",placement:"top","open-delay":500},{default:j((()=>[b(c,{type:"default",onClick:t=>(async e=>{try{const t=await ne({container_id:e.ID});t.status?(z.value="容器【".concat(e.Name,"】日志"),$.value=t.msg,Y.value=!0):u.error(t.msg)}catch(t){}})(e),class:"ml-[1rem]"},{default:j((()=>t[2]||(t[2]=[C("div",{class:"flex items-center"},[C("span",{class:"record-icon"}),D("日志")],-1)]))),_:2},1032,["onClick"])])),_:2},1024)])]),C("div",{class:"text-[#ccc] w-[40%] truncate mt-[-.4rem]",title:e.ID},B(e.ID),9,qe)]),C("div",{class:M(["flex items-center justify-between mt-[1.2rem]",e.port.length>0?"mt-[1.6rem]":""])},[C("div",Se,[(x(!0),w(q,null,S(e.port,(e=>(x(),G(a,{key:e,type:"info"},{default:j((()=>[D(B(e),1)])),_:2},1024)))),128))])],2)])))),128)),0!==R(O).length||R(U).con?F("",!0):(x(),G(d,{key:0,style:{height:"calc(100% - 50px)"},description:"暂无容器"}))])),[[h,R(U).con],[h,"正在获取容器列表","title"]])],4),C("div",Ee,[t[4]||(t[4]=C("div",{class:"card-title"},"编排日志",-1)),I((x(),w("div",{class:"card-item p-[1.6rem] h-full",style:P({height:R(i)>800?"33rem":"18rem"})},[b(p,{title:"全屏查看-编排日志",content:R(H),isHtml:!0,fullScreen:{title:"全屏查看-编排日志",onRefresh:se},class:"h-full font-[PingFang SC]"},null,8,["content","fullScreen"])],4)),[[h,R(U).log],[h,"正在获取编排日志","title"]])]),b(v,{title:R(z),area:[60,40],modelValue:R(Y),"onUpdate:modelValue":t[0]||(t[0]=e=>V(Y)?Y.value=e:null)},{default:j((()=>[b(p,{title:"全屏查看-日志",content:R($),isHtml:!0,isRefreshBtn:!1,class:"h-[40rem] font-[PingFang SC]"},null,8,["content"])])),_:1},8,["title","modelValue"])])}}}),[["__scopeId","data-v-601e3f7d"]]),Te={class:"h-full"},Le={class:"px-[1.6rem] pb-[1.6rem] h-full"},Ae={class:"text-[1.4rem] mt-[.8rem] mb-[1.2rem] !pt-0 flex items-center truncate"},He=["title"],Ne={style:{height:"calc(100% - 75px)"}},Oe={class:"flex items-center justify-end mt-[1.6rem]"},Ue=c(p({__name:"orchestration-editor",setup(l){const s=n(),{mainHeight:o}=e(),{refs:{orchestrationData:c}}=le(),r=h("socketInstance"),i=h("restartCompose"),m=v(null),d=v(null),p=v(""),f=v(""),k={config:"",env:""};let I=!0;const q=v(null),S=v(0),E={mode:"ace/mode/yaml",theme:"ace/theme/chrome"},M=g((()=>c.value.currentCompose));_((()=>M.value.path),(()=>{T()})),_((()=>c.value.refreshItem),(e=>{T()}));const T=async()=>{try{const e={mod_name:"docker",sub_mod_name:"com",def_name:"get_config",path:M.value.path,ws_callback:"get_config"},t=await r.value.socketRequest({params:e});t.status?(I=!1,k.config=a(t.data.config,"string",""),k.env=a(t.data.env,"string",""),p.value=k.config,f.value=k.env,Y((()=>{I=!0}))):s.error(t.msg),setTimeout((()=>{S.value=q.value.offsetWidth-20}),100)}catch(e){}},A=async()=>{try{await t({title:"保存文件",width:"35rem",icon:"warning-filled",content:"即将保存文件，保存后将重启容器编排，是否继续？"});const e={mod_name:"docker",sub_mod_name:"com",def_name:"save_config",config:p.value,env:f.value,path:M.value.path,ws_callback:"save_config"},a=await r.value.socketRequest({params:e});a.status?(i.value=!0,k.config=p.value,k.env=f.value):s.request(a)}catch(e){H()}},H=()=>{I=!1,p.value=k.config,f.value=k.env,Y((()=>{I=!0}))};return y((()=>{})),(e,t)=>{const a=de,l=L;return x(),w("div",Te,[C("div",{ref_key:"editorRef",ref:q,class:"bg-white rounded-[.4rem] mt-[1.6rem] h-full"},[t[6]||(t[6]=C("div",{class:"card-title"},"配置文件",-1)),C("div",Le,[C("div",Ae,[t[3]||(t[3]=D(" docker-compose文件内容 ")),C("span",{class:"ml-[1rem] path",title:R(M).path,onClick:t[0]||(t[0]=e=>{return t={path:R(M).path},u("Path",t.path),void(window.location.href=window.location.origin+"/files");var t})},"跳转目录",8,He)]),C("div",Ne,[b(a,{ref_key:"yamlRef",ref:m,style:P(" height: calc(100% - ".concat(R(o)>800?316:224,"px)")),class:"compose-editor",modelValue:R(p),"onUpdate:modelValue":t[1]||(t[1]=e=>V(p)?p.value=e:null),autoSave:!1,request:{},editorOption:E,onSave:A},null,8,["style","modelValue"]),t[5]||(t[5]=C("div",{class:"my-[1rem] text-[1.4rem]"},".env",-1)),b(a,{ref_key:"envRef",ref:d,style:P({height:R(o)>800?"200px":"100px"}),modelValue:R(f),"onUpdate:modelValue":t[2]||(t[2]=e=>V(f)?f.value=e:null),autoSave:!1,request:{},editorOption:E,onSave:A},null,8,["style","modelValue"]),C("div",Oe,[b(l,{type:"primary",onClick:A},{default:j((()=>t[4]||(t[4]=[D("保存")]))),_:1})])])])],512)])}}}),[["__scopeId","data-v-b1194c9c"]]),Be={class:"relative h-full"},Fe={class:"p-[1.6rem] compose-menu !mt-[0rem] rounded-[.4rem] bg-white"},ze={class:"flex items-center justify-between"},We={class:"flex items-center"},Ge={class:"text-[1.8rem] whitespace-nowrap"},Je={class:"flex justify-center mt-[1.6rem] gap-[1rem] items-center text-[1.2rem] text-[#909399]"},Xe={class:"whitespace-nowrap"},Ke={class:"whitespace-nowrap"},Qe={class:"flex items-center ml-[5rem]"},Ye=c(p({__name:"index",setup(a){const{mainHeight:n,mainWidth:o}=e(),{refs:{orchestrationData:c}}=le(),r=v(null),u=v(!1),p=v(null),h=v(),f=e=>{switch(e){case"running":return{text:"运行中",type:"success"};case"exited":return{text:"已停止",type:"danger"};default:return{text:"异常",type:"warning"}}},_=v(!0),V=g((()=>c.value.currentCompose)),q=async e=>{l({isAsync:!0,component:()=>s((()=>import("./index184.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{wsConfirm:e},title:"添加容器编排",area:60,btn:"确定"})},S=async({params:e,close:t})=>{try{return new Promise((async(a,n)=>{await l({isAsync:!0,title:"添加日志 - 请耐心等待不要关闭此窗口",area:60,component:()=>s((()=>import("./orchestration-terminal.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{init:l=>{r.value.socketRequest({params:e,onMessage:e=>{t(),l(e.msg),-1===(null==e?void 0:e.data)&&(d.request(e),c.value.refreshList="force",a(e))}})}}})}))}catch(a){}},M=async()=>{var e;null==(e=r.value)||e.socketDestroy();const{socketRequest:t,socketDestroy:a}=ue("/ws_modsoc",!1);return r.value={socketRequest:t,socketDestroy:a},new Promise(((e,t)=>{e(r.value)}))};M(),$("isEmpty",_),$("socketInstance",r),$("delCompose",(async e=>{try{await t({icon:"warning-filled",title:"删除容器编排【".concat(e.name,"】"),width:"35rem",content:"将删除指定容器编排【".concat(e.name,"】,是否继续？")});const a={mod_name:"docker",sub_mod_name:"com",def_name:"delete",project_name:e.name,path:e.path,ws_callback:"delete"};return c.value.noRefresh=!0,new Promise(((e,t)=>{let l=d.load("正在删除中");r.value.socketRequest({params:a,onMessage:t=>{-1===(null==t?void 0:t.data)&&(l.close(),d.request(t),c.value.noRefresh=!1,c.value.refreshList=!0,e(t))}})}))}catch(a){}})),$("createNewSocket",M),$("addCompose",S),$("restartCompose",u),$("actionTerminal",p),$("commandEvent",h),$("createComposeDialog",q);return c.value.currentCompose.path="",c.value.currentCompose.name="",c.value.loading=!0,y((async()=>{})),Z((()=>{var e;c.value.currentCompose.path="",null==(e=r.value)||e.socketDestroy()})),(e,t)=>{const a=ee,l=L,s=te,r=m,u=ae,d=N,p=k("bt-loading");return x(),w("div",{class:"relative container-table-tab bg-[#f3f3f3]",style:P({height:"".concat(R(n)-130,"px")})},[C("div",Be,[b(u,{gutter:20,class:"!mx-0"},{default:j((()=>[b(a,{xs:24,sm:8,md:8,lg:5,xl:4,class:"!pl-0"},{default:j((()=>[b(Ce)])),_:1}),I((x(),G(a,{xs:24,sm:16,md:16,lg:19,xl:20,class:"!pl-[.8rem] !pr-0",style:P({height:"".concat(R(n)-100,"px"),overflowY:R(o)<984?"auto":"hidden",overflowX:"hidden"})},{default:j((()=>{var e,o,c,m;return[C("div",Fe,[C("div",ze,[C("div",We,[C("span",Ge,[C("span",null,B(null==(e=R(V))?void 0:e.name),1),C("span",Je,[C("span",Xe,"创建时间："+B((null==(o=R(V))?void 0:o.time)?R(i)(null==(c=R(V))?void 0:c.time):"--"),1),C("span",Ke,"容量数量："+B(null==(m=R(V))?void 0:m.container_count),1)])]),C("div",Qe,[b(s,null,{default:j((()=>["danger"===f(R(V).run_status).type?(x(),G(l,{key:0,type:"default",onClick:t[0]||(t[0]=e=>R(h)("start"))},{default:j((()=>t[6]||(t[6]=[D("启动")]))),_:1})):F("",!0),"danger"!==f(R(V).run_status).type?(x(),G(l,{key:1,type:"default",onClick:t[1]||(t[1]=e=>R(h)("stop"))},{default:j((()=>t[7]||(t[7]=[D("停止")]))),_:1})):F("",!0),"danger"!==f(R(V).run_status).type?(x(),G(l,{key:2,type:"default",onClick:t[2]||(t[2]=e=>R(h)("restart"))},{default:j((()=>t[8]||(t[8]=[D("重启")]))),_:1})):F("",!0),b(l,{type:"default",onClick:t[3]||(t[3]=e=>R(h)("update"))},{default:j((()=>t[9]||(t[9]=[D("更新镜像")]))),_:1}),b(l,{class:"!hover:bg-danger !hover:text-white !hover:border-danger",type:"default",onClick:t[4]||(t[4]=e=>R(h)("delete"))},{default:j((()=>t[10]||(t[10]=[D("删除")]))),_:1})])),_:1}),b(r,{class:"ml-[1.6rem]",onClick:R(re)},{default:j((()=>t[11]||(t[11]=[D("需求反馈")]))),_:1},8,["onClick"])])])])]),b(u,{gutter:20,style:P({height:"".concat(R(n)-178,"px")})},{default:j((()=>[b(a,{xs:24,sm:24,md:24,lg:14,xl:16,style:{height:"100%"}},{default:j((()=>[b(Me)])),_:1}),b(a,{xs:24,sm:24,md:24,lg:10,xl:8,style:{height:"100%"},class:"lt-xl:pt-[1.6rem]"},{default:j((()=>[b(Ue)])),_:1})])),_:1},8,["style"])]})),_:1},8,["style"])),[[E,!R(_)||R(c).loading],[p,R(c).loading],[p,"正在获取数据","title"]]),I(b(a,{class:"bg-white overflow-hidden rounded-[.4rem]",xs:24,sm:16,md:16,lg:19,xl:18},{default:j((()=>[b(d,{style:P({height:"".concat(R(n)-100,"px")}),description:"当前暂无容器编排"},{default:j((()=>[C("span",{class:"cursor-pointer text-primary hover:text-[#1d9534]",onClick:t[5]||(t[5]=e=>q(S))},"点击添加容器编排")])),_:1},8,["style"])])),_:1},512),[[E,R(_)&&!R(c).loading]])])),_:1})])],4)}}}),[["__scopeId","data-v-d6f25cd0"]]);export{Ye as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
