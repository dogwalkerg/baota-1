!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?t(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function r(t,n,r){return(n=function(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var a=r.call(t,n||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function a(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */a=function(){return n};var t,n={},r=Object.prototype,o=r.hasOwnProperty,u=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(t){d=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof b?t:b,o=Object.create(a.prototype),i=new D(r||[]);return u(o,"_invoke",{value:E(e,n,i)}),o}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}n.wrap=f;var m="suspendedStart",h="suspendedYield",v="executing",y="completed",g={};function b(){}function w(){}function x(){}var _={};d(_,l,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(U([])));j&&j!==r&&o.call(j,l)&&(_=j);var O=x.prototype=b.prototype=Object.create(_);function V(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function L(t,n){function r(a,u,i,l){var c=p(t[a],t,u);if("throw"!==c.type){var s=c.arg,d=s.value;return d&&"object"==e(d)&&o.call(d,"__await")?n.resolve(d.__await).then((function(e){r("next",e,i,l)}),(function(e){r("throw",e,i,l)})):n.resolve(d).then((function(e){s.value=e,i(s)}),(function(e){return r("throw",e,i,l)}))}l(c.arg)}var a;u(this,"_invoke",{value:function(e,t){function o(){return new n((function(n,a){r(e,t,n,a)}))}return a=a?a.then(o,o):o()}})}function E(e,n,r){var a=m;return function(o,u){if(a===v)throw Error("Generator is already running");if(a===y){if("throw"===o)throw u;return{value:t,done:!0}}for(r.method=o,r.arg=u;;){var i=r.delegate;if(i){var l=C(i,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===m)throw a=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=v;var c=p(e,n,r);if("normal"===c.type){if(a=r.done?y:h,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=y,r.method="throw",r.arg=c.arg)}}}function C(e,n){var r=n.method,a=e.iterator[r];if(a===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=p(a,e.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var u=o.arg;return u?u.done?(n[e.resultName]=u.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function U(n){if(n||""===n){var r=n[l];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var a=-1,u=function e(){for(;++a<n.length;)if(o.call(n,a))return e.value=n[a],e.done=!1,e;return e.value=t,e.done=!0,e};return u.next=u}}throw new TypeError(e(n)+" is not iterable")}return w.prototype=x,u(O,"constructor",{value:x,configurable:!0}),u(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,s,"GeneratorFunction"),n.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},n.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,d(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},n.awrap=function(e){return{__await:e}},V(L.prototype),d(L.prototype,c,(function(){return this})),n.AsyncIterator=L,n.async=function(e,t,r,a,o){void 0===o&&(o=Promise);var u=new L(f(e,t,r,a),o);return n.isGeneratorFunction(t)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},V(O),d(O,s,"Generator"),d(O,l,(function(){return this})),d(O,"toString",(function(){return"[object Generator]"})),n.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},n.values=U,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(S),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function r(r,a){return i.type="throw",i.arg=e,n.next=r,a&&(n.method="next",n.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var l=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var a=r.arg;S(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:U(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},n}function o(e,t,n,r,a,o,u){try{var i=e[o](u),l=i.value}catch(e){return void n(e)}i.done?t(l):Promise.resolve(l).then(r,a)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var u=e.apply(t,n);function i(e){o(u,r,a,i,l,"next",e)}function l(e){o(u,r,a,i,l,"throw",e)}i(void 0)}))}}System.register(["./index-legacy90.js?v=1734676359","./utils-lib-legacy.js?v=1734676359","./base-lib-legacy.js?v=1734676359","./validator-legacy.js?v=1734676359","./index-legacy97.js?v=1734676359","./index-legacy99.js?v=1734676359","./useStore-legacy7.js?v=1734676359","./column-legacy.js?v=1734676359","./site-legacy.js?v=1734676359","./__commonjsHelpers__-legacy.js?v=1734676359","./index-legacy91.js?v=1734676359"],(function(e,t){"use strict";var o,i,l,c,s,d,f,p,m,h,v,y,g,b,w,x,_,k,j,O,V,L,E,C,P,S,D,U,F,T,I,N,z,A,B,G,q,R,M,H,Y,J,X,K,Q,W,Z,$,ee,te,ne,re,ae,oe,ue,ie,le,ce,se,de,fe,pe;return{setters:[function(e){o=e._},function(e){i=e.u,l=e.t,c=e.j,s=e.bR,d=e.bb,f=e.ah,p=e.G,m=e.S,h=e.M,v=e.af,y=e.R,g=e.o,b=e.k,w=e._,x=e.h,_=e.e},function(e){k=e.r,j=e.h,O=e.e,V=e.n,L=e.R,E=e.aj,C=e.y,P=e.c,S=e.o,D=e.B,U=e.k,F=e.J,T=e.x,I=e.p,N=e.C,z=e.q,A=e.l,B=e.aX,G=e.I,q=e.v,R=e.z,M=e.M,H=e.A,Y=e.aT,J=e.ah,X=e.a7,K=e.af,Q=e.ad,W=e.a4,Z=e.ag},function(e){$=e.p,ee=e.i,te=e.ay},function(e){ne=e._},function(e){re=e._},function(e){ae=e.u},function(e){oe=e.u},function(e){ue=e.getBoceList,ie=e.modifyBoce,le=e.createBoce,ce=e.getBoceLog,se=e.getAlarmList,de=e.startBoce,fe=e.removeBoce,pe=e.removeTaskLog},null,null],execute:function(){var t=ae().siteInfo,me=i().payment,he=k([]),ve=k(!1);k(null);var ye=k(null),ge=k(!1),be=j({url:"",channel:[],name:"",cycle:10,method:"",alarm_count:5,address:"localhost",methodData:""}),we=j({p:1,limit:10,total:0}),xe=k([]),_e=k([]),ke=[{label:"ISP",prop:"isp"},{label:"解析IP",prop:"primary_ip"},{label:"状态",prop:"http_code"},{label:"总耗时",prop:"total_time",render:function(e){return Pe(1e3,500,e.total_time,"ms")}},{label:"解析耗时",prop:"namelookup_time",render:function(e){return Pe(500,100,e.namelookup_time,"ms")}},{label:"连接耗时",prop:"connect_time",render:function(e){return Pe(500,100,e.connect_time,"ms")}},{label:"处理耗时",prop:"starttransfer_time",render:function(e){return Pe(1e3,500,e.starttransfer_time,"ms")}},{label:"响应大小",prop:"size_download",render:function(e){return l(e.size_download)}},{label:"传输速度",prop:"speed_download",render:function(e){return l(e.speed_download)}},{label:"响应头",prop:"header",width:280,render:function(e){return O(c,{type:"textarea",readOnly:!0,rows:6,"model-value":e.header,class:"!w-full"},null)}}],je=k([]),Oe=k(!1),Ve=j({p:1,total:0,pid:0,url:""}),Le=k(!1),Ee=k([]),Ce=j({name:[s({message:"请输入任务名称"})],cycle:[s({message:"请输入监控频率"})],alarm_count:[s({message:"请输入告警次数"})],channel:[s({message:"请选择告警方式"})],methodData:[{validator:function(e,t,n){["delay","keyword"].includes(be.method)&&""===t?n(new Error("请输入告警条件")):n()},trigger:["blur","change"]}]}),Pe=function(e,t,n,r){var a="";return n>e?a="text-[#FF5722]":n>t&&(a="text-[#FFB800]"),O("span",{class:a},[n.toFixed(2)+r])},Se=function(e){be.channel=e},De=function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fe();case 2:delete be.id,be.name="".concat(null===(t=_e.value)||void 0===t||null===(t=t.find((function(e){return"status_code"===e.id})))||void 0===t?void 0:t.name," 【").concat(null===(n=xe.value[0])||void 0===n?void 0:n.name,"】"),ge.value=!0;case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve.value=!0,e.prev=1,e.next=4,se();case 4:n=e.sent,_e.value=[],Object.keys(n.data).forEach((function(e){_e.value.push({id:e,name:n.data[e]})})),_e.value=null===(t=_e.value)||void 0===t?void 0:t.filter((function(e){return"sensitive"!==e.id&&"similarity"!==e.id})),be.method="status_code",e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1);case 14:ve.value=!1;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=u(a().mark((function e(){var n,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve.value=!0,e.prev=1,e.next=4,d({table:"domain",list:"True",search:t.value.id});case 4:o=e.sent,xe.value=[],null===(n=o.data)||void 0===n||n.forEach((function(e){xe.value.push({name:"http://"+e.name,id:e.id}),xe.value.push({name:"https://"+e.name,id:e.id})})),be.url=null===(r=xe.value[0])||void 0===r?void 0:r.name,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),f(e.t0);case 13:ve.value=!1;case 14:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=u(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({loading:ve,request:ue({sid:t.value.id,p:we.p,row:we.limit}),data:{data:[Array,he],page:m(we),row:String}});case 2:n=e.sent,we.limit=Number(n.row);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=u(a().mark((function e(){var t,o,u;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("ltd"===me.value.authType||"node"!==be.address){e.next=3;break}return h.error("多节点测试为企业版专享功能，请升级为企业版后使用"),e.abrupt("return",!1);case 3:return e.next=5,ye.value.validate();case 5:return delete(t=n(n({},be),{},r({channel:Array.isArray(be.channel)?be.channel:be.channel.join(",")},be.method,["delay","keyword"].includes(be.method)?be.methodData:1))).methodData,o=be.id?ie:le,e.next=10,p({loading:"正在提交,请稍候...",request:o(t),data:{status:Boolean,msg:String}});case 10:(u=e.sent).status?(h.success(u.msg),Te()):h.msg({customClass:"el-error-html-message",dangerouslyUseHTMLString:!0,message:u.msg,showClose:!0,type:"error",duration:5e3}),He();case 13:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=u(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=h.load("正在执行，请稍候..."),e.prev=1,e.next=4,de({id:t.id});case 4:(r=e.sent).status?(Oe.value=!0,je.value=r.data,Te()):h.request(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),f(e.t0);case 11:return e.prev=11,n.close(),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[1,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({loading:"正在删除，请稍后...",request:fe({id:t.id,action:"del"}),message:!0});case 2:e.sent.status&&Te();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({title:"删除日志【".concat(t.id,"】"),content:"删除后，该条日志将永久删除，是否继续操作？"});case 2:return e.next=4,p({loading:"正在删除，请稍后...",request:pe({id:t.id}),message:!0});case 4:e.sent.status&&Ge();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=h.load("正在获取日志，请稍候...");try{Ve.pid=t.id,Ve.url=t.url,Ve.p=1,Ge((function(e){if(!e.data.length)return h.success("暂无日志");Le.value=!0}))}catch(r){}finally{n.close()}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=u(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p({request:ce({pid:Ve.pid,p:Ve.p}),data:{data:[Array,Ee],"page.page":m(Ve)}});case 2:n=e.sent,t&&t(n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(be.address="localhost","node"!==t){e.next=6;break}return e.next=4,Me();case 4:e.sent&&(be.address="node");case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){V((function(){var t;ye.value.clearValidate("methodData"),be.methodData="status_code"===e||"size"===e?"1":"",be.name="".concat(null===(t=_e.value)||void 0===t||null===(t=t.find((function(t){return t.id===e})))||void 0===t?void 0:t.name," 【").concat(be.url,"】")}))},Me=function(){var e=u(a().mark((function e(){var t,n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v({sName:"bt_boce"});case 3:if(t=e.sent,!(n=t.data).status){e.next=7;break}return e.abrupt("return",!0);case 7:if(!(n.endtime<0)){e.next=11;break}$({disablePro:!0,sourceId:182}),e.next=13;break;case 11:return e.next=13,ee({name:"bt_boce",softData:n});case 13:return e.abrupt("return",!1);case 16:e.prev=16,e.t0=e.catch(0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),He=function(){ge.value=!1,ye.value.resetFields(),ye.value.clearValidate()},Ye=function(){var e=u(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g({title:"".concat(t.status?"停用拨测告警":"启用拨测告警"),content:"".concat(t.status?"停用后,检测到问题时将不会发送告警通知，是否继续？":"启用后,检测到问题时将会发送告警通知，是否继续？"),icon:"warning-filled"});case 2:return e.next=4,p({loading:"正在设置，请稍后...",request:ie({id:t.id,status:t.status?0:1}),message:!0});case 4:e.sent.status&&Te();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Je=function(e){var t;be.name="".concat(null===(t=_e.value[0])||void 0===t?void 0:t.name," 【").concat(e,"】")},Xe=L([{label:"任务名称",prop:"name",showOverflowTooltip:!0},{label:"监控频率",render:function(e){return"".concat(e.cycle,"分钟")}},{label:"触发条件",prop:"trigger_condition",showOverflowTooltip:!0},{label:"最后执行时间",width:148,render:function(e){return y(e.last_run_time)||"--"}},{label:"状态\t",prop:"method",width:54,render:function(e){return O(E,{modelValue:!!e.status,size:"small",onChange:function(){return Ye(e)}},null)}},oe([{onClick:Ne,title:"执行"},{onClick:function(e){ge.value=!0,Object.keys(be).forEach((function(t){var n;switch(t){case"method":be.method=e.status_code?"status_code":e.size?"size":e.delay?"delay":"keyword";break;case"methodData":be.methodData=e.delay||e.size||e.keyword||e.status_code;break;case"channel":be.channel=null===(n=e.channel)||void 0===n?void 0:n.split(",");break;default:be[t]=e[t]}})),be.id=e.id},title:"编辑"},{onClick:Be,title:"日志"},{onClick:ze,title:"删除"}])]),Ke=L([{label:"ID",prop:"id",width:80},{label:"平均耗时",prop:"avgrage"},{label:"最快",prop:"min_isp",render:function(e){return O("span",null,[e.min_isp,C("（"),e.min,C("ms）")])}},{label:"最快",prop:"max_isp",render:function(e){return O("span",null,[e.max_isp,C("（"),e.max,C("ms）")])}},{label:"执行时间",prop:"addtime",width:150,render:function(e){return y(e.addtime)||"--"}},{label:"状态",prop:"status",width:75,render:function(e){var t=1==e.status;return O("span",{class:t?"text-primary":"text-danger"},[t?"执行成功":"执行错误"])}},oe([{onClick:Ae,title:"删除"}])]),Qe={class:"p-[20px]"},We={class:"flex items-center justify-center"},Ze={class:"flex items-center"},$e={class:"inline-block text-[#666] text-[1.2rem] mr-[4px]"},et={class:"ml-4px"},tt={key:0,class:"inline-block text-[#666] text-[1.2rem] mr-[4px]"},nt={key:1,class:"inline-block text-[#666] text-[1.2rem] mr-[4px]"},rt={class:"flex items-center"},at={class:"p-[20px]"},ot={class:"p-[20px]"},ut=P({__name:"index",setup:function(e,t){var n=t.expose,r=ae().siteInfo,a=function(){Te(),Ue()};return S(a),n({init:a}),function(e,t){var n=H,a=re,u=b,i=ne,l=Y,s=Z,d=J,f=X,p=c,m=K,h=w,v=Q,y=te,g=W,_=x,k=o,j=D("bt-loading");return U(),F(k,null,{"header-left":T((function(){return[O(n,{type:"primary",onClick:I(De)},{default:T((function(){return t[17]||(t[17]=[C(" 添加拨测告警 ")])})),_:1},8,["onClick"])]})),"header-right":T((function(){return[O(a,{onRefresh:I(Te)},null,8,["onRefresh"])]})),content:T((function(){return[N(O(u,{column:I(Xe),data:I(he)},null,8,["column","data"]),[[j,I(ve)]])]})),"footer-left":T((function(){return t[18]||(t[18]=[])})),"footer-right":T((function(){return[O(i,{page:I(we).p,"onUpdate:page":t[0]||(t[0]=function(e){return I(we).p=e}),row:I(we).limit,"onUpdate:row":t[1]||(t[1]=function(e){return I(we).limit=e}),total:I(we).total,onChange:t[2]||(t[2]=function(e){return I(Te)()})},null,8,["page","row","total"])]})),popup:T((function(){return[O(_,{title:"拨测告警",modelValue:I(ge),"onUpdate:modelValue":t[11]||(t[11]=function(e){return M(ge)?ge.value=e:null}),area:54,showFooter:"",onCancel:I(He),onConfirm:I(Ie)},{default:T((function(){return[z("div",Qe,[O(l,{type:"success",closable:!1},{title:T((function(){return t[19]||(t[19]=[z("div",{class:"text-[#666] text-[12px] py-[8px]"},[z("div",null,[z("b",null,"本地测试"),C(" ：本机发送请求，可能导致测试结果不准确等结果 ")]),z("div",null,[z("b",null,"多节点测试"),C(" （推荐）：通过宝塔部署在全国的多个节点上来实现更全面的覆盖和测试 ")])],-1)])})),_:1}),O(g,{"label-position":"right",ref_key:"boceFormRef",ref:ye,model:I(be),class:"mt-[16px]",rules:I(Ce)},{default:T((function(){return[O(f,{label:"监控网站URL",prop:"url"},{default:T((function(){return[O(d,{class:"!w-[32rem]",modelValue:I(be).url,"onUpdate:modelValue":t[3]||(t[3]=function(e){return I(be).url=e}),onChange:I(Je)},{default:T((function(){return[(U(!0),A(G,null,B(I(xe),(function(e,t){return U(),F(s,{key:t,label:e.name,value:e.name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),O(f,{label:"任务名称",prop:"name"},{default:T((function(){return[O(p,{modelValue:I(be).name,"onUpdate:modelValue":t[4]||(t[4]=function(e){return I(be).name=e}),width:"32rem"},null,8,["modelValue"])]})),_:1}),O(f,{label:"检测节点",prop:"address"},{default:T((function(){return[O(v,{modelValue:I(be).address,"onUpdate:modelValue":t[5]||(t[5]=function(e){return I(be).address=e}),onChange:I(qe)},{default:T((function(){return[O(m,{value:"localhost",disabled:!!I(be).id},{default:T((function(){return t[20]||(t[20]=[C(" 本地测试 ")])})),_:1},8,["disabled"]),O(m,{value:"node",disabled:!!I(be).id},{default:T((function(){return[z("div",We,[O(h,{icon:"icon-ltd",color:"#A88E5F",class:"mr-[4px]"}),t[21]||(t[21]=C(" 多节点测试 "))])]})),_:1},8,["disabled"])]})),_:1},8,["modelValue","onChange"])]})),_:1}),O(f,{label:"监控频率",prop:"cycle"},{default:T((function(){return[O(p,{"text-type":"分钟",modelValue:I(be).cycle,"onUpdate:modelValue":t[6]||(t[6]=function(e){return I(be).cycle=e}),type:"number",min:10},null,8,["modelValue"])]})),_:1}),O(f,{label:"告警类型",prop:"method"},{default:T((function(){return[O(d,{disabled:!!I(be).id,class:"!w-[32rem]",modelValue:I(be).method,"onUpdate:modelValue":t[7]||(t[7]=function(e){return I(be).method=e}),onChange:I(Re)},{default:T((function(){return[(U(!0),A(G,null,B(I(_e),(function(e,t){return U(),F(s,{key:t,label:e.name,value:e.id},null,8,["label","value"])})),128))]})),_:1},8,["disabled","modelValue","onChange"])]})),_:1}),["delay","keyword"].includes(I(be).method)?(U(),F(f,{key:0,label:" ",prop:"methodData"},{default:T((function(){return[z("div",Ze,[z("span",$e,q("delay"===I(be).method?"平均响应延迟大于":"当响应内容不包含"),1),O(p,{disabled:!!I(be).id,modelValue:I(be).methodData,"onUpdate:modelValue":t[8]||(t[8]=function(e){return I(be).methodData=e}),width:"18rem",class:"w-18rem",placeholder:"请输入关键词,分割"},null,8,["disabled","modelValue"]),z("span",et,q("delay"===I(be).method?"ms":"内容，触发告警"),1)])]})),_:1})):R("",!0),["size","status_code"].includes(I(be).method)?(U(),F(f,{key:1,label:" "},{default:T((function(){return["size"===I(be).method?(U(),A("span",tt," 网站大小变化告警 当网站响应内容大小发生变化达到20%时，将触发告警 ")):(U(),A("span",nt," 当网站响应状态不为正常状态(200、300、302)，将触发告警 "))]})),_:1})):R("",!0),O(f,{label:"告警次数",prop:"alarm_count"},{default:T((function(){return[z("div",rt,[t[22]||(t[22]=z("span",{class:"inline-block text-[#666] text-[1.2rem] mr-[4px]"}," 每日最多触发 ",-1)),O(p,{"text-type":"次",width:"12rem",class:"w-12rem",type:"number",min:1,modelValue:I(be).alarm_count,"onUpdate:modelValue":t[9]||(t[9]=function(e){return I(be).alarm_count=e})},null,8,["modelValue"]),t[23]||(t[23]=z("span",{class:"ml-4px"},"告警",-1))])]})),_:1}),O(f,{label:"告警方式",prop:"channel"},{default:T((function(){return[O(y,{modelValue:I(be).channel,"onUpdate:modelValue":t[10]||(t[10]=function(e){return I(be).channel=e}),limit:["sms"],needAll:!1,name:"channel",class:"!w-32rem",onChange:I(Se)},null,8,["modelValue","onChange"])]})),_:1})]})),_:1},8,["model","rules"])])]})),_:1},8,["modelValue","onCancel","onConfirm"]),O(_,{title:"查看扫描拨测结果-"+I(r).name,modelValue:I(Oe),"onUpdate:modelValue":t[12]||(t[12]=function(e){return M(Oe)?Oe.value=e:null}),area:120},{default:T((function(){return[z("div",at,[O(u,{column:I(ke),data:I(je),"max-height":500},null,8,["column","data"])])]})),_:1},8,["title","modelValue"]),O(_,{title:"查看任务记录【".concat(I(Ve).url,"】"),modelValue:I(Le),"onUpdate:modelValue":t[16]||(t[16]=function(e){return M(Le)?Le.value=e:null}),area:82},{default:T((function(){return[z("div",ot,[O(k,null,{content:T((function(){return[O(u,{column:I(Ke),data:I(Ee)},null,8,["column","data"])]})),"footer-right":T((function(){return[O(i,{page:I(Ve).p,"onUpdate:page":t[13]||(t[13]=function(e){return I(Ve).p=e}),row:I(we).limit,"onUpdate:row":t[14]||(t[14]=function(e){return I(we).limit=e}),total:I(Ve).total,layout:"prev, pager, next, total",onChange:t[15]||(t[15]=function(e){return I(Ge)()})},null,8,["page","row","total"])]})),_:1})])]})),_:1},8,["title","modelValue"])]})),_:1})}}});e("default",_(ut,[["__scopeId","data-v-005fb9cc"]]))}}}))}();
