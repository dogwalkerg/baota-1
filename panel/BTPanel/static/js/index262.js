import{am as e,aa as a}from"./utils-lib.js?v=1734676359";import{_ as l}from"./index90.js?v=1734676359";import{s as t,g as r,r as o,c as s,k as n,J as p,x as u,e as i,p as m,M as d,ag as c,ah as h,l as b}from"./base-lib.js?v=1734676359";import{u as g,J as _,K as v}from"./useStore5.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const f=r("FTP-LOG-STORE",(()=>({tabActive:o("loginLog"),actionType:o("all")}))),w=()=>t(f()),x=s({__name:"action-log",setup(a){const{actionType:t}=w(),{rowData:r}=g(),{BtSearch:o,BtRefresh:s,BtTable:b,BtPage:v,refresh:f}=e({request:e=>_({...e,user_name:r.value.name,type:t.value}),columns:[{width:110,label:"用户名",render:()=>r.value.name},{label:"操作IP",prop:"ip"},{width:220,label:"文件",prop:"file"},{width:80,label:"操作类型",prop:"type"},{label:"操作时间",prop:"time"}]});return(e,a)=>{const r=c,g=h,_=l;return n(),p(_,null,{"header-right":u((()=>[i(g,{modelValue:m(t),"onUpdate:modelValue":a[0]||(a[0]=e=>d(t)?t.value=e:null),class:"!w-[12rem] mr-[1rem]",onChange:m(f)},{default:u((()=>[i(r,{label:"全部",value:"all"}),i(r,{label:"上传",value:"upload"}),i(r,{label:"下载",value:"download"}),i(r,{label:"删除",value:"delete"}),i(r,{label:"重命名",value:"rename"})])),_:1},8,["modelValue","onChange"]),i(m(o),{type:"ftps",placeholder:"请输入操作IP/文件/类型/时间",class:"!w-[220px] mr-[10px]"}),i(m(s))])),content:u((()=>[i(m(b),{"min-height":400})])),"footer-right":u((()=>[i(m(v))])),_:1})}}}),y=s({__name:"login-log",setup(a){const{rowData:t}=g(),{BtSearch:r,BtRefresh:o,BtTable:s,BtPage:d}=e({request:e=>v({...e,user_name:t.value.name}),columns:[{width:120,label:"用户名",prop:"user"},{label:"登录IP",prop:"ip"},{label:"登录状态",render:(e,a)=>i("span",{class:"登录成功"===e.status?"text-primary":"text-danger"},[e.status])},{label:"登录时间",prop:"in_time"},{label:"登出时间",prop:"out_time"}]});return(e,a)=>{const t=l;return n(),p(t,null,{"header-right":u((()=>[i(m(r),{type:"ftps",placeholder:"请输入登录IP/状态/时间",class:"!w-[200px] mr-[10px]"}),i(m(o))])),content:u((()=>[i(m(s),{"min-height":400})])),"footer-right":u((()=>[i(m(d))])),_:1})}}}),j=[{label:"登录日志",name:"loginLog",render:()=>i(y,null,null)},{label:"操作日志",name:"actionLog",lazy:!0,render:()=>i(x,null,null)}],B={class:"p-8 overflow-y-hidden"},P=s({__name:"index",setup(e){const{tabActive:l}=w();return(e,t)=>{const r=a;return n(),b("div",B,[i(r,{type:"card",modelValue:m(l),"onUpdate:modelValue":t[0]||(t[0]=e=>d(l)?l.value=e:null),options:m(j)},null,8,["modelValue","options"])])}}});export{P as default};
