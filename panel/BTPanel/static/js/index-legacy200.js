System.register(["./utils-lib-legacy.js?v=1734676359","./base-lib-legacy.js?v=1734676359","./store-legacy.js?v=1734676359","./__commonjsHelpers__-legacy.js?v=1734676359","./store-legacy2.js?v=1734676359","./index-legacy88.js?v=1734676359","./validator-legacy.js?v=1734676359","./index-legacy91.js?v=1734676359","./column-legacy.js?v=1734676359"],(function(e,l){"use strict";var t,a,n,s,i,c,r,u,o,d,m,f,v,p,_,h,g,y,x,b,w,V,C,j,I,k,U,z,D,H,A,F,L,M;return{setters:[function(e){t=e.x,a=e.R,n=e.j,s=e.e,i=e.t,c=e.c,r=e.a4,u=e.aa},function(e){o=e.c,d=e.s,m=e.i,f=e.k,v=e.l,p=e.q,_=e.p,h=e.e,g=e.v,y=e.y,x=e.I,b=e.aX,w=e.bH,V=e.x,C=e.C,j=e.D,I=e.au,k=e.o,U=e.Q,z=e.aa,D=e.A,H=e.a1,A=e.B,F=e.M,L=e.ay},function(e){M=e.a0},null,null,null,null,null,null],execute:function(){var l={class:"flex flex-col h-[40rem]"},N={class:"item-card"},q={class:"item"},B={class:"title"},O=["src"],P={class:"con"},Q={class:"item-card"},R={class:"item"},S={class:"con"},X={class:"item"},$={class:"con overflow-ellipsis flex-1 break-all"},E={class:"item"},G={class:"con"},J={class:"item-card"},K={class:"item"},T={class:"con"},W={class:"item"},Y={class:"con"},Z={class:"item"},ee={class:"con"},le={class:"item-card !border-b-0"},te={class:"item"},ae={class:"con"},ne={class:"item"},se={class:"con"},ie=s(o({__name:"base",setup:function(e){var s=M(),i=d(s).fileItem,c=m((function(){return"".concat(i.value.path,"/").concat(i.value.name).replace(/\/\//g,"/")}));return function(e,s){var r=n;return f(),v("div",l,[p("div",N,[p("div",q,[p("div",B,[p("img",{class:"w-[5rem] h-[5rem]",src:"/static/images/file_icon/".concat(_(i).is_dir?"folder_win10":"file",".png"),alt:""},null,8,O)]),p("div",P,[h(r,{width:"38rem",modelValue:_(i).name,"onUpdate:modelValue":s[0]||(s[0]=function(e){return _(i).name=e}),disabled:""},null,8,["modelValue"])])])]),p("div",Q,[p("div",R,[s[2]||(s[2]=p("div",{class:"title"},"类型：",-1)),p("div",S,g(_(i).st_type||"未知文件"),1)]),p("div",X,[s[3]||(s[3]=p("div",{class:"title"},"文件路径:",-1)),p("div",$,[y(g(_(c))+" ",1),p("i",{class:"svgtofont-icon-copy cursor-pointer hover:text-primary text-[1.4rem] ml-[4px] align-middle",onClick:s[1]||(s[1]=function(e){return _(t)({value:"".concat(_(i).path,"/").concat(_(i).name)})})})])]),p("div",E,[s[4]||(s[4]=p("div",{class:"title"},"大小:",-1)),p("div",G,g(_(i).st_size),1)])]),p("div",J,[p("div",K,[s[5]||(s[5]=p("div",{class:"title"},"权限:",-1)),p("div",T,g(_(i).mode),1)]),p("div",W,[s[6]||(s[6]=p("div",{class:"title"},"所属组:",-1)),p("div",Y,g(_(i).group),1)]),p("div",Z,[s[7]||(s[7]=p("div",{class:"title"},"所属用户:",-1)),p("div",ee,g(_(i).user),1)])]),p("div",le,[p("div",te,[s[8]||(s[8]=p("div",{class:"title"},"访问时间:",-1)),p("div",ae,g(_(a)(_(i).st_atime)),1)]),p("div",ne,[s[9]||(s[9]=p("div",{class:"title"},"修改时间:",-1)),p("div",se,g(_(a)(_(i).st_mtime)),1)])])])}}}),[["__scopeId","data-v-0f41b8ea"]]),ce={class:"h-[40rem] pt-[.5rem] overflow-hidden"},re={class:"h-[36.5rem] overflow-y-auto"},ue={class:"title"},oe={class:"con"},de=s(o({__name:"detail",setup:function(e){var l=M(),t=d(l),a=(t.fileItem,t.attrList);return function(e,l){return f(),v("div",ce,[l[0]||(l[0]=p("div",{class:"item th"},[p("div",{class:"title"},"属性"),p("div",{class:"con"},"值")],-1)),p("div",re,[(f(!0),v(x,null,b(_(a),(function(e){return f(),v("div",{key:e.title,class:"item"},[p("div",ue,g(e.title),1),p("div",oe,g(e.value),1)])})),128))])])}}}),[["__scopeId","data-v-7bd1f992"]]),me={class:"h-[40rem] pt-[.5rem] overflow-hidden"},fe={class:"h-[36.5rem] overflow-y-auto"},ve={class:"w-[14rem]"},pe={class:"w-[8.5rem]"},_e={class:"con"},he={class:"w-[9rem] text-right"},ge=s(o({__name:"history",setup:function(e){var l=M(),t=d(l).fileItem,n=(l.showHistory,l.recoverHistory);return function(e,l){var s=c,r=I;return f(),v("div",me,[l[1]||(l[1]=w('<div class="item th" data-v-e0521c5d><div class="w-[14rem]" data-v-e0521c5d>修改时间</div><div class="w-[8.5rem]" data-v-e0521c5d>文件大小</div><div class="con" data-v-e0521c5d>MD5</div><div class="w-[9rem] text-right" data-v-e0521c5d>操作</div></div>',1)),p("div",fe,[(f(!0),v(x,null,b(_(t).history,(function(e){return f(),v("div",{key:e.md5,class:"item"},[p("div",ve,g(_(a)(e.st_mtime)),1),p("div",pe,g("".concat(_(i)(e.st_size))),1),p("div",_e,g(e.md5),1),p("div",he,[h(s,{onClick:function(l){return _(n)(e)}},{default:V((function(){return l[0]||(l[0]=[y("恢复")])})),_:2},1032,["onClick"])])])})),128)),C(h(r,{description:"暂无历史版本"},null,512),[[j,0===_(t).history.length]])])])}}}),[["__scopeId","data-v-e0521c5d"]]),ye={class:"h-[40rem] overflow-hidden"},xe={class:"flex justify-around"},be={class:"p-4px"},we={class:"p-4px"},Ve={class:"p-4px"},Ce={class:"flex items-center pl-[3rem]"},je=s(o({__name:"auth",setup:function(e){var l=M(),t=d(l).checkList,a=l.ownerOptions,s=l.checkNumber,i=l.changeUser,c=l.setFileAuths,u=l.reversePermission,o=l.getFileAuths;return k((function(){o()})),function(e,l){var o=U,d=z,m=n,g=r,x=D;return f(),v("div",ye,[p("div",xe,[p("fieldset",be,[l[9]||(l[9]=p("legend",null,"所有者",-1)),h(d,{class:"flex flex-col",style:{gap:"4px"},modelValue:_(t).owner,"onUpdate:modelValue":l[0]||(l[0]=function(e){return _(t).owner=e}),onChange:_(u)},{default:V((function(){return[h(o,{class:"ml-[1rem]",label:"r"},{default:V((function(){return l[6]||(l[6]=[y("读取")])})),_:1}),h(o,{class:"ml-[1rem]",label:"w"},{default:V((function(){return l[7]||(l[7]=[y("写入")])})),_:1}),h(o,{class:"ml-[1rem]",label:"x"},{default:V((function(){return l[8]||(l[8]=[y("执行")])})),_:1})]})),_:1},8,["modelValue","onChange"])]),p("fieldset",we,[l[13]||(l[13]=p("legend",null,"用户组",-1)),h(d,{class:"flex flex-col",style:{gap:"4px"},modelValue:_(t).group,"onUpdate:modelValue":l[1]||(l[1]=function(e){return _(t).group=e}),onChange:_(u)},{default:V((function(){return[h(o,{class:"ml-[1rem]",label:"r"},{default:V((function(){return l[10]||(l[10]=[y("读取")])})),_:1}),h(o,{class:"ml-[1rem]",label:"w"},{default:V((function(){return l[11]||(l[11]=[y("写入")])})),_:1}),h(o,{class:"ml-[1rem]",label:"x"},{default:V((function(){return l[12]||(l[12]=[y("执行")])})),_:1})]})),_:1},8,["modelValue","onChange"])]),p("fieldset",Ve,[l[17]||(l[17]=p("legend",null,"公共",-1)),h(d,{class:"flex flex-col",modelValue:_(t).public,"onUpdate:modelValue":l[2]||(l[2]=function(e){return _(t).public=e}),style:{gap:"4px"},onChange:_(u)},{default:V((function(){return[h(o,{class:"ml-[1rem]",label:"r"},{default:V((function(){return l[14]||(l[14]=[y("读取")])})),_:1}),h(o,{class:"ml-[1rem]",label:"w"},{default:V((function(){return l[15]||(l[15]=[y("写入")])})),_:1}),h(o,{class:"ml-[1rem]",label:"x"},{default:V((function(){return l[16]||(l[16]=[y("执行")])})),_:1})]})),_:1},8,["modelValue","onChange"])])]),p("div",Ce,[h(m,{width:"6rem",modelValue:_(t).auth,"onUpdate:modelValue":l[3]||(l[3]=function(e){return _(t).auth=e}),onInput:_(s),class:"!w-6rem",type:"number",min:"0",max:"777",oninput:"if(value){value=value.replace(/[^\\d]/g,'')} if(value<=0){value=0} if(value>777){value=777}"},null,8,["modelValue","onInput"]),l[20]||(l[20]=p("div",{class:"mx-[1rem]"},"权限，所有者",-1)),h(g,{modelValue:_(t).user,"onUpdate:modelValue":l[4]||(l[4]=function(e){return _(t).user=e}),options:_(a),class:"!w-[10rem]",onChange:_(i)},null,8,["modelValue","options","onChange"]),h(o,{class:"ml-[1rem]",modelValue:_(t).isDir,"onUpdate:modelValue":l[5]||(l[5]=function(e){return _(t).isDir=e})},{default:V((function(){return l[18]||(l[18]=[y("应用到子目录")])})),_:1},8,["modelValue"]),h(x,{type:"primary",class:"!ml-[2rem]",onClick:_(c)},{default:V((function(){return l[19]||(l[19]=[y("应用")])})),_:1},8,["onClick"])])])}}}),[["__scopeId","data-v-1ce83970"]]),Ie={class:"p-2rem"};e("default",o({__name:"index",props:{compData:{default:function(){return{fileItem:{},tab:"routine"}}}},setup:function(e){var l=M(),t=d(l),a=t.activeName,n=t.load,s=l.getFileItem,i=l.$reset;return k((function(){s()})),H((function(){i()})),function(e,l){var t=L,s=u,i=A("bt-loading");return C((f(),v("div",Ie,[h(s,{modelValue:_(a),"onUpdate:modelValue":l[0]||(l[0]=function(e){return F(a)?a.value=e:null}),type:"card"},{default:V((function(){return[h(t,{label:"常规",name:"routine",lazy:""},{default:V((function(){return[h(ie)]})),_:1}),h(t,{label:"详细信息",name:"detail",lazy:""},{default:V((function(){return[h(de)]})),_:1}),h(t,{label:"历史版本",name:"history",lazy:""},{default:V((function(){return[h(ge)]})),_:1}),h(t,{label:"权限",name:"auth",lazy:""},{default:V((function(){return[h(je)]})),_:1})]})),_:1},8,["modelValue"])])),[[i,_(n)],[i,"正在获取文件信息，请稍候...","title"]])}}}))}}}));
