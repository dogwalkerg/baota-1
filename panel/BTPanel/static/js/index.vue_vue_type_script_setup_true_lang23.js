import{c as e,i as l,o as a,a1 as s,k as t,J as o,x as r,e as p,p as d,X as n,q as i,y as u,z as m,a7 as c,aN as _,Q as f,A as b}from"./base-lib.js?v=1734676359";import{D as h,bR as V,bS as w,_ as x,E as y,j as k,a4 as v,c as j}from"./utils-lib.js?v=1734676359";import{n as g,i as C,a as U,b as N,$ as q,c as z,o as A,v as B,g as D,d as E}from"./index58.js?v=1734676359";const F={class:"flex items-center"},I={class:"flex items-center"},J={class:"flex items-center custom-refresh-select"},Q={class:"el-input-group__append !h-3rem !flex items-center"},R={class:"flex items-center"},S=e({__name:"index",setup(e,{expose:S}){const{BtForm:X,submit:$,param:G}=h({data:g.value,options:e=>l((()=>[{type:"input",label:"项目名称",key:"project_name",attrs:{class:"!w-[32rem]",placeholder:"请输入项目名称"},rules:[V({message:"请输入项目名称"})]},{type:"slots",key:"project_path",rules:{project_path:[V({message:"请输入项目路径"})]}},{type:"input",label:"启动命令",key:"project_cmd",attrs:{class:"!w-[32rem]",placeholder:"请输入项目的启动命令",onInput:e=>C()},rules:[V({message:"请输入项目执行命令"})]},{type:"slots",key:"port",rules:{port:[w()]}},{type:"slots",key:"dotnet_version",rules:{dotnet_version:[V({message:"请选择Net版本"})]}},{type:"slots",key:"other"}])),submit:U});return a(N),s(q),S({onConfirm:$,init:N}),(e,l)=>{const a=x,s=y,h=k,V=c,w=_,g=f,C=v,U=j,N=b;return t(),o(d(X),{class:"p-[20px]","label-width":"100px"},{project_path:r((()=>[p(V,{label:"运行路径",prop:"project_path"},{default:r((()=>[p(h,{width:"32rem",disabled:d(z),modelValue:d(G).project_path,"onUpdate:modelValue":l[0]||(l[0]=e=>d(G).project_path=e),placeholder:"项目的运行路径"},n({_:2},[d(z)?void 0:{name:"append",fn:r((()=>[p(s,{onClick:d(A)},{default:r((()=>[p(a,{icon:"el-folder-opened",class:"cursor-pointer"})])),_:1},8,["onClick"])])),key:"0"}]),1032,["disabled","modelValue"])])),_:1})])),port:r((()=>[p(V,{label:"项目端口",prop:"port"},{default:r((()=>[i("div",F,[p(h,{width:"20rem",type:"number",class:"mr-[12px]",modelValue:d(G).port,"onUpdate:modelValue":l[1]||(l[1]=e=>d(G).port=e),placeholder:"项目真实端口"},null,8,["modelValue"]),d(z)?m("",!0):(t(),o(g,{key:0,modelValue:d(G).release_firewall,"onUpdate:modelValue":l[2]||(l[2]=e=>d(G).release_firewall=e)},{default:r((()=>[l[9]||(l[9]=u(" 放行端口 ")),p(w,{class:"item",effect:"dark",content:"选中将在防火墙安全组放行监听端口，放行后该项目可在外网访问",placement:"right"},{default:r((()=>l[8]||(l[8]=[i("i",{class:"svgtofont-el-question-filled text-warning"},null,-1)]))),_:1})])),_:1},8,["modelValue"]))])])),_:1})])),dotnet_version:r((()=>[p(V,{label:"Net版本",prop:"dotnet_version"},{default:r((()=>[i("div",I,[i("div",J,[p(C,{modelValue:d(G).dotnet_version,"onUpdate:modelValue":l[3]||(l[3]=e=>d(G).dotnet_version=e),disabled:!d(B).length||d(z),options:d(B),class:"!w-[16rem]"},null,8,["modelValue","disabled","options"]),i("div",Q,[p(s,{title:"刷新Net版本",class:"!flex",onClick:l[4]||(l[4]=e=>d(D)(!0))},{default:r((()=>[p(a,{icon:"el-refresh",class:"!text-[14px]"})])),_:1})])]),p(U,{class:"ml-[8px]",onClick:d(E)},{default:r((()=>l[10]||(l[10]=[u("版本管理")]))),_:1},8,["onClick"])])])),_:1})])),other:r((()=>[p(V,{label:"开机启动"},{default:r((()=>[p(g,{modelValue:d(G).is_power_on,"onUpdate:modelValue":l[5]||(l[5]=e=>d(G).is_power_on=e)},{default:r((()=>l[11]||(l[11]=[u(" 是否设置开机自动启动（默认自带守护进程每120秒检测一次） ")]))),_:1},8,["modelValue"])])),_:1}),p(V,{label:"启动用户"},{default:r((()=>[i("div",R,[p(C,{modelValue:d(G).run_user,"onUpdate:modelValue":l[6]||(l[6]=e=>d(G).run_user=e),class:"mr-[8px] !w-[16rem]",options:[{label:"www",value:"www"},{label:"root",value:"root"}]},null,8,["modelValue"])])])),_:1}),p(V,{label:"项目备注"},{default:r((()=>[p(h,{width:"32rem",modelValue:d(G).project_ps,"onUpdate:modelValue":l[7]||(l[7]=e=>d(G).project_ps=e),placeholder:"输入项目备注，非必填"},null,8,["modelValue"])])),_:1}),d(z)?(t(),o(V,{key:0,label:" "},{default:r((()=>[p(N,{type:"primary",onClick:d($)},{default:r((()=>l[12]||(l[12]=[u("保存配置")]))),_:1},8,["onClick"])])),_:1})):m("",!0)])),_:1})}}});export{S as _};
