import{k as e,j as l,h as a}from"./utils-lib.js?v=1734676359";import{c as o,s as t,o as s,k as m,l as r,e as d,x as u,p as n,y as i,q as p,M as c,A as f,a7 as _,a4 as h}from"./base-lib.js?v=1734676359";import{B as V}from"./index185.js?v=1734676359";import{_ as b}from"./index90.js?v=1734676359";import{I as j}from"./validator.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./ace.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const g={class:"p-[20px]"},x={class:"p-[20px]"},C=o({__name:"compile-install",setup(o){const{config:C,getCustomModuleData:w,setCustomModuleData:A,handleAddCustomModule:v,clearAddForm:y,submitCustomModule:M}=j(),{rules:U,tableColumn:k,customData:S,customForm:D,customVisible:F}=t(j());return s(w),(o,t)=>{const s=f,j=e,w=b,R=l,q=_,z=V,B=h,E=a;return m(),r("div",g,[d(w,null,{"header-left":u((()=>[d(s,{type:"primary",onClick:n(v)},{default:u((()=>t[5]||(t[5]=[i("添加自定义模块")]))),_:1},8,["onClick"])])),content:u((()=>[d(j,{ref:"customTableRef",column:n(k),"max-height":"30rem",data:n(S),onSelectAll:n(A),onSelect:n(A)},{empty:u((()=>t[6]||(t[6]=[p("div",{class:"flex items-center justify-center"},"列表为空",-1)]))),_:1},8,["column","data","onSelectAll","onSelect"])])),_:1}),d(E,{modelValue:n(F),"onUpdate:modelValue":t[4]||(t[4]=e=>c(F)?F.value=e:null),title:"添加自定义选装模块",area:"56","show-footer":"",onConfirm:n(M),onCancel:n(y)},{default:u((()=>[p("div",x,[d(B,{ref:"customFormRef",model:n(D),rules:n(U)},{default:u((()=>[d(q,{prop:"args_name",label:"模块名称"},{default:u((()=>[d(R,{modelValue:n(D).args_name,"onUpdate:modelValue":t[0]||(t[0]=e=>n(D).args_name=e),placeholder:"请输入模块名称，只能输入字母、数字、下划线",width:"30rem",clearable:""},null,8,["modelValue"])])),_:1}),d(q,{prop:"ps",label:"模块描述"},{default:u((()=>[d(R,{modelValue:n(D).ps,"onUpdate:modelValue":t[1]||(t[1]=e=>n(D).ps=e),maxlength:"30",placeholder:"请输入模块描述，30字以内",width:"30rem","show-word-limit":"",clearable:""},null,8,["modelValue"])])),_:1}),d(q,{prop:"args",label:"模块参数"},{default:u((()=>[d(R,{modelValue:n(D).args,"onUpdate:modelValue":t[2]||(t[2]=e=>n(D).args=e),placeholder:"如：--add-module=/tmp/echo/echo-nginx-module-master",width:"30rem",clearable:""},null,8,["modelValue"])])),_:1}),d(q,{prop:"init",label:"前置脚本"},{default:u((()=>[d(z,{ref:"AceEditor",modelValue:n(D).init,"onUpdate:modelValue":t[3]||(t[3]=e=>n(D).init=e),class:"!h-[32rem] !w-[36rem]","is-zoom":!0,"editor-option":n(C)},null,8,["modelValue","editor-option"])])),_:1})])),_:1},8,["model","rules"])])])),_:1},8,["modelValue","onConfirm","onCancel"])])}}});export{C as default};
