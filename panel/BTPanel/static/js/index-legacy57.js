!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}var e=["type_id"];function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function r(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){a(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function a(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,n||"default");if("object"!=t(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return n};var e,n={},r=Object.prototype,a=r.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function p(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{p({},"")}catch(e){p=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,o=Object.create(a.prototype),u=new N(r||[]);return i(o,"_invoke",{value:L(t,n,u)}),o}function v(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=f;var h="suspendedStart",y="suspendedYield",d="executing",m="completed",g={};function b(){}function x(){}function w(){}var _={};p(_,c,(function(){return this}));var k=Object.getPrototypeOf,j=k&&k(k(q([])));j&&j!==r&&a.call(j,c)&&(_=j);var P=w.prototype=b.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){p(t,e,(function(t){return this._invoke(e,t)}))}))}function S(e,n){function r(o,i,u,c){var s=v(e[o],e,i);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==t(p)&&a.call(p,"__await")?n.resolve(p.__await).then((function(t){r("next",t,u,c)}),(function(t){r("throw",t,u,c)})):n.resolve(p).then((function(t){l.value=t,u(l)}),(function(t){return r("throw",t,u,c)}))}c(s.arg)}var o;i(this,"_invoke",{value:function(t,e){function a(){return new n((function(n,a){r(t,e,n,a)}))}return o=o?o.then(a,a):a()}})}function L(t,n,r){var a=h;return function(o,i){if(a===d)throw Error("Generator is already running");if(a===m){if("throw"===o)throw i;return{value:e,done:!0}}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var c=E(u,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===h)throw a=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=d;var s=v(t,n,r);if("normal"===s.type){if(a=r.done?m:y,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(a=m,r.method="throw",r.arg=s.arg)}}}function E(t,n){var r=n.method,a=t.iterator[r];if(a===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,E(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var o=v(a,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,g;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function T(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function q(n){if(n||""===n){var r=n[c];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,i=function t(){for(;++o<n.length;)if(a.call(n,o))return t.value=n[o],t.done=!1,t;return t.value=e,t.done=!0,t};return i.next=i}}throw new TypeError(t(n)+" is not iterable")}return x.prototype=w,i(P,"constructor",{value:w,configurable:!0}),i(w,"constructor",{value:x,configurable:!0}),x.displayName=p(w,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===x||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,w):(t.__proto__=w,p(t,l,"GeneratorFunction")),t.prototype=Object.create(P),t},n.awrap=function(t){return{__await:t}},O(S.prototype),p(S.prototype,s,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,r,a,o){void 0===o&&(o=Promise);var i=new S(f(t,e,r,a),o);return n.isGeneratorFunction(e)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},O(P),p(P,l,"Generator"),p(P,c,(function(){return this})),p(P,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=q,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!t)for(var n in this)"t"===n.charAt(0)&&a.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,a){return u.type="throw",u.arg=t,n.next=r,a&&(n.method="next",n.arg=e),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=a.call(i,"catchLoc"),s=a.call(i,"finallyLoc");if(c&&s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&a.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),T(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var a=r.arg;T(n)}return a}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:q(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},n}function i(t,e,n,r,a,o,i){try{var u=t[o](i),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,a)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(r,a){var o=t.apply(e,n);function u(t){i(o,r,a,u,c,"next",t)}function c(t){i(o,r,a,u,c,"throw",t)}u(void 0)}))}}System.register(["./utils-lib-legacy.js?v=1734676359","./index-legacy90.js?v=1734676359","./index-legacy116.js?v=1734676359","./index-legacy124.js?v=1734676359","./base-lib-legacy.js?v=1734676359","./column-legacy.js?v=1734676359","./useController-legacy3.js?v=1734676359","./useStore-legacy7.js?v=1734676359","./site-legacy.js?v=1734676359","./validator-legacy.js?v=1734676359"],(function(t,n){"use strict";var a,i,c,s,l,p,f,v,h,y,d,m,g,b,x,w,_,k,j,P,O,S,L,E,C,T,N,q,I,G,B,M,D,F,A,J,z,R,H,V,Y,U,W,$,K,Q,X,Z,tt,et,nt,rt,at,ot,it,ut,ct,st,lt,pt,ft,vt,ht;return{setters:[function(t){a=t.ah,i=t.l,c=t.H,s=t.G,l=t.b,p=t.u,f=t.al,v=t.am,h=t.p,y=t.ao,d=t.c},function(t){m=t._},function(t){g=t._},function(t){b=t.u},function(t){x=t.g,w=t.b8,_=t.r,k=t.i,j=t.c,P=t.s,O=t.e,S=t.y,L=t.w,E=t.o,C=t.n,T=t.k,N=t.l,q=t.p,I=t.J,G=t.x,B=t.q,M=t.z,D=t.F},function(t){F=t.c,A=t.a,J=t.h,z=t.g,R=t.u},function(t){H=t.u,V=t.g,Y=t.a,U=t.b,W=t.l,$=t.o,K=t.h,Q=t.i,X=t.s,Z=t.j,tt=t.d,et=t.f,nt=t.k},function(t){rt=t.u,at=t.S},function(t){ot=t.getPyVersion,it=t.changeProjectConf,ut=t.createPythonProject,ct=t.getPythonAppInfo,st=t.getPythonProjectInfo,lt=t.pythonRecreateProject,pt=t.advanceCheckPort,ft=t.setProject,vt=t.removeProject},function(t){ht=t.f}],execute:function(){var yt=x("SITE-PYTHON-STORE",(function(){var t=function(){var t=u(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ot();case 3:return e=t.sent,t.abrupt("return",{data:e.data,status:e.status});case 7:t.prev=7,t.t0=t.catch(0),a(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return{checkPythonVersion:t}})),dt=l(),mt=rt(),gt=mt.activeType,bt=mt.isRefreshList,xt=mt.siteInfo,wt=mt.rowData,_t=at(),kt=(_t.getClassList,_t.getProjectConfig),jt=(_t.addGeneralProject,_t.getRootUser),Pt=_t.setSiteInfo,Ot=yt().checkPythonVersion,St=w("_python_mask",!1),Lt=function(){xt.value=null,i({title:"添加Python项目",area:[68],component:function(){return c((function(){return n.import("./index-legacy304.js?v=1734676359")}),void 0,n.meta.url)},showFooter:!0})},Et=function(){i({isAsync:!0,title:"设置命令行环境",area:60,component:function(){return c((function(){return n.import("./index-legacy305.js?v=1734676359")}),void 0,n.meta.url)}})},Ct=function(t){wt.value=t,i({title:"项目【".concat(t.name||"","】模块管理"),area:60,isAsync:!0,component:function(){return c((function(){return n.import("./index-legacy306.js?v=1734676359")}),void 0,n.meta.url)},compData:t})},Tt=function(t){i({title:"终端",area:[90,50],isAsync:!0,showFooter:!1,component:function(){return c((function(){return n.import("./index-legacy307.js?v=1734676359")}),void 0,n.meta.url)},compData:{hostInfo:{pj_name:t.name},row:t}})},Nt=function(){var t=u(o().mark((function t(e){var r,a=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=a.length>1&&void 0!==a[1]?a[1]:"",t.prev=1,!["running","failure"].includes(e.project_config.prep_status)){t.next=7;break}if("failure"!==e.project_config.prep_status){t.next=6;break}return t.next=6,lt({name:e.name});case 6:return t.abrupt("return",i({isAsync:!0,title:"正在创建Python项目，请耐心等候...",area:52,component:function(){return c((function(){return n.import("./index-legacy308.js?v=1734676359")}),void 0,n.meta.url)},compData:{type:"createPythonProject",logPath:"/www/server/python_project/vhost/logs/".concat(e.name,".log"),endMsg:"尝试启动项目",failMsg:"环境准备失败",successMsg:"创建成功",isClear:!0,completeEvent:function(){var t=u(o().mark((function t(e,n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e||dt.error("环境准备失败"),bt.value=!0,n();case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}}));case 7:Pt(e,r),i({title:"Python项目管理["+e.name+"] -- 添加时间["+e.addtime+"]",area:[84,76],component:function(){return c((function(){return n.import("./index-legacy309.js?v=1734676359")}),void 0,n.meta.url)}}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(1);case 14:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),qt=function(){var t=u(o().mark((function t(){var e;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Ot();case 3:e=t.sent,St.value=!1,e.data.cpy_installed.length||e.data.pypy_installed.length||(St.value=!0),Bt.value=e.data.cpy_installed.concat(e.data.pypy_installed),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(){return t.apply(this,arguments)}}(),It=function(){var t=u(o().mark((function t(e){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.port){t.next=2;break}return t.abrupt("return",!1);case 2:return t.prev=2,t.next=5,pt({port:e.port},"python");case 5:return(n=t.sent).status||(dt.request(n),e.port=""),t.abrupt("return",n.status);case 10:t.prev=10,t.t0=t.catch(2);case 13:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(e){return t.apply(this,arguments)}}(),Gt=function(t){var e=t.split("\n").filter((function(t){return""!==t})),n=[];return e.forEach((function(t){var e=t.split("=");n.push({k:e[0],v:e[1]})})),n},Bt=t("v",_()),Mt=t("u",_([])),Dt=t("a",k((function(){var t;return null===(t=xt.value)||void 0===t?void 0:t.id}))),Ft=_([]),At=t("p",_({envType:0,rfile:"",pjname:"",port:"",path:"",framework:"",stype:"command",xsgi:"wsgi",requirement_path:!1,auto_run:!1,venv_path:"",version:"",parm:"",env:"",envPath:"",app:"",processes:"",threads:"",user:"www",is_http:!0,listenMsg:"",initialize:""})),Jt=t("g",u(o().mark((function t(){var e,n,r,a=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=a.length>0&&void 0!==a[0]&&a[0],t.prev=1,t.next=4,Ot();case 4:if(r=t.sent,Bt.value=[],Bt.value=r.data.cpy_installed.concat(r.data.pypy_installed),!e){t.next=9;break}return t.abrupt("return",dt.success("Python版本，刷新成功"));case 9:At.value.version=r.data.cpy_installed[0]||"",Ft.value=r.data.command_path.filter((function(t){return"project"===t.type})),At.value.venv_path=null===(n=Ft.value[0])||void 0===n?void 0:n.python_path,t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1);case 17:case"end":return t.stop()}}),t,null,[[1,14]])})))),zt=(t("i",u(o().mark((function t(){var e,n,a,i,u,c,s,l,p,f;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Jt();case 3:return t.next=5,jt();case 5:if(e=t.sent,Mt.value=e.data,!Dt.value){t.next=17;break}return t.next=10,kt({data:JSON.stringify({name:xt.value.name})});case 10:n=t.sent,a=n.data,i=a.project_config,u=a.listen,c=i.call_app,s=i.env_file,l=i.env_list,p=i.stype,f=i.project_cmd,s&&(At.value.envPath=s,At.value.envType=2),(null==l?void 0:l.length)>0&&(o=l,At.value.env=o.map((function(t){return t.k+"="+t.v})).join("\n"),At.value.envType=1,At.value.envType=1),Object.assign(At.value,r(r({},i),{},{app:c,requirement_path:!!i.requirement_path,parm:"command"===p?f:""})),!u.includes(Number(At.value.port))&&u.length>0&&(At.value.listenMsg="当前监听端口".concat(u.join(",")));case 17:t.next=22;break;case 19:t.prev=19,t.t0=t.catch(0);case 22:case"end":return t.stop()}var o}),t,null,[[0,19]])})))),t("$",(function(){Object.assign(At.value,{envType:0,rfile:"",pjname:"",port:"",path:"",framework:"",stype:"command",xsgi:"wsgi",requirement_path:!1,auto_run:!1,venv_path:"",version:"",parm:"",env:"",envPath:"",app:"",processes:"",threads:"",user:"www",is_http:!0,listenMsg:"",initialize:""})})),t("s",function(){var t=u(o().mark((function t(e){var n,a,i,u,c,l,p,f,v,h,y,d,m,g,b,x,w,_,k,j,P,O,S,L,E,C,T;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,Dt.value||"command"===e.stype){t.next=8;break}return t.next=4,It(e);case 4:if(t.sent){t.next=8;break}return dt.error("端口被占用，请更换端口"),t.abrupt("return",!1);case 8:return a=e.pjname,i=e.port,u=e.path,c=e.version,l=e.parm,p=e.framework,f=e.requirement_path,v=e.envPath,h=e.stype,y=e.rfile,d=e.app,m=e.initialize,g=e.processes,b=e.threads,x=e.is_http,w=e.user,_=e.auto_run,k=e.envType,j=e.env,P=e.xsgi,O="command"!==h,1===k&&(j=Gt(j)),S=(null===(n=xt.value)||void 0===n||null===(n=n.project_config)||void 0===n?void 0:n.requirement_path)||void 0,L={pjname:a,port:i,stype:h,path:u,user:w,requirement_path:f?S:void 0,env_file:2===k?v:"",env_list:JSON.stringify(1===k?j:[]),framework:p,project_cmd:O?void 0:l,xsgi:O?P:void 0,rfile:O?y:void 0,call_app:O?d:void 0,version:c},Dt.value?L=r(r({},L),{},{processes:g,threads:b,is_http:x,auto_run:_}):L.initialize=m,E={data:JSON.stringify(Dt.value?{name:xt.value.name,data:L}:L)},C=Dt.value?it:ut,t.next=18,s({loading:"正在提交，请稍后...",request:C(E),message:!0});case 18:return T=t.sent,bt.value=!0,t.abrupt("return",T.status);case 23:t.prev=23,t.t0=t.catch(0);case 26:case"end":return t.stop()}}),t,null,[[0,23]])})));return function(e){return t.apply(this,arguments)}}()),t("o",(function(){ht({type:"dir",path:At.value.path,change:function(t){if(t){var e;At.value.path=t;var n=null===(e=t.substring(t.lastIndexOf("/")+1))||void 0===e?void 0:e.replace(/\./g,"_").replace(/\/\//g,"/");At.value.pjname=n,Rt()}}})})),t("c",(function(){ht({type:"file",path:At.value.rfile,change:function(t){At.value.rfile=t,zt()}})})),t("e",(function(){ht({type:"file",path:At.value.envPath,change:function(t){At.value.envPath=t}})})),t("d",u(o().mark((function t(){var e,n,r,i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,ct({runfile:At.value.rfile});case 3:if((e=t.sent).status){t.next=7;break}return dt.request(e),t.abrupt("return");case 7:n=e.data,r=n.framework,i=n.xsgi,u=n.call_app,r&&(At.value.framework=e.data.framework),i&&(At.value.xsgi=e.data.xsgi),u&&(At.value.app=e.data.call_app),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),a(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))))),Rt=t("b",u(o().mark((function t(){var e,n,r,i,u,c,s;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=At.value.path,t.next=4,st({path:e});case 4:if((n=t.sent).status){t.next=8;break}return dt.request(n),t.abrupt("return");case 8:r=n.data,i=r.framework,r.requirement_path,u=r.runfile,c=r.xsgi,s=r.call_app,i&&(At.value.framework=n.data.framework),u&&(At.value.rfile=n.data.runfile),c&&(At.value.xsgi=n.data.xsgi),s&&(At.value.app=n.data.call_app),t.next=18;break;case 15:t.prev=15,t.t0=t.catch(0),a(t.t0);case 18:case"end":return t.stop()}}),t,null,[[0,15]])})))),Ht=function(){var t=u(o().mark((function t(e,n,a,i){var c,s,l,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=i.label,s=i.value,l=new Map([["start","批量启动选中项目后，项目将正常访问"],["stop","批量停用选中的项目后，项目将会停止运行"],["restart","批量重启选中的项目后，项目将会重新启动"],["delete","批量删除选中的项目后，项目将无法恢复"]]),p=function(){var t=u(o().mark((function t(e,n){var a,i,u,c;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=new Map([["start",ft],["stop",ft],["restart",ft],["delete",vt]]),i=e.name,u=a.get(s),t.t0=s,t.next="start"===t.t0||"stop"===t.t0||"restart"===t.t0?6:"delete"===t.t0?13:17;break;case 6:if(!u){t.next=13;break}return t.next=9,u({data:JSON.stringify({name:i})},gt.value,s);case 9:if(c=t.sent,"start"!==s){t.next=12;break}return t.abrupt("return",r(r({},e),{},{batchStatus:c.status?1:2,message:c.msg.replace(/<br>/g,"\n")}));case 12:return t.abrupt("return",r(r({},e),{},{batchStatus:c.status?1:2,message:c.status?c.data.msg:c.data.data}));case 13:if(!u){t.next=17;break}return t.next=16,u({data:JSON.stringify({name:i})},gt.value);case 16:return t.abrupt("return",t.sent);case 17:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=5,e({title:"批量".concat(c),content:"".concat(l.get(s),"，是否继续操作？"),column:[{label:"项目名称",prop:"name"},F()],onConfirm:function(){var t=u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(p);case 2:return bt.value=!0,t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,a){return t.apply(this,arguments)}}(),Vt={class:"content-mask"},Yt={class:"flex items-center ml-[12px]"},Ut=j({__name:"index",setup:function(t){var a=p().mainHeight,i=at(),s=i.getSiteList,l=i.setSiteInfo,x=P(at()),w=x.activeType,_=x.isRefreshList,k=x.siteInfo,j=x.searchWidth,F=f({options:[{type:"button",label:"添加Python项目",active:!0,onClick:Lt},{type:"button",label:"Python版本管理",onClick:function(){return W("py")}},{type:"button",label:"命令行环境管理",onClick:Et},{type:"button",label:"项目守护隔离时间",onClick:K}]}).BtOperation,rt=b({key:"type_id",name:"Python分类",options:function(){return[{label:"全部分类",value:"all"}]},event:Q,ignore:["0"],field:"type_name"}),ot=y([{label:"启动项目",value:"start",event:Ht},{label:"停用项目",value:"stop",event:Ht},{label:"重启项目",value:"restart",event:Ht},tt(),et({classList:nt}),{label:"删除项目",value:"delete",event:Ht}]),it=v({request:function(t){var n=t.type_id,a=function(t,e){if(null==t)return{};var n,r,a=function(t,e){if(null==t)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}(t,e);return s({data:JSON.stringify(r(r({},a),{},{type_id:h(n)||"all"===n?"":n}))})},columns:[A(),H({onClick:Nt}),V({onClick:function(t,e){if("setting"!==e){var n=t.run?"stop":"start";X(t,"restart"===e?e:n)}else Nt(t,"state")}}),J(),Y(),z({table:"sites",width:200}),U({onClick:function(t){return Nt(t,"ssl")}}),R([{title:"终端",onClick:Tt},{title:"设置",onClick:function(t){return Nt(t)}},{title:"模块",onClick:Ct},{title:"删除",onClick:function(t){Z(t,w.value)}}])],extension:[rt,ot],empty:function(){return O("span",null,[S("您的列表为空，您可以"),O("span",{class:"bt-link",onClick:Lt},[S("添加一个项目")])])}}),ut=it.BtTable,ct=it.BtPage,st=it.BtRefresh,lt=it.BtSearch,pt=it.BtColumn,ft=it.BtBatch,vt=it.BtTableCategory,ht=it.refresh,yt=it.config;return L(_,function(){var t=u(o().mark((function t(e){var n,r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return t.next=3,ht();case 3:null!==(n=k.value)&&void 0!==n&&n.name&&(r=yt.data.find((function(t){return t.name===k.value.name})))&&l(r),_.value=!1;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),E((function(){qt(),C((function(){c((function(){return n.import("./index-legacy304.js?v=1734676359")}),void 0,n.meta.url),c((function(){return n.import("./index-legacy309.js?v=1734676359")}),void 0,n.meta.url)}))})),function(t,e){var n=d,r=g,o=m;return T(),N("div",null,[q(St)?(T(),I(r,{key:0},{content:G((function(){return[B("div",Vt,[e[3]||(e[3]=B("i",{class:"svgtofont-el-warning text-warning !text-[2.2rem] mr-4px"},null,-1)),e[4]||(e[4]=S(" 未安装Python版本， ")),O(n,{onClick:e[0]||(e[0]=function(t){return q(W)("py",q(ht))}),class:"!text-[1.4rem]"},{default:G((function(){return e[2]||(e[2]=[S("点击安装")])})),_:1})])]})),_:1})):M("",!0),O(o,null,{"header-left":G((function(){return[O(q(F)),B("div",Yt,[O(n,{href:"https://www.bt.cn/bbs/thread-125161-1-1.html"},{default:G((function(){return e[5]||(e[5]=[S(" Python项目教程 ")])})),_:1}),e[6]||(e[6]=B("i",{class:"svgtofont-el-link text-primary text-[1.6rem] ml-[4px]"},null,-1))]),B("div",{class:"flex items-center ml-1rem <xl:hidden",onClick:e[1]||(e[1]=function(){return q($)&&q($).apply(void 0,arguments)})},e[7]||(e[7]=[B("i",{class:"svgtofont-desired text-[1.6rem]"},null,-1),B("span",{class:"bt-link"},"需求反馈",-1)]))]})),"header-right":G((function(){return[O(q(vt),{class:"!w-[140px] mr-[10px]"}),O(q(lt),{class:D(["mr-[10px]","!w-[".concat(q(j),"px]")]),placeholder:"请输入项目名称或备注"},null,8,["class"]),O(q(st),{class:"mr-[10px]"}),O(q(pt))]})),content:G((function(){return[O(q(ut),{"max-height":q(a)-220},null,8,["max-height"])]})),"footer-left":G((function(){return[O(q(ft))]})),"footer-right":G((function(){return[O(q(ct))]})),_:1})])}}}),Wt=Object.freeze(Object.defineProperty({__proto__:null,default:Ut},Symbol.toStringTag,{value:"Module"}));t("f",Wt)}}}))}();
