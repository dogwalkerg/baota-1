import{c as e,s,o as l,k as a,l as t,q as i,e as n,x as o,N as r,p as c,I as m,aX as p,v as d,A as u,i as f,a1 as v,J as x,z as h,M as w,C as y,D as g}from"./base-lib.js?v=1734676359";import{e as _,F as k,_ as b}from"./utils-lib.js?v=1734676359";import{S as C}from"./validator.js?v=1734676359";const R=""+new URL("../images/soft_ico/hot.png",import.meta.url).href,j=""+new URL("../images/soft_ico/hots.png",import.meta.url).href,L={class:"type-item"},S={class:"type-name justify-between"},H={class:"history-list relative max-h-[20rem] overflow-x-hidden overflow-y-auto"},E=["onClick","title"],P={class:"truncate leading-16px"},V=["onClick"],A={class:"type-item"},I={class:"search-list"},N=["onClick"],U={class:"type-item"},z={class:"recommend-list"},D=["onClick"],F=["src"],M=_(e({__name:"history",setup(e){const{historyList:f,softSearchList:v,softRecommendList:x}=s(C()),{handleOpenPluginEvent:h,getHotSoft:w,clearFindHistoryEvent:y,inputHistoryEvent:g,clearAllHistoryEvent:_,initHistory:k}=C();return l(k),(e,s)=>{const l=u;return a(),t("div",{class:"history-box w-[580px] !lt-xl:w-[50rem] !lt-lg:w-[36rem] !<md:w-[30rem] !lt-sm:w-[20rem]",onMousedown:s[0]||(s[0]=r((()=>{}),["prevent"]))},[i("div",L,[i("span",S,[s[2]||(s[2]=i("span",null,"搜索历史",-1)),n(l,{type:"default",size:"small",onClick:r(c(_),["stop"])},{default:o((()=>s[1]||(s[1]=[i("span",{class:"flex items-center"},[i("i",{class:"svgtofont-el-delete mr-[4px]"}),i("span",null,"清空")],-1)]))),_:1},8,["onClick"])]),i("div",H,[(a(!0),t(m,null,p(c(f),((e,s)=>(a(),t("div",{class:"history-item max-w-[calc(100%+1rem)] h-[3rem]",onClick:s=>c(g)(e.val),title:e.val},[i("span",P,d(e.val),1),i("i",{class:"svgtofont-el-close p-[2px]",onClick:r((l=>c(y)(e.val,s)),["stop"])},null,8,V)],8,E)))),256))])]),i("div",A,[s[3]||(s[3]=i("span",{class:"type-name"},[i("span",null,"搜索排行"),i("img",{class:"w-[2.4rem] h-[1.2rem] ml-[.5rem]",src:R,alt:""})],-1)),i("div",I,[(a(!0),t(m,null,p(c(v),(e=>(a(),t("div",{class:"search-item",onClick:s=>c(h)(e.ename)},d(e.name),9,N)))),256))])]),i("div",U,[s[4]||(s[4]=i("span",{class:"type-name"},[i("span",null,"热门推荐"),i("img",{class:"w-[1.4rem] h-[1.4rem] ml-[.5rem]",src:j,alt:""})],-1)),i("div",z,[(a(!0),t(m,null,p(c(x),(e=>(a(),t("div",{class:"recommend-item",onClick:s=>c(h)(e.ename,210)},[i("img",{src:"../static/images/soft_ico/ico-".concat(e.ename,".png")},null,8,F),i("span",null,d(e.name),1)],8,D)))),256))])])],32)}}}),[["__scopeId","data-v-2e347b02"]]),q={class:"w-full flex items-center justify-between mb-[20px] flex-wrap"},J={class:"flex items-center"},O={class:"flex flex-1 relative"},X={class:"flex items-center mt-4px"},$=_(e({__name:"index",setup(e){const{searchRef:l,showNpsCollect:r,isLoading:m,searchVal:p,showRefresh:d,tabActive:_}=s(C()),{refreshRouteData:R,openNPS:j}=C(),L=f((()=>"deployment"===_.value));return v(C().$reset_history),(e,s)=>{const f=k,v=b,_=u;return a(),t("div",q,[i("div",J,[s[4]||(s[4]=i("span",{class:"w-[80px] pr-16px text-[14px] flex justify-end"},"应用搜索",-1)),i("div",O,[n(f,{class:"!w-[580px] !lt-xl:w-[50rem] !lt-lg:w-[36rem] !<md:w-[30rem] !lt-sm:w-[20rem]",ref_key:"searchRef",ref:l,modelValue:c(p),"onUpdate:modelValue":s[0]||(s[0]=e=>w(p)?p.value=e:null),disabledPopover:c(L),onSearch:s[1]||(s[1]=e=>c(R)("0",1)),placeholder:"支持应用名称、字段模糊搜索"},{default:o((()=>[c(d)?(a(),x(M,{key:0})):h("",!0)])),_:1},8,["modelValue","disabledPopover"]),y(i("span",{onClick:s[2]||(s[2]=(...e)=>c(j)&&c(j)(...e)),class:"ml-[2rem] whitespace-nowrap bt-link flex items-center"}," 未查询到搜索内容,提交需求反馈 ",512),[[g,c(r)]])])]),i("div",X,[n(_,{onClick:s[3]||(s[3]=e=>c(R)("1")),disabled:c(m)},{default:o((()=>[y(n(v,{icon:"el-loading mr-4px"},null,512),[[g,c(m)]]),s[5]||(s[5]=i("span",null,"更新软件列表 / 支付状态",-1))])),_:1},8,["disabled"])])])}}}),[["__scopeId","data-v-fe1c9c99"]]);export{$ as S};
