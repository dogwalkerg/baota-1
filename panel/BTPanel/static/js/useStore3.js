import{s as t,g as e}from"./base-lib.js?v=1734676359";import{n as a,a7 as o,G as s,b as c}from"./utils-lib.js?v=1734676359";const d=t=>a.post("/btdocker/container/del_container",{data:t,customType:"model",check:"msg"}),m=t=>a.post("/btdocker/container/get_logs",{data:t,loading:"获取日志,请稍候...",customType:"model",check:"object"}),r=t=>a.post("/btdocker/status/stats",{data:t,customType:"model",check:"object"}),i=()=>a.post("/btdocker/container/get_logs_all",{loading:"获取日志,请稍候...",customType:"model",check:"object"}),p=t=>a.post("/btdocker/container/clear_log",{data:t,customType:"model",check:"msg"}),l=t=>a.post("/btdocker/container/docker_split",{data:t,customType:"model",check:"msg"}),h=t=>a.post("/btdocker/container/set_container_status",{data:t,customType:"model",check:"msg"}),k=t=>a.post("/btdocker/container/run",{data:t,customType:"model",check:"msg"}),n=(t,e)=>a.post("/btdocker/".concat(e||"container","/run_cmd"),{data:t,customType:"model",check:"msg"}),g=t=>a.post("/btdocker/container/docker_shell",{data:t,customType:"model",check:"msg"}),u=t=>a.post("/btdocker/container/prune",{data:t,customType:"model",check:"msg"}),_=t=>a.post("/btdocker/container/update_restart_policy",{data:t,customType:"model",check:"msg"}),b=t=>a.post("/btdocker/network/connect",{data:t,loading:"加入网络,请稍候...",customType:"model",check:"object"}),y=t=>a.post("/btdocker/network/disconnect",{data:t,loading:"退出网络,请稍候...",customType:"model",check:"object"}),T=t=>a.post("/btdocker/container/commit",{data:t,loading:"创建镜像,请稍候...",customType:"model",check:"msg"}),D=t=>a.post("/btdocker/container/upgrade_container",{data:t,loading:"加载中,请稍候...",customType:"model",check:"msg"}),f=t=>a.post("/btdocker/compose/create",{data:t,customType:"model",loading:"添加项目,请稍候...",check:"msg"}),L=t=>a.post("/btdocker/compose/edit",{data:t,customType:"model",loading:"编辑项目,请稍候...",check:"msg"}),v=()=>a.post("btdocker/image/image_list",{customType:"model",check:"array"}),w=()=>a.post("/btdocker/registry/registry_list",{customType:"model",check:"array"}),j=t=>a.post("/btdocker/registry/add",{data:t,loading:"添加仓库",customType:"model",check:"msg"}),S=t=>a.post("/btdocker/registry/edit",{data:t,loading:"编辑仓库",customType:"model",check:"msg"}),R=t=>a.post("/btdocker/registry/remove",{data:t,loading:"删除仓库",customType:"model",check:"msg"}),x=t=>a.post("/btdocker/image/load",{data:t,customType:"model",loading:"导入镜像",check:"msg"}),A=t=>a.post("/btdocker/image/build",{data:t,customType:"model",loading:"构建镜像",check:"msg"}),C=t=>a.post("/btdocker/image/push",{data:t,customType:"model",loading:"推送镜像",check:"msg"}),M=t=>a.post("/btdocker/image/save",{data:t,customType:"model",loading:"导出镜像",check:"msg"}),B=t=>a.post("/btdocker/image/remove",{data:t,customType:"model",check:"object"}),G=t=>a.post("/btdocker/image/prune",{data:t,loading:"正在清理无用镜像,请稍候...",customType:"model",check:"msg"}),I=()=>a.post("/btdocker/network/get_host_network",{customType:"model",check:"array"}),N=t=>a.post("/btdocker/network/create_network",{data:t,customType:"model",loading:"正在添加网络,请稍候...",check:"msg"}),q=t=>a.post("/btdocker/network/del_network",{data:t,customType:"model",check:"msg"}),E=()=>a.post("/btdocker/network/prune",{customType:"model",check:"msg"}),O=()=>a.post("/btdocker/volume/get_volume_list",{customType:"model",check:"array"}),U=t=>a.post("/btdocker/volume/add",{data:t,customType:"model",check:"msg"}),z=t=>a.post("/btdocker/volume/remove",{data:t,customType:"model",check:"msg"}),P=()=>a.post("/btdocker/volume/prune",{customType:"model",check:"msg"}),W=()=>a.post("/btdocker/setup/get_config",{customType:"model",check:"object"}),F=()=>a.post("/btdocker/setup/get_registry_mirrors",{customType:"model",check:"object"}),J=t=>a.post("/btdocker/setup/set_registry_mirrors",{data:t,loading:"设置加速url,请稍候...",customType:"model",check:"msg"}),K=t=>a.post("/btdocker/setup/del_com_registry_mirror",{data:t,loading:"获取删除加速源,请稍候...",customType:"model",check:"msg"}),Q=t=>a.post("/btdocker/setup/docker_service",{data:t,loading:"设置docker状态,请稍候...",customType:"model",check:"msg"}),H=()=>a.post("/btdocker/setup/repair_docker",{loading:"修复docker程序,请稍候...",customType:"model",check:"msg"}),V=t=>a.post("/btdocker/setup/set_docker_monitor",{data:t,loading:"设置监控状态,请稍候...",customType:"model",check:"msg"}),X=t=>a.post("/btdocker/setup/set_monitor_save_date",{data:t,loading:"设置监控保存天数,请稍候...",customType:"model",check:"msg"}),Y=t=>a.post("/btdocker/setup/set_docker_compose_path",{data:t,loading:"设置docker compose路径,请稍候...",customType:"model",check:"msg"}),Z=t=>a.post("/btdocker/setup/save_daemon_json",{data:t,loading:"修改配置文件,请稍候...",customType:"model",check:"msg"}),$=()=>a.post("/btdocker/compose/template_list",{customType:"model",check:"array"}),tt=t=>a.post("/btdocker/compose/add_template",{data:t,loading:"添加项目模板,请稍候...",customType:"model",check:"msg"}),et=t=>a.post("/btdocker/compose/get_compose_project",{data:t,customType:"model",check:"array"}),at=t=>a.post("/btdocker/image/search",{data:t,customType:"model",check:"array"}),ot=t=>a.post("/btdocker/compose/add_template_in_path",{data:t,loading:"添加项目模板,请稍候...",customType:"model",check:"msg"}),st=t=>a.post("/btdocker/compose/get_template",{data:t,loading:"获取模板信息,请稍候...",customType:"model",check:"msg"}),ct=t=>a.post("/btdocker/compose/edit_template",{data:t,loading:"添加项目模板,请稍候...",customType:"model",check:"msg"}),dt=t=>a.post("/btdocker/compose/remove_template",{data:t,loading:"删除项目模板,请稍候...",customType:"model",check:"msg"}),mt=t=>a.post("/btdocker/compose/pull",{data:t,customType:"model",check:"msg"}),rt=()=>a.post("/btdocker/container/get_list",{customType:"model",check:"object"}),it=t=>a.post("/btdocker/backup/get_backup_list",{data:t,customType:"model",check:"array"}),pt=t=>a.post("/btdocker/backup/backup_volume",{data:t,customType:"model",check:"msg"}),lt=t=>a.post("/btdocker/backup/remove_backup",{data:t,customType:"model",check:"msg"}),ht=t=>a.post("/btdocker/container/rename_container",{data:t,customType:"model",loading:"正在重命名,请稍候...",check:"msg"}),kt=t=>a.post("/btdocker/setup/install_docker_program",{data:t,customType:"model",loading:"正在安装,请稍候...",check:"msg"}),nt=t=>a.post("/btdocker/proxy/get_cert_info",{data:t,customType:"model",check:"object"}),gt=t=>a.post("/btdocker/proxy/create_proxy",{data:t,customType:"model",loading:"正在设置,请稍候...",check:"msg"}),ut=t=>a.post("/btdocker/proxy/get_proxy_info",{data:t,customType:"model",check:"object"}),_t=t=>a.post("/btdocker/proxy/close_proxy",{data:t,customType:"model",loading:"正在关闭,请稍候...",check:"msg"}),bt=t=>a.post("/btdocker/container/set_container_to_top",{data:t,customType:"model",loading:"正在设置,请稍候...",check:"msg"}),yt=t=>a.post("/btdocker/container/set_container_remark",{data:t,customType:"model",loading:"正在设置,请稍候...",check:"msg"}),Tt=t=>a.post("/btdocker/container/get_container_merged",{data:t,customType:"model",check:"object"}),Dt=()=>a.post("/btdocker/container/get_other_container_data",{customType:"model",check:"array"}),ft=t=>a.post("/btdocker/setup/uninstall_docker_program",{data:t,customType:"model",loading:"正在卸载,请稍候...",check:"msg"}),Lt=()=>a.post("/btdocker/setup/uninstall_status",{customType:"model",loading:"正在检查状态,请稍候...",check:"msg"}),vt=t=>a.post("/btdocker/compose/check_use_template",{data:t,customType:"model",loading:"正在检查状态,请稍候...",check:"msg"}),wt=t=>a.post("/btdocker/setup/set_ipv6_global",{data:t,customType:"model",check:"msg"}),jt=()=>a.post("/btdocker/dkgroup/get_group",{customType:"model",check:"array"}),St=t=>a.post("/btdocker/dkgroup/add_group",{data:t,customType:"model",check:"msg"}),Rt=t=>a.post("/btdocker/dkgroup/update_group",{data:t,customType:"model",check:"msg"}),xt=t=>a.post("/btdocker/dkgroup/del_group",{data:t,customType:"model",check:"msg"}),At=t=>a.post("/btdocker/dkgroup/modify_group_status",{data:t,customType:"model",check:"msg"}),Ct=()=>a.post("/btdocker/dkgroup/docker_list",{customType:"model",check:"object"}),Mt=t=>a.post("/mod/docker/com/get_project_container_logs",{data:t,loading:"获取日志,请稍候...",customType:"model",check:"ignore"}),Bt=t=>a.post("/mod/docker/com/get_apps",{data:t,customType:"model",check:"msg"}),Gt=()=>a.post("/mod/docker/com/get_tags",{customType:"model",check:"object"}),It=t=>a.post("/mod/docker/com/get_backup_list",{data:t,customType:"model",check:"msg"}),Nt=t=>a.post("/mod/docker/com/backup_app",{data:t,customType:"model",check:"msg"}),qt=t=>a.post("/mod/docker/com/delete_backup",{data:t,customType:"model",check:"msg"}),Et=t=>a.post("/mod/docker/com/restore_backup",{data:t,customType:"model",check:"msg"}),Ot=t=>a.post("/mod/docker/com/get_installed_apps",{data:t,customType:"model",check:"object"}),Ut=t=>a.post("/mod/docker/com/get_app_log",{data:t,customType:"model",check:"msg"}),zt=t=>a.post("/mod/docker/com/get_app_installed_log",{data:t,customType:"model",check:"msg"}),Pt=t=>a.post("/mod/docker/com/create_app",{data:t,customType:"model",check:"msg"}),Wt=t=>a.post("/mod/docker/com/get_dependence_apps",{data:t,customType:"model",check:"msg"}),Ft=t=>a.post("/mod/docker/com/set_app_status",{data:t,customType:"model",check:"msg"}),Jt=t=>a.post("/mod/docker/com/remove_app",{data:t,customType:"model",check:"msg"}),Kt=t=>a.post("/mod/docker/com/update_app",{data:t,customType:"model",check:"msg"}),Qt=t=>a.post("/mod/docker/com/update_versions",{data:t,customType:"model",check:"object"}),Ht=t=>a.post("/mod/docker/com/edit_remark",{data:t,customType:"model",check:"msg"}),Vt=t=>a.post("/mod/docker/com/get_site_list",{data:t,customType:"model",check:"msg"}),Xt=t=>a.post("/mod/docker/com/set_site_status",{data:t,customType:"model",check:"msg"}),Yt=t=>a.post("/mod/docker/com/set_remak",{data:t,customType:"model",check:"msg"}),Zt=t=>a.post("/mod/docker/com/delete_site",{data:t,customType:"model",check:"msg"}),$t=t=>a.post("/mod/docker/com/batch_delete_site",{data:t,customType:"model",check:"msg"}),te=t=>a.post("/mod/docker/com/create_site",{data:t,customType:"model",check:"msg"}),ee=t=>a.post("/mod/docker/com/get_runtime_list",{data:t,customType:"model",check:"msg"}),ae=t=>a.post("/mod/docker/com/get_some_info",{data:t,customType:"model",check:"msg"}),oe=t=>a.post("/mod/docker/com/set_site_edate",{data:t,customType:"model",check:"msg"}),se=t=>a.post("/mod/docker/com/delete_runtime",{data:t,customType:"model",check:"msg"}),ce=t=>a.post("/mod/docker/com/batch_delete_runtime",{data:t,customType:"model",check:"msg"}),de=()=>a.post("/mod/docker/com/build_prune",{customType:"model",check:"msg"}),me=()=>a.post("/mod/docker/com/check_templates",{data:{force_update:1},customType:"model",check:"msg"}),re=t=>a.post("/mod/docker/com/get_runtime_logs",{data:t,customType:"model",check:"msg"}),ie=t=>a.post("/mod/docker/com/get_runtime_versions",{data:t,customType:"model",check:"msg"}),pe=t=>a.post("/mod/docker/com/get_all_exts",{data:t,customType:"model",check:"msg"}),le=t=>a.post("/mod/docker/com/get_php_ext_list",{data:t,customType:"model",check:"msg"}),he=t=>a.post("/mod/docker/com/".concat(t.id?"modify_runtime":"create_runtime"),{data:t,customType:"model",check:"msg"}),ke=t=>a.post("/mod/docker/com/set_runtime_status",{data:t,customType:"model",check:"msg"}),ne=t=>a.post("/mod/docker/com/".concat(t.id?"modify_php_ext_template":"create_php_ext_template"),{data:t,customType:"model",check:"msg"}),ge=t=>a.post("/mod/docker/com/delete_php_ext_template",{data:t,customType:"model",check:"msg"}),ue=t=>a.post("/mod/docker/com/batch_delete_php_ext_template",{data:t,customType:"model",check:"msg"}),_e=t=>a.post("/mod/docker/com/get_default_body",{data:t,customType:"model",check:"object"}),be=t=>a.post("/mod/docker/com/set_default_body",{data:t,customType:"model",check:"msg"}),ye=t=>a.post("/mod/docker/com/set_auto_create_404",{data:t,customType:"model",check:"msg"}),Te=()=>a.post("/mod/docker/com/get_default_site",{customType:"model",check:"object"}),De=t=>a.post("/mod/docker/com/set_default_site",{data:t,customType:"model",check:"msg"}),fe=()=>a.post("site/get_https_mode",{check:"boolean"}),Le=()=>a.post("site/set_https_mode",{check:"msg"}),ve=()=>a.post("/mod/docker/com/get_site_types",{customType:"model",check:"msg"}),we=t=>a.post("/mod/docker/com/".concat(t.id?"edit_site_type":"add_site_type"),{data:t,customType:"model",check:"msg"}),je=t=>a.post("/mod/docker/com/del_site_type",{data:t,customType:"model",check:"msg"}),Se=t=>a.post("/mod/docker/com/set_site_type",{data:t,customType:"model",check:"msg"}),Re=t=>a.post("/mod/docker/com/get_domain_list",{data:t,customType:"model",check:"msg"}),xe=t=>a.post("/mod/docker/com/add_domain",{data:t,customType:"model",check:"msg"}),Ae=t=>a.post("/mod/docker/com/".concat(t.del_domain_list?"batch_del_domain":"del_domain"),{data:t,customType:"model",check:"msg"}),Ce=t=>a.post("/mod/docker/com/set_https_port",{data:t,customType:"model",check:"msg"}),Me=t=>a.post("/mod/docker/com/add_proxy",{data:t,check:"msg",customType:"model"}),Be=t=>a.post("/mod/docker/com/add_sub_filter",{data:t,check:"msg",customType:"model"}),Ge=t=>a.post("/mod/docker/com/del_url_proxy",{data:t,check:"msg",customType:"model"}),Ie=t=>a.post("/mod/docker/com/del_sub_filter",{data:t,check:"msg",customType:"model"}),Ne=t=>a.post("/mod/docker/com/set_url_remark",{data:t,check:"msg",customType:"model"}),qe=t=>a.post("/mod/docker/com/set_url_proxy",{data:t,check:"msg",customType:"model"}),Ee=t=>a.post("/mod/docker/com/get_proxy_list",{data:t,check:"object",customType:"model"}),Oe=t=>a.post("/mod/docker/com/add_url_ip_limit",{data:t,check:"msg",customType:"model"}),Ue=t=>a.post("/mod/docker/com/batch_del_url_ip_limit",{data:t,check:"msg",customType:"model"}),ze=t=>a.post("/mod/docker/com/set_url_cache",{data:t,check:"msg",customType:"model"}),Pe=t=>a.post("/mod/docker/com/set_url_gzip",{data:t,check:"msg",customType:"model"}),We=t=>a.post("/mod/docker/com/del_url_ip_limit",{data:t,check:"msg",customType:"model"}),Fe=t=>a.post("/mod/docker/com/set_url_custom_conf",{data:t,check:"msg",customType:"model"}),Je=t=>a.post("/mod/docker/com/clear_cache",{data:t,check:"msg",customType:"model"}),Ke=t=>a.post("/mod/docker/com/get_global_conf",{data:t,check:"msg",customType:"model"}),Qe=t=>a.post("/mod/docker/com/add_dir_auth",{data:t,check:"msg",customType:"model"}),He=t=>a.post("/mod/docker/com/add_ip_limit",{data:t,check:"msg",customType:"model"}),Ve=t=>a.post("/mod/docker/com/batch_del_ip_limit",{data:t,check:"msg",customType:"model"}),Xe=t=>a.post("/mod/docker/com/set_global_cache",{data:t,check:"msg",customType:"model"}),Ye=t=>a.post("/mod/docker/com/set_global_gzip",{data:t,check:"msg",customType:"model"}),Ze=t=>a.post("/mod/docker/com/del_dir_auth",{data:t,check:"msg",customType:"model"}),$e=t=>a.post("/mod/docker/com/del_ip_limit",{data:t,check:"msg",customType:"model"}),ta=t=>a.post("/mod/docker/com/set_dir_auth",{data:t,check:"msg",customType:"model"}),ea=t=>a.post("/mod/docker/com/set_global_log",{data:t,check:"msg",customType:"model"}),aa=t=>a.post("/mod/docker/com/set_global_websocket",{data:t,check:"msg",customType:"model"}),oa=t=>a.post("/mod/docker/com/get_nginx_config",{data:t,check:"object",customType:"model"}),sa=t=>a.post("/mod/docker/com/save_block_config",{data:t,check:"msg",customType:"model"}),ca=t=>a.post("/mod/docker/com/CreateRedirect",{data:t,check:"msg",customType:"model"}),da=t=>a.post("/mod/docker/com/ModifyRedirect",{data:t,check:"msg",customType:"model"}),ma=t=>a.post("/mod/docker/com/DeleteRedirect",{data:t,check:"msg",customType:"model"}),ra=t=>a.post("/mod/docker/com/GetRedirectFile",{data:t,check:"object",customType:"model"}),ia=t=>a.post("/mod/docker/com/GetSecurity",{data:t,customType:"model",check:"object"}),pa=t=>a.post("/mod/docker/com/SetSecurity",{data:t,customType:"model",check:"msg"}),la=t=>a.post("/mod/docker/com/GetSiteLogs",{data:t,customType:"model",check:"msg"}),ha=t=>a.post("site/DelRewriteTel",{data:t,check:"msg"}),ka=t=>a.post("site/GetRewriteList",{data:t,check:"object"}),na=t=>a.post("/mod/docker/com/get_site_rewrite",{data:t,customType:"model",check:"msg"}),ga=t=>a.post("site/SetRewriteTel",{data:t,check:"msg"}),ua=t=>a.post("/mod/docker/com/set_site_rewrite",{data:t,customType:"model",check:"msg"}),_a=t=>a.post("/mod/docker/com/get_404_body",{data:t,customType:"model"}),ba=t=>a.post("/mod/docker/com/set_404_status",{data:t,customType:"model",check:"msg"}),ya=t=>a.post("/mod/docker/com/set_404_body",{data:t,customType:"model",check:"msg"}),Ta=t=>a.post("/mod/docker/com/get_site_path",{data:t,customType:"model",check:"msg"}),Da=t=>a.post("/mod/docker/com/set_site_path",{data:t,customType:"model",check:"msg"}),fa=t=>a.post("/mod/docker/com/set_site_run_path",{data:t,customType:"model",check:"msg"}),La=t=>a.post("/mod/docker/com/GetDirUserINI",{data:t,customType:"model",check:"msg"}),va=t=>a.post("/mod/docker/com/SetDirUserINI",{data:t,customType:"model",check:"msg"}),wa=t=>a.post("/mod/docker/com/get_php_project_info",{data:t,customType:"model",check:"msg"}),ja=t=>a.post("/mod/docker/com/switch_php_version",{data:t,customType:"model",check:"msg"}),Sa=t=>a.post("/mod/docker/com/set_proxy_buffering",{data:t,customType:"model",check:"msg"}),Ra=c(),xa=e("DOCKER-STORE",{state:()=>({tabActive:"deployment",refreshServerTable:!1,refreshCommonTable:!1,refreshMirrorTable:!1,containerLogTab:"",quickListData:[],currentConDetail:{},maxCPU:0,maxMem:0,loading:!1,refreshWs:!1,customLimit:{container:!1,images:!1,network:!1,storage:!1,warehouse:!1},deployMenuData:{app_type:"all",maximum_cpu:"--",maximum_memory:"--"},projectGroupData:{loading:!1,list:[]},orchestrationData:{refreshList:!1,refreshItem:!1,loading:!1,noRefresh:!1,isEdit:!1,currentCompose:{name:"",path:""}},cpuAndMemData:{},activeType:"",isRefreshTableList:!1,isRefreshAppList:!1,isRefreshInstallList:!1,isRefreshContainerList:!1,isRefreshSiteList:!1,isRefreshTemplateList:!1,isRefreshImagesList:!1,isRefreshNetworkList:!1,isRefreshStorageList:!1,isRefreshWarehouseList:!1,settingData:{service_status:!1,docker_installed:!1,docker_compose_installed:!1,docker_compose_path:"/usr/bin/docker-compose",monitor_status:!1,monitor_save_date:0,url:"11",options:[],daemon_path:"/etc/docker/daemon.json",installing:0,ipv6:!1,ipv6Address:"",bad_registry:!1,bad_registry_path:""}}),actions:{refreshActiveTable(){this.isRefreshTableList=!0},refreshSiteTable(){this.isRefreshSiteList=!0},resetRefresh(){this.isRefreshTableList=!1},chunkArray(t){const e=[];for(let a=0;a<t.list.length;a+=t.limit)e.push(t.list.slice(a,a+t.limit));return e},async getAppList(t){try{this.firstLoad.app&&(this.loading=!0);const s={p:this.deployMenuData.p,row:this.deployMenuData.row,query:this.deployMenuData.search};!0===t&&(s.force=1);const c=await(e=s,a.post("/btdocker/app/get_app_list",{data:e,customType:"model",check:"object"}));c.status&&(""!==this.deployMenuData.search||1===this.deployMenuData.p?(!0===t&&Ra.success("刷新成功"),this.deployMenuData.list=c.data.data):this.deployMenuData.list=[...this.deployMenuData.list,...c.data.data],this.firstLoad.app=!1,this.deployMenuData.total=o(c.data.page))}catch(s){}finally{this.loading=!1}var e},async getQuickList(){try{0===this.quickListData.length&&(this.loading=!0);const t=await a.post("/btdocker/project/get_project_list",{customType:"model",check:"msg"});this.quickListData=t.data}catch(t){}finally{this.loading=!1}},setContainerInfo(t,e){t.forEach(((t,a)=>{const o=e.find((e=>e.id===t.id));o&&(t.backup_count=o.backup_count,t.remark=o.remark)}))},sortContainerList:t=>t.sort(((t,e)=>1==t.is_top&&1!=e.is_top?-1:1!=t.is_top&&1==e.is_top?1:t.created_time>e.created_time?-1:1)),setTopContainerList(){this.containerTableData.list=this.sortContainerList(this.containerTableData.list),this.containerTableData.showList=this.chunkArray(this.containerTableData)[this.containerTableData.p-1]||[]},async getCurrentCon(t){var e;await s({request:(e={data:JSON.stringify({id:t})},a.post("/btdocker/container/get_container_info",{data:e,customType:"model",check:"object"})),success:t=>{t.status&&(this.currentConDetail=t.data)}})},async getIList(t){try{if(!1===t)return void(this.itemTableData.showList=this.chunkArray(this.itemTableData)[this.itemTableData.p-1]||[]);this.firstLoad.item&&(this.itemTableData.loading=!0);const e=await a.post("/btdocker/compose/compose_project_list",{customType:"model",check:"array"});this.firstLoad.item=!1,this.itemTableData.list=e.data,this.itemTableData.total=e.data.length,this.itemTableData.showList=this.chunkArray(this.itemTableData)[this.itemTableData.p-1]||[];(await a.post("/btdocker/compose/project_container_count",{customType:"model",check:"array"})).data.forEach(((t,e)=>{const a=this.itemTableData.list[e];this.itemTableData.list.splice(e,1,{...a,num:t})})),this.itemTableData.showList=this.chunkArray(this.itemTableData)[this.itemTableData.p-1]||[]}catch(e){}finally{this.itemTableData.loading=!1}},async getProjectGroup(){try{0===this.projectGroupData.list.length&&(this.projectGroupData.loading=!0);const{data:t}=await a.post("/btdocker/dkgroup/get_project_groups",{customType:"model",check:"msg"});this.projectGroupData.list=t.value}catch(t){}finally{this.projectGroupData.loading=!1}},async getTList(t){try{if(!1===t)return void(this.templateTableData.showList=this.chunkArray(this.templateTableData)[this.templateTableData.p-1]||[]);this.firstLoad.template&&(this.templateTableData.loading=!0);const e=await $();this.firstLoad.template=!1,this.templateTableData.list=e.data,this.templateTableData.total=e.data.length,this.templateTableData.showList=this.chunkArray(this.templateTableData)[this.templateTableData.p-1]||[]}catch(e){}finally{this.templateTableData.loading=!1}},async getMList(t){try{if(this.firstLoad.mirror&&(this.mirrorTableData.loading=!0),"page"===t)return void(this.mirrorTableData.showList=this.chunkArray(this.mirrorTableData)[this.mirrorTableData.p-1]||[]);const e=await v();this.firstLoad.mirror=!1,this.mirrorTableData.list=e.data,this.mirrorTableData.total=e.data.length,this.mirrorTableData.showList=this.chunkArray(this.mirrorTableData)[this.mirrorTableData.p-1]||[]}catch(e){}finally{this.mirrorTableData.loading=!1}},async getNList(t){try{if(!1===t)return void(this.netTableData.showList=this.chunkArray(this.netTableData)[this.netTableData.p-1]||[]);this.firstLoad.net&&(this.netTableData.loading=!0);const e=await I();this.firstLoad.net=!1,this.netTableData.list=e.data,this.netTableData.total=e.data.length,this.netTableData.showList=this.chunkArray(this.netTableData)[this.netTableData.p-1]||[]}catch(e){}finally{this.netTableData.loading=!1}},async getSList(t){try{if(!1===t)return void(this.storageTableData.showList=this.chunkArray(this.storageTableData)[this.storageTableData.p-1]||[]);this.firstLoad.storage&&(this.storageTableData.loading=!0);const e=await O();this.firstLoad.storage=!1,this.storageTableData.list=e.data,this.storageTableData.total=e.data.length,this.storageTableData.showList=this.chunkArray(this.storageTableData)[this.storageTableData.p-1]||[]}catch(e){}finally{this.storageTableData.loading=!1}},async getStash(t){try{if(!1===t)return void(this.stashTableData.showList=this.chunkArray(this.stashTableData)[this.stashTableData.p-1]||[]);this.firstLoad.stash&&(this.stashTableData.loading=!0);const e=await w();this.firstLoad.stash=!1,this.stashTableData.list=e.data,this.stashTableData.total=e.data.length,this.stashTableData.showList=this.chunkArray(this.stashTableData)[this.stashTableData.p-1]||[]}catch(e){}finally{this.stashTableData.loading=!1}},async getSet(t){try{this.loading=!0,!1!==t&&await s({request:W(),data:{service_status:[Boolean,t=>this.settingData.service_status=t],docker_installed:[Boolean,t=>this.settingData.docker_installed=t],docker_compose_path:[String,t=>this.settingData.docker_compose_path=t],docker_compose_installed:[Boolean,t=>this.settingData.docker_compose_installed=t],monitor_status:[Boolean,t=>this.settingData.monitor_status=t],monitor_save_date:[Number,t=>this.settingData.monitor_save_date=t],daemon_path:[String,t=>this.settingData.daemon_path=t],installing:[Number,t=>this.settingData.installing=t],ipv6_status:[Boolean,t=>this.settingData.ipv6=t],ipv6_addr:[String,t=>this.settingData.ipv6Address=t],bad_registry:[Boolean,t=>this.settingData.bad_registry=t],bad_registry_path:[String,t=>this.settingData.bad_registry_path=t]}}),await s({request:F(),success:t=>{const e=t.data;0===e.registry_mirrors.length?this.settingData.url="未设置加速URL":this.settingData.url=e.registry_mirrors[0];const a=[];Object.entries(e.com_reg_mirrors).forEach((t=>{a.push({label:"".concat(t[0],"(").concat(t[1],")"),value:t[0]})})),this.settingData.options=a}}),this.loading=!1}catch(e){this.loading=!1}},async getDockerState(){try{await s({request:W(),data:{service_status:[Boolean,t=>this.settingData.service_status=t],docker_installed:[Boolean,t=>this.settingData.docker_installed=t],docker_compose_path:[String,t=>this.settingData.docker_compose_path=t],docker_compose_installed:[Boolean,t=>this.settingData.docker_compose_installed=t],monitor_status:[Boolean,t=>this.settingData.monitor_status=t],monitor_save_date:[Number,t=>this.settingData.monitor_save_date=t],daemon_path:[String,t=>this.settingData.daemon_path=t],installing:[Number,t=>this.settingData.installing=t],ipv6_status:[Boolean,t=>this.settingData.ipv6=t],ipv6_addr:[String,t=>this.settingData.ipv6Address=t],bad_registry:[Boolean,t=>this.settingData.bad_registry=t],bad_registry_path:[String,t=>this.settingData.bad_registry_path=t]}})}catch(t){}}},persist:{storage:sessionStorage,paths:["containerTableData.isCustomLimit","itemTableData.isCustomLimit","templateTableData.isCustomLimit","mirrorTableData.isCustomLimit","netTableData.isCustomLimit","storageTableData.isCustomLimit","stashTableData.isCustomLimit","settingData.service_status","settingData.docker_installed","settingData.docker_compose_installed"]}}),Aa=()=>{const e=xa();return{refs:t(e),...e}};export{$,Dt as A,u as B,Tt as C,bt as D,at as E,B as F,v as G,Ht as H,Mt as I,E as J,I as K,q as L,P as M,O as N,z as O,w as P,R as Q,Z as R,Q as S,H as T,Lt as U,V,X as W,wt as X,n as Y,D as Z,k as _,Gt as a,Ze as a$,L as a0,f as a1,r as a2,ht as a3,g as a4,et as a5,ot as a6,st as a7,ct as a8,tt as a9,Da as aA,fa as aB,va as aC,ha as aD,ka as aE,ga as aF,na as aG,ua as aH,oa as aI,sa as aJ,da as aK,ma as aL,ra as aM,ca as aN,ia as aO,pa as aP,la as aQ,Ke as aR,Je as aS,Xe as aT,Ye as aU,He as aV,ta as aW,Qe as aX,aa as aY,ba as aZ,_a as a_,Pt as aa,Wt as ab,Qt as ac,Kt as ad,It as ae,Nt as af,qt as ag,Et as ah,Ut as ai,zt as aj,oe as ak,te as al,ae as am,pe as an,le as ao,ge as ap,ue as aq,he as ar,ne as as,re as at,Re as au,Ce as av,xe as aw,Ae as ax,Ta as ay,La as az,Ot as b,Rt as b$,ea as b0,ya as b1,Ve as b2,$e as b3,wa as b4,ja as b5,At as b6,xt as b7,jt as b8,i as b9,_ as bA,T as bB,_t as bC,ut as bD,gt as bE,_e as bF,ye as bG,be as bH,Te as bI,De as bJ,fe as bK,Le as bL,Ee as bM,Ne as bN,Ge as bO,Me as bP,qe as bQ,Fe as bR,Be as bS,ze as bT,Sa as bU,Pe as bV,Oe as bW,Ie as bX,Ue as bY,We as bZ,Ct as b_,l as ba,m as bb,p as bc,pt as bd,it as be,lt as bf,x as bg,A as bh,G as bi,C as bj,M as bk,dt as bl,vt as bm,N as bn,U as bo,j as bp,S as bq,ft as br,J as bs,K as bt,F as bu,Y as bv,kt as bw,xa as bx,b as by,y as bz,Bt as c,St as c0,mt as c1,nt as c2,Vt as d,ve as e,je as f,Aa as g,we as h,ee as i,Xt as j,Yt as k,Zt as l,se as m,ce as n,de as o,ke as p,me as q,Jt as r,Ft as s,ie as t,Se as u,$t as v,yt as w,h as x,d as y,rt as z};
