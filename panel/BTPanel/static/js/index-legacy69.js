!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function n(t){for(var n=1;n<arguments.length;n++){var o=null!=arguments[n]?arguments[n]:{};n%2?e(Object(o),!0).forEach((function(e){r(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function r(e,n,r){return(n=function(e){var n=function(e,n){if("object"!=t(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,n||"default");if("object"!=t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==t(n)?n:n+""}(n))in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return n};var e,n={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,n){t[e]=n.value},u="function"==typeof Symbol?Symbol:{},c=u.iterator||"@@iterator",s=u.asyncIterator||"@@asyncIterator",l=u.toStringTag||"@@toStringTag";function f(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{f({},"")}catch(e){f=function(t,e,n){return t[e]=n}}function p(t,e,n,r){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),u=new N(r||[]);return a(i,"_invoke",{value:E(t,n,u)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}n.wrap=p;var d="suspendedStart",v="suspendedYield",y="executing",m="completed",g={};function b(){}function w(){}function x(){}var _={};f(_,c,(function(){return this}));var j=Object.getPrototypeOf,k=j&&j(j(T([])));k&&k!==r&&i.call(k,c)&&(_=k);var L=x.prototype=b.prototype=Object.create(_);function O(t){["next","throw","return"].forEach((function(e){f(t,e,(function(t){return this._invoke(e,t)}))}))}function S(e,n){function r(o,a,u,c){var s=h(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==t(f)&&i.call(f,"__await")?n.resolve(f.__await).then((function(t){r("next",t,u,c)}),(function(t){r("throw",t,u,c)})):n.resolve(f).then((function(t){l.value=t,u(l)}),(function(t){return r("throw",t,u,c)}))}c(s.arg)}var o;a(this,"_invoke",{value:function(t,e){function i(){return new n((function(n,o){r(t,e,n,o)}))}return o=o?o.then(i,i):i()}})}function E(t,n,r){var o=d;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===g)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===d)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=h(t,n,r);if("normal"===s.type){if(o=r.done?m:v,s.arg===g)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function D(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function N(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function T(n){if(n||""===n){var r=n[c];if(r)return r.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var o=-1,a=function t(){for(;++o<n.length;)if(i.call(n,o))return t.value=n[o],t.done=!1,t;return t.value=e,t.done=!0,t};return a.next=a}}throw new TypeError(t(n)+" is not iterable")}return w.prototype=x,a(L,"constructor",{value:x,configurable:!0}),a(x,"constructor",{value:w,configurable:!0}),w.displayName=f(x,l,"GeneratorFunction"),n.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,f(t,l,"GeneratorFunction")),t.prototype=Object.create(L),t},n.awrap=function(t){return{__await:t}},O(S.prototype),f(S.prototype,s,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,r,o,i){void 0===i&&(i=Promise);var a=new S(p(t,e,r,o),i);return n.isGeneratorFunction(e)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},O(L),f(L,l,"Generator"),f(L,c,(function(){return this})),f(L,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},n.values=T,N.prototype={constructor:N,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(D),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],u=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),s=i.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,g):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),g},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),D(n),g}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;D(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:T(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},n}function i(t,e,n,r,o,i,a){try{var u=t[i](a),c=u.value}catch(t){return void n(t)}u.done?e(c):Promise.resolve(c).then(r,o)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function u(t){i(a,r,o,u,c,"next",t)}function c(t){i(a,r,o,u,c,"throw",t)}u(void 0)}))}}System.register(["./index-legacy90.js?v=1734676359","./utils-lib-legacy.js?v=1734676359","./index-legacy182.js?v=1734676359","./base-lib-legacy.js?v=1734676359","./useStore-legacy10.js?v=1734676359","./validator-legacy.js?v=1734676359","./useMethod-legacy7.js?v=1734676359","./useMethod-legacy6.js?v=1734676359","./ssl-legacy.js?v=1734676359","./column-legacy.js?v=1734676359","./index-legacy124.js?v=1734676359","./index.vue_vue_type_style_index_0_scoped_03ce946a_lang-legacy.js?v=1734676359","./__commonjsHelpers__-legacy.js?v=1734676359","./index-legacy91.js?v=1734676359","./index-legacy107.js?v=1734676359"],(function(t,e){"use strict";var r,i,u,c,s,l,f,p,h,d,v,y,m,g,b,w,x,_,j,k,L,O,S,E,P,C,D,N,T,B,G,q,R,F,H,A,M,I,V,Y,z,J,U,W,K,Q,X,Z,$;return{setters:[function(t){r=t._},function(t){i=t.u,u=t.am,c=t.an,s=t.bf,l=t.o,f=t.b,p=t.p,h=t.a7,d=t.aj,v=t.ao,y=t.c},function(t){m=t._},function(t){g=t.c,b=t.R,w=t.r,x=t.e,_=t.y,j=t.n,k=t.aj,L=t.o,O=t.b,S=t.W,E=t.k,P=t.J,C=t.x,D=t.q,N=t.p},function(t){T=t.g},function(t){B=t.e},function(t){G=t.s,q=t.u,R=t.d,F=t.a,H=t.b},function(t){A=t.d,M=t.a,I=t.s},function(t){V=t.n,Y=t.o,z=t.p,J=t.q,U=t.t,W=t.v,K=t.w},function(t){Q=t.a,X=t.u,Z=t.c},function(t){$=t.u},null,null,null,null],execute:function(){var e={class:"flex items-center"};t("default",g({__name:"index",setup:function(t){var g=f(),tt=i().mainHeight,et=T().refs,nt=et.tabActive,rt=et.isRefreshDomainList,ot=et.typeList;b([]),w([]);var it=b([]);w(null);var at,ut=[{content:"手动同步",active:!0,event:function(){jt()}},{content:"DNS接口设置",dropdownClass:"bg-white",splitButton:!0,event:function(){R()}}],ct=function(){var t=a(o().mark((function t(e){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,"-1"===(n={p:e.p,type_id:p(e.type)||"all"===e.type?"-1":e.type,search:e.search,limit:e.limit}).type_id&&delete n.type_id,t.next=5,Y(n);case 5:return r=t.sent,i=r.data,t.abrupt("return",{data:i.data,total:h(i.page),other:{search_history:i.search_history}});case 10:return t.prev=10,t.t0=t.catch(0),t.abrupt("return",{data:[],total:0});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}(),st=function(){var t=a(o().mark((function t(e,n,r,i){var u,c,s,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=i.label,c=i.value,s=new Map([["delete","即将批量删除选中的域名"]]),l=function(){var t=a(o().mark((function t(e,n){var r;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=e.domain,t.t0=c,t.next="delete"===t.t0?4:7;break;case 4:return t.next=6,W({domains:r});case 6:return t.abrupt("return",t.sent);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),t.next=5,e({title:"批量".concat(u),content:"".concat(s.get(c),"，是否继续操作！"),column:[{label:"域名",prop:"domain"},Z()],onConfirm:function(){var t=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(l);case 2:return rt.value=!0,t.abrupt("return",!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()});case 5:case"end":return t.stop()}}),t)})));return function(e,n,r,o){return t.apply(this,arguments)}}(),lt=[{label:"设置分类",value:"type",event:function(t,e,n,r){return I(n.value,"domain")}},{label:"配置DNS接口",value:"dnsSet",event:function(t,e,n,r){return A(n.value[0],n.value)}},{label:"设置到期时间",value:"dateSet",event:function(t,e,n,r){return G({},n.value)}},{label:"删除",value:"delete",event:st}],ft=$({key:"type",name:"域名分类",options:function(){return[{label:"全部分类",value:"-1"}]},event:{get:(at=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z();case 2:return e=t.sent,n=e.data,ot.value=n,ot.value=d(n,"array",[]).map((function(t){return{label:t.name,value:t.type_id}})),ot.value.unshift({label:"全部分类",value:"all"}),t.abrupt("return",ot.value);case 8:case"end":return t.stop()}}),t)}))),function(){return at.apply(this,arguments)}),add:function(t){return J(t)},delete:function(t){return U({type_id:t.id})}},ignore:["0"],field:"name",showEdit:!1}),pt=v(lt),ht=u({request:ct,columns:[Q(),{label:"域名",prop:"domain",width:250},{label:"分组",width:180,isCustom:!0,render:function(t){var e=ot.value.find((function(e){return e.value==t.type_id}));return e?e.label:"未分组"}},{label:"解析数量",prop:"sbd_count",isCustom:!0},{label:"DNS接口",width:200,isCustom:!0,render:function(t){var e;return x("div",{class:"flex items-center"},[null!==(e=t.dns)&&void 0!==e&&e.dns_name?x("span",null,[t.dns.dns_name]):x("span",{class:"bt-link cursor-pointer",onClick:function(){return A(t)}},[_("未配置")]),x("div",{class:"el-divider el-divider--vertical"},null),x("span",{class:"bt-link cursor-pointer",onClick:function(){return A(t)}},[_("点击配置")])])}},{label:"到期时间",isCustom:!0,render:function(t){var e=(new Date).setHours(0,0,0,0),n=t.endtime?new Date(t.endtime.replace(/-/g,"/")).getTime():0,r=0!==t.endtime&&n<e,o=0!==t.endtime&&n-Date.now()<6048e5;return x("span",{class:"cursor-pointer "+(r?"bt-danger":o?"bt-warn":"bt-link"),onClick:function(){G(t)}},[r?"已过期":0===t.endtime?"未设置":t.endtime])}},{prop:"report_id",label:"到期告警",render:function(t){var e=(new Date).setHours(0,0,0,0),r=0!==t.endtime&&new Date(t.endtime).getTime()/1e3<e/1e3,o=""!=t.report_id;return x(k,{size:"small",modelValue:o,"onUpdate:modelValue":function(t){return o=t},disabled:(0===t.endtime||r)&&!o,onChange:function(e){e?(t.report_id="1",M(n(n({},t),{},{cancel:function(){j((function(){t.report_id=""}))}}))):_t(t)}},null)}},X([{onClick:function(t){t.dns_id?F(t):(g.error("请先配置DNS"),A(t))},title:"解析"},{onClick:function(t){var e;null!==(e=t.dns)&&void 0!==e&&e.dns_name?H(t):(g.error("请先配置DNS"),A(t))},title:"解析记录管理",width:120},{onClick:function(t){xt(t)},title:"删除"}])],extension:[ft,pt,c(rt),s("search",{name:"ssl",key:"get_domain_list",list:[],showRecommend:!1})]}),dt=ht.BtTable,vt=ht.BtPage,yt=(ht.BtRefresh,ht.BtTableCategory),mt=ht.BtRecommendSearch,gt=ht.BtColumn,bt=ht.BtBatch;ht.BtErrorMask,ht.refresh;q({closeAlarm:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return _t(t)})),delDomain:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){return xt(t)}))});var wt=function(){B({title:"SSL证书需求反馈收集",type:28,isNoRate:!0,softName:"1",isCard:!1,id:993})},xt=function(){var t=a(o().mark((function t(e){var n,r,i,a=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=a.length>1&&void 0!==a[1]&&a[1],t.prev=1,n){t.next=5;break}return t.next=5,l({title:"删除【".concat(e.domain,"】域名"),content:"删除该域名，是否继续操作？",icon:"warning",width:45});case 5:return n||(r=g.load("正在删除域名，请稍候...")),t.next=8,W({domains:e.domain});case 8:return i=t.sent,n||g.request(i),i.status&&!n&&(rt.value=!0),t.abrupt("return",i);case 14:t.prev=14,t.t0=t.catch(1);case 17:return t.prev=17,r&&r.close(),t.finish(17);case 20:case"end":return t.stop()}}),t,null,[[1,14,17,20]])})));return function(e){return t.apply(this,arguments)}}(),_t=function(){var t=a(o().mark((function t(e){var n,r,i;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.report_id,t.prev=1,e.report_id="",t.next=5,l({title:"删除【".concat(e.domain,"】到期告警"),content:"删除该域名到期告警，是否继续操作？",icon:"warning",width:45});case 5:return r=g.load("正在删除域名到期告警，请稍候..."),t.next=8,V({task_id:n});case 8:i=t.sent,g.request(i),i.status&&(rt.value=!0),r&&r.close(),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(1),t.t0&&j((function(){e.report_id=n}));case 17:case"end":return t.stop()}}),t,null,[[1,14]])})));return function(e){return t.apply(this,arguments)}}(),jt=function(){var t=a(o().mark((function t(){var e,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e=g.load("正在同步域名列表，请稍后..."),t.next=4,K();case 4:n=t.sent,g.request(n),n.status&&(rt.value=!0),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0);case 12:return t.prev=12,e&&e.close(),t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})));return function(){return t.apply(this,arguments)}}();return L((function(){nt.value=O().name})),S("sslHistoryList",it),function(t,n){var o=m,i=y,a=r;return E(),P(a,null,{"header-left":C((function(){return[D("div",e,[x(o,{options:ut}),n[1]||(n[1]=D("span",{class:"ml-[8px] text-[1.1rem]"},"当前域名列表仅显示顶级域名，配置DNS，可以快速解析域名和申请证书。",-1)),x(i,{class:"ml-[12px] flex items-center",onClick:wt},{default:C((function(){return n[0]||(n[0]=[D("div",{class:"flex items-center"},[D("span",{class:"svgtofont-desired text-[1.6rem]"}),D("span",null,"需求反馈")],-1)])})),_:1})])]})),"header-right":C((function(){return[x(N(yt),{class:"!w-[140px] mr-[10px]"}),x(N(mt),{type:"ssl-domain",placeholder:"请输入域名",class:"!w-[270px] mr-[10px]"}),x(N(gt))]})),content:C((function(){return[x(N(dt),{"min-height":N(tt)},null,8,["min-height"])]})),"footer-left":C((function(){return[x(N(bt))]})),"footer-right":C((function(){return[x(N(vt))]})),_:1})}}}))}}}))}();
