!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function r(e){for(var r=1;r<arguments.length;r++){var a=null!=arguments[r]?arguments[r]:{};r%2?t(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function n(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,r||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function a(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function u(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */u=function(){return r};var t,r={},n=Object.prototype,a=n.hasOwnProperty,o=Object.defineProperty||function(e,t,r){e[t]=r.value},l="function"==typeof Symbol?Symbol:{},c=l.iterator||"@@iterator",i=l.asyncIterator||"@@asyncIterator",s=l.toStringTag||"@@toStringTag";function p(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{p({},"")}catch(t){p=function(e,t,r){return e[t]=r}}function f(e,t,r,n){var a=t&&t.prototype instanceof y?t:y,u=Object.create(a.prototype),l=new U(n||[]);return o(u,"_invoke",{value:O(e,r,l)}),u}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=f;var m="suspendedStart",v="suspendedYield",_="executing",j="completed",h={};function y(){}function b(){}function g(){}var w={};p(w,c,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(L([])));k&&k!==n&&a.call(k,c)&&(w=k);var V=g.prototype=y.prototype=Object.create(w);function D(e){["next","throw","return"].forEach((function(t){p(e,t,(function(e){return this._invoke(t,e)}))}))}function E(t,r){function n(o,u,l,c){var i=d(t[o],t,u);if("throw"!==i.type){var s=i.arg,p=s.value;return p&&"object"==e(p)&&a.call(p,"__await")?r.resolve(p.__await).then((function(e){n("next",e,l,c)}),(function(e){n("throw",e,l,c)})):r.resolve(p).then((function(e){s.value=e,l(s)}),(function(e){return n("throw",e,l,c)}))}c(i.arg)}var u;o(this,"_invoke",{value:function(e,t){function a(){return new r((function(r,a){n(e,t,r,a)}))}return u=u?u.then(a,a):a()}})}function O(e,r,n){var a=m;return function(o,u){if(a===_)throw Error("Generator is already running");if(a===j){if("throw"===o)throw u;return{value:t,done:!0}}for(n.method=o,n.arg=u;;){var l=n.delegate;if(l){var c=S(l,n);if(c){if(c===h)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===m)throw a=j,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=_;var i=d(e,r,n);if("normal"===i.type){if(a=n.done?j:v,i.arg===h)continue;return{value:i.arg,done:n.done}}"throw"===i.type&&(a=j,n.method="throw",n.arg=i.arg)}}}function S(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,S(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var o=d(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,h;var u=o.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,h):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,h)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function U(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function L(r){if(r||""===r){var n=r[c];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var o=-1,u=function e(){for(;++o<r.length;)if(a.call(r,o))return e.value=r[o],e.done=!1,e;return e.value=t,e.done=!0,e};return u.next=u}}throw new TypeError(e(r)+" is not iterable")}return b.prototype=g,o(V,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=p(g,s,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,p(e,s,"GeneratorFunction")),e.prototype=Object.create(V),e},r.awrap=function(e){return{__await:e}},D(E.prototype),p(E.prototype,i,(function(){return this})),r.AsyncIterator=E,r.async=function(e,t,n,a,o){void 0===o&&(o=Promise);var u=new E(f(e,t,n,a),o);return r.isGeneratorFunction(t)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},D(V),p(V,s,"Generator"),p(V,c,(function(){return this})),p(V,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=L,U.prototype={constructor:U,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(P),!e)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return l.type="throw",l.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],l=u.completion;if("root"===u.tryLoc)return n("end");if(u.tryLoc<=this.prev){var c=a.call(u,"catchLoc"),i=a.call(u,"finallyLoc");if(c&&i){if(this.prev<u.catchLoc)return n(u.catchLoc,!0);if(this.prev<u.finallyLoc)return n(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return n(u.catchLoc,!0)}else{if(!i)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return n(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&a.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=e,u.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),P(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;P(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:L(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),h}},r}function l(e,t,r,n,a,o,u){try{var l=e[o](u),c=l.value}catch(e){return void r(e)}l.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){l(o,n,a,u,c,"next",e)}function c(e){l(o,n,a,u,c,"throw",e)}u(void 0)}))}}System.register(["./base-lib-legacy.js?v=1734676359","./utils-lib-legacy.js?v=1734676359","./index.vue_vue_type_script_setup_true_lang-legacy13.js?v=1734676359","./index-legacy88.js?v=1734676359","./site-legacy.js?v=1734676359","./validator-legacy.js?v=1734676359","./useStore-legacy7.js?v=1734676359","./useController-legacy5.js?v=1734676359","./__commonjsHelpers__-legacy.js?v=1734676359","./index-legacy91.js?v=1734676359","./column-legacy.js?v=1734676359"],(function(e,t){"use strict";var n,o,l,i,s,p,f,d,m,v,_,j,h,y,b,g,w,x,k,V,D,E,O,S,C,P,U,L,I,T,J,F,A,B,M,N,G,X,K,R,q,z,H,W,Y,Q,$,Z,ee,te,re,ne,ae,oe,ue,le,ce,ie,se,pe,fe,de,me,ve,_e,je,he;return{setters:[function(e){n=e.c,o=e.h,l=e.r,i=e.ax,s=e.w,p=e.i,f=e.o,d=e.k,m=e.l,v=e.e,_=e.x,j=e.q,h=e.p,y=e.J,b=e.y,g=e.z,w=e.I,x=e.aX,k=e.M,V=e.C,D=e.D,E=e.A,O=e.a7,S=e.aN,C=e.Q,P=e.ah,U=e.ae,L=e.ad,I=e.aw,T=e.a4,J=e.ag,F=e.X,A=e.W,B=e.B,M=e.G},function(e){N=e.bR,G=e.D,X=e.l,K=e.H,R=e.ah,q=e.o,z=e.j,H=e._,W=e.E,Y=e.c,Q=e.h,$=e.b,Z=e.G,ee=e.bS,te=e.U,re=e.M},function(e){ne=e._},function(e){ae=e._},function(e){oe=e.addLocalJdk,ue=e.getCommand,le=e.jarRestartJavaProject,ce=e.checkJavaParams,ie=e.modifyJavaProject,se=e.addJavaProject,pe=e.advanceCheckPort,fe=e.getJavaInfo},function(e){de=e.f},function(e){me=e.u,ve=e.S},function(e){_e=e.i,je=e.b,he=e.d},null,null,null],execute:function(){var ye={class:"flex items-center justify-between gap-1rem"},be={class:"flex items-center justify-between"},ge={class:"flex items-center"},we={class:"flex items-center"},xe={class:"flex items-center custom-refresh-select"},ke={class:"el-input-group__append !h-3rem !flex items-center"},Ve={class:"flex items-center"},De={class:"py-[1.6rem]"},Ee=n({__name:"spring-boot",props:{projectData:{default:{}}},setup:function(e,r){var n,F,A=r.expose,B=e,M=me(),ee=M.siteInfo,te=M.isRefreshList,re=o(B.projectData),pe=$(),fe=l({project_type:3,project_jar:"",project_name:"",port:"",project_jdk:(null===(n=B.projectData.jdk_info[0])||void 0===n?void 0:n.path)||"",project_cmd:"",nohup_log:!0,jmx_status:!1,run_user:"www",use_project_watch:!1,auth:!1,project_ps:"",domains:"",jmx_port:"",debug:!1,is_separation:!1,release_firewall:!1,host_url:"http://127.0.0.1",env:"",envPath:"/www",by_process:0,daemon_status:!1}),ve=l(0),he=l(!1),Ee=l(""),Oe=l(!1),Se=l(),Ce=l(!1),Pe=o({project_jar:(null===(F=ee.value)||void 0===F||null===(F=F.project_config)||void 0===F?void 0:F.project_jar)||""}),Ue=o({project_jar:[N({message:"请输入项目jar路径"})]}),Le=i("getSystemInfoEvent",(function(e){}));s((function(){return B.projectData.jdk_info.length}),(function(){var e;fe&&!_e.value&&(fe.value.project_jdk=null===(e=B.projectData.jdk_info[0])||void 0===e?void 0:e.path,fe.value.project_jdk&&fe.value.project_cmd&&Be(fe.value.project_jdk))}),{immediate:!0,deep:!0});var Ie=G({data:fe.value,options:function(e){return p((function(){return[{type:"slots",key:"custom",rules:{project_jar:[N({message:"请输入项目jar路径"})],project_name:[N({message:"请输入项目名称"})],project_cmd:[N({message:"请输入项目执行命令"})]}}]}))}}),Te=Ie.BtForm,Je=Ie.validate,Fe=function(){X({isAsync:!0,title:"接管已启动项目",area:76,component:function(){return K((function(){return t.import("./take-over-started-project-legacy.js?v=1734676359")}),void 0,t.meta.url)},compData:{setProject:Ne}})},Ae=function(e){fe.value.project_ps=e},Be=function(e){var t;if(fe.value.project_jdk=e,_e.value)-1===Ee.value.indexOf("/bin/java")&&(Ee.value=Ee.value+"/bin/java"),fe.value.project_cmd=null===(t=fe.value.project_cmd)||void 0===t?void 0:t.replace(Ee.value,e),Ee.value=e;else if(fe.value.project_cmd){var r=fe.value.project_cmd.split("-Xmx1024M -Xms256M");fe.value.project_cmd=fe.value.project_jdk+" -jar -Xmx1024M -Xms256M "+r[1]}else fe.value.project_cmd=fe.value.project_jdk+" -jar  -Xmx1024M -Xms256M "+fe.value.project_jar},Me=p((function(){return _e.value&&""===fe.value.port?"未设置":"选择项目文件，自动获取端口"})),Ne=function(){var e=c(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.java_bin||t.jar_path){e.next=2;break}return e.abrupt("return",pe.error("未能解析到项目信息"));case 2:if(fe.value.project_jar=t.jar_path,fe.value.port=t.port,fe.value.project_cmd=t.cmdline,fe.value.project_name=t.project_name,fe.value.run_user=t.user,re.jdk_info.some((function(e){return e.path===t.java_bin}))||""===t.java_bin){e.next=12;break}return r=t.java_bin.split("/"),re.jdk_info.push({name:r[r.length-3],path:t.java_bin}),e.next=12,oe({data:JSON.stringify({jdk:t.java_bin})});case 12:fe.value.project_jdk=t.java_bin||"",fe.value.by_process=t.pid,Xe(t.env);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(e){var t=e.split("\n").filter((function(e){return""!==e})),r=[];return t.forEach((function(e){var t=e.split("=");r.push({k:t[0],v:t[1]})})),r},Xe=function(e){if(fe&&0!==e.length)switch(ve.value){case 0:fe.value.env=e.map((function(e){return e.k+"="+e.v})).join("\n"),ve.value=1;break;case 1:var t=Ge(fe.value.env),r=new Map,n=[].concat(a(t),a(e)).reduce((function(e,t){var n=t.k;return r.has(n)||(r.set(n,!0),e.push(t)),e}),[]);fe.value.env=null==n?void 0:n.map((function(e){return e.k+"="+e.v})).join("\n")}},Ke=function(){de({type:"file",path:fe.value.envPath,change:function(e){fe.value.envPath=e}})},Re=function(){if(fe&&!_e.value){var e=fe.value.project_cmd.match(/--server.port=(\d+)/);e&&(fe.value.port=e[1])}},qe=function(){var e=c(u().mark((function e(t){var r,n,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(fe){e.next=2;break}return e.abrupt("return");case 2:if(1!==t||"/www/wwwroot"!==fe.value.project_jar){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,r={type:t,project_name:fe.value.project_name,project_cmd:fe.value.project_cmd,project_jar:fe.value.project_jar,project_jdk:fe.value.project_jdk,jmx_status:fe.value.jmx_status?1:0,port:fe.value.port},e.next=8,ue(r);case 8:if(n=e.sent,(a=n.data).status){e.next=12;break}return e.abrupt("return",pe.request(a));case 12:fe.value.project_cmd=a.data,fe.value.port=a.data.msg.match(/--server.port=(\d+)/)[1],fe.value.host_url="http://127.0.0.1:".concat(fe.value.port),o="Dcom.sun.management.jmxremote.port",fe.value.jmx_port=a.data.msg.substr(a.data.msg.indexOf(o)+34+1,4),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),R(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(t){return e.apply(this,arguments)}}(),ze=function(){fe&&de({type:"file",path:fe.value.project_jar,change:function(e){if(fe.value.project_jar=e,_e.value){var t;fe.value.project_cmd&&(fe.value.project_cmd=null===(t=fe.value.project_cmd)||void 0===t?void 0:t.replace(fe.value.project_jar,e))}else{var r=e.substring(e.lastIndexOf("/")+1).replace(/\W/g,"_");fe.value.project_name=r,fe.value.project_ps=r,fe.value.project_cmd=fe.value.project_jdk+" -jar  -Xmx1024M -Xms256M "+e}}})},He=function(){fe&&de({type:"file",path:Pe.project_jar,change:function(e){Pe.project_jar=e}})},We=function(){var e=c(u().mark((function e(){var t,r,n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.value.validate();case 2:return t=ee.value.name,e.next=5,q({title:"更新项目",content:"将要重启项目【".concat(t,"】，是否继续？")});case 5:return r={project_name:t,project_jar:Pe.project_jar},e.prev=6,e.next=9,le(r);case 9:n=e.sent,pe.msg({dangerouslyUseHTMLString:!0,message:n.msg,type:n.status?"success":"error",duration:n.status?2e3:0,showClose:!n.status}),n.status&&(te.value=!0,he.value=!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),R(e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})));return function(){return e.apply(this,arguments)}}(),Ye=null,Qe=function(){var e=c(u().mark((function e(r){var n,a,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=fe.value.env,1===ve.value&&(n=Ge(n)),a={project_jar:fe.value.project_jar,project_cmd:fe.value.project_cmd,by_process:fe.value.by_process,env_file:2===ve.value?fe.value.envPath:"",env_list:JSON.stringify(1===ve.value?n:[])},e.next=6,ce(a);case 6:if(!((o=e.sent).status&&o.data.length>0)){e.next=13;break}return e.next=10,X({isAsync:!0,title:"项目帮助",area:76,component:function(){return K((function(){return t.import("./springboot-check-list-legacy.js?v=1734676359")}),void 0,t.meta.url)},compData:{data:o.data,params:a,confirmEvent:r},btn:"继续创建",onConfirm:r,cancel:function(){Ye=null}});case 10:Ye=e.sent,e.next=14;break;case 13:return e.abrupt("return",r());case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),R(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),$e=function(){var e=c(u().mark((function e(t,r){var n,a,o,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:return n=t.env,1===ve.value&&(n=Ge(n)),a={project_type:0,domains:t.domains.split("\n"),project_jar:t.project_jar,project_jdk:t.project_jdk,project_name:t.project_name,project_cmd:t.project_cmd,project_ps:t.project_ps,run_user:t.run_user,env_file:2===ve.value?t.envPath:"",env_list:1===ve.value?n:[],jmx_status:t.jmx_status,watch_file:t.use_project_watch,ps:t.project_ps,port:t.port},_e.value?(a.daemon_status=t.daemon_status,a.project_id=ee.value.id):(a.by_process=t.by_process,a.release_firewall=t.release_firewall),o=_e.value?ie:se,e.next=9,Z({loading:"正在操作，请稍后...",request:o({data:JSON.stringify(a)}),message:!0});case 9:return(l=e.sent).status&&(te.value=!0),e.abrupt("return",l.status);case 12:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ze=function(){var e=c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Je();case 2:return e.abrupt("return",Qe(c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Ye){e.next=6;break}return e.next=3,Ye;case 3:null==(t=e.sent)||t.unmount(),Ye=null;case 6:return e.abrupt("return",$e(fe.value,Je));case 7:case"end":return e.stop()}}),e)})))));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return f((function(){if(_e.value){var e=ee.value,t=e.ps,r=e.project_config,n=r.project_jar,a=r.project_jdk,o=r.run_user,u=r.project_cmd,l=r.jmx_status,c=r.java_type,i=r.watch_file,s=r.env_file,p=r.env_list;Ee.value=a,ve.value=null!=p&&p.length?1:s?2:0;var f="springboot"===c&&function(e){try{var t=e.match(/--server\.port=(\d+)/);return!!t&&t[1]}catch(r){}}(u);Object.assign(fe.value,{project_ps:t,use_project_watch:i,project_jar:n,project_jdk:-1===(null==a?void 0:a.indexOf("/bin/java"))?a+"/bin/java":a,project_name:r.project_name,project_cmd:u,run_user:o,env_file:s,env_list:p,proxy_path:r.proxy_path,jmx_status:l,watch_file:i,domains:r.domains.join("\n"),daemon_status:r.daemon_status,envPath:s,env:null==p?void 0:p.map((function(e){return e.k+"="+e.v})).join("\n"),port:(null==r?void 0:r.port)||f||""})}})),A({onConfirm:Ze}),function(e,t){var r=ae,n=E,a=O,o=z,u=S,l=C,c=J,i=P,s=H,p=W,f=Y,F=U,A=L,B=I,M=ne,N=T,G=Q;return d(),m("div",null,[v(h(Te),{class:"mt-2rem","label-width":"100px"},{custom:_((function(){return[v(a,{label:"jar路径",prop:"project_jar"},{default:_((function(){return[j("div",ye,[v(r,{modelValue:h(fe).project_jar,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h(fe).project_jar=e}),icon:"el-folder-opened",onIconClick:ze,width:"32rem"},null,8,["modelValue"]),h(_e)?(d(),y(n,{key:1,type:"default",onClick:t[1]||(t[1]=function(e){return he.value=!0})},{default:_((function(){return t[25]||(t[25]=[b("项目更新")])})),_:1})):(d(),y(n,{key:0,type:"default",onClick:Fe},{default:_((function(){return t[24]||(t[24]=[b("从已启动项目中接管")])})),_:1}))])]})),_:1}),h(_e)?g("",!0):(d(),y(a,{key:0,label:"项目名称",prop:"project_name"},{default:_((function(){return[j("div",be,[v(o,{onChange:Ae,width:"32rem",modelValue:h(fe).project_name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h(fe).project_name=e}),placeholder:"选择项目文件，自动获取名称"},null,8,["modelValue"])])]})),_:1})),v(a,{label:"项目端口",prop:"port"},{default:_((function(){return[j("div",ge,[v(o,{onChange:t[3]||(t[3]=function(e){return qe(1)}),width:"20rem",class:"mr-[1rem]",modelValue:h(fe).port,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h(fe).port=e}),placeholder:h(Me)},null,8,["modelValue","placeholder"]),h(_e)?g("",!0):(d(),y(l,{key:0,modelValue:h(fe).release_firewall,"onUpdate:modelValue":t[5]||(t[5]=function(e){return h(fe).release_firewall=e})},{default:_((function(){return[t[27]||(t[27]=b(" 放行端口 ")),v(u,{class:"item",effect:"dark",content:"选中将在防火墙安全组放行监听端口，放行后该项目可在外网访问",placement:"right"},{default:_((function(){return t[26]||(t[26]=[j("i",{class:"svgtofont-el-question text-warning"},null,-1)])})),_:1})]})),_:1},8,["modelValue"]))])]})),_:1}),v(a,{label:"项目JDK",prop:"project_jdk"},{default:_((function(){return[j("div",we,[j("div",xe,[v(i,{modelValue:h(fe).project_jdk,"onUpdate:modelValue":t[6]||(t[6]=function(e){return h(fe).project_jdk=e}),onChange:Be,class:"!w-[32rem]",disabled:!h(re).jdk_info},{default:_((function(){return[(d(!0),m(w,null,x(h(re).jdk_info,(function(e,t){return d(),y(c,{key:t,value:e.path,label:e.name+"["+e.path+"]"},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","disabled"]),j("div",ke,[v(p,{title:"刷新项目JDK",class:"!flex",onClick:t[7]||(t[7]=function(e){return h(Le)("项目JDK")})},{default:_((function(){return[v(s,{icon:"el-refresh",class:"!text-[14px]"})]})),_:1})])]),v(f,{class:"ml-8px",onClick:t[8]||(t[8]=function(e){return h(je)()})},{default:_((function(){return t[28]||(t[28]=[b("添加JDK信息")])})),_:1})])]})),_:1}),v(a,{label:"项目启动命令",prop:"project_cmd"},{default:_((function(){return[v(o,{onBlur:Re,width:"40rem",type:"textarea",rows:4,resize:"none",modelValue:h(fe).project_cmd,"onUpdate:modelValue":t[9]||(t[9]=function(e){return h(fe).project_cmd=e}),placeholder:"选择项目jar文件，自动获取项目执行命令"},null,8,["modelValue"])]})),_:1}),v(a,{label:"启动用户"},{default:_((function(){return[j("div",Ve,[v(i,{modelValue:h(fe).run_user,"onUpdate:modelValue":t[10]||(t[10]=function(e){return h(fe).run_user=e}),class:"mr-8px !w-[16rem]"},{default:_((function(){return[(d(!0),m(w,null,x(h(re).userList,(function(e){return d(),y(c,{key:e,value:e,label:e},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"]),t[29]||(t[29]=j("span",{class:"text-[1.2rem] text-[#666]"},"* 无特殊需求请选择www用户",-1))])]})),_:1}),v(a,{label:"环境变量"},{default:_((function(){return[v(A,{modelValue:h(ve),"onUpdate:modelValue":t[11]||(t[11]=function(e){return k(ve)?ve.value=e:null})},{default:_((function(){return[v(F,{label:0},{default:_((function(){return t[30]||(t[30]=[b("无")])})),_:1}),v(F,{label:1},{default:_((function(){return t[31]||(t[31]=[b("指定变量")])})),_:1}),v(F,{label:2},{default:_((function(){return t[32]||(t[32]=[b("从文件加载")])})),_:1})]})),_:1},8,["modelValue"])]})),_:1}),V(v(a,{label:" "},{default:_((function(){return[V(v(o,{width:"40rem",type:"textarea",rows:4,resize:"none",modelValue:h(fe).env,"onUpdate:modelValue":t[12]||(t[12]=function(e){return h(fe).env=e}),placeholder:"环境变量，1行1个，例如： JAVA_HOME=/usr/local/btjdk/jdk8"},null,8,["modelValue"]),[[D,1===h(ve)]]),V(v(r,{width:"40rem",modelValue:h(fe).envPath,"onUpdate:modelValue":t[13]||(t[13]=function(e){return h(fe).envPath=e}),placeholder:"请选择环境变量文件",icon:"el-folder-opened",onIconClick:Ke},null,8,["modelValue"]),[[D,2===h(ve)]])]})),_:1},512),[[D,0!==h(ve)]]),h(_e)?g("",!0):(d(),y(a,{key:1,label:"项目备注"},{default:_((function(){return[v(o,{width:"32rem",modelValue:h(fe).project_ps,"onUpdate:modelValue":t[14]||(t[14]=function(e){return h(fe).project_ps=e}),placeholder:"输入项目备注，非必填"},null,8,["modelValue"])]})),_:1})),v(a,{label:"守护进程"},{default:_((function(){return[v(l,{modelValue:h(fe).daemon_status,"onUpdate:modelValue":t[15]||(t[15]=function(e){return h(fe).daemon_status=e})},{default:_((function(){return t[33]||(t[33]=[b(" 项目意外停止时自动重启 ")])})),_:1},8,["modelValue"])]})),_:1}),v(M,{isShowDivider:!h(_e)},{config:_((function(){return[h(_e)?g("",!0):(d(),y(a,{key:0,label:"绑定域名"},{default:_((function(){return[v(B,{placement:"top-start","popper-class":"green-tips-popover !p-0",title:"",width:"400",visible:h(Oe),"onUpdate:visible":t[18]||(t[18]=function(e){return k(Oe)?Oe.value=e:null}),"trigger-keys":[],trigger:"focus"},{reference:_((function(){return[v(o,{rows:4,resize:"none",width:"40rem",modelValue:h(fe).domains,"onUpdate:modelValue":t[16]||(t[16]=function(e){return h(fe).domains=e}),type:"textarea",onFocus:t[17]||(t[17]=function(e){return Oe.value=!0}),placeholder:"如需填写多个域名，请换行填写，每行一个域名，默认为80端口\nIP地址格式：192.168.1.199\n泛解析添加方法 *.domain.com\n如另加端口格式为 www.domain.com:88"},null,8,["modelValue"])]})),default:_((function(){return[t[34]||(t[34]=j("div",{class:"!p-[12px] bg-[#20a53a] text-white"},[b("如果需要绑定外网，请输入需要绑定的域名，该选项可为空"),j("br"),b("如需填写多个域名，请换行填写，每行一个域名，默认为80端口"),j("br"),b("泛解析添加方法 *.domain.com"),j("br"),b("如另加端口格式为 www.domain.com:88")],-1))]})),_:1},8,["visible"])]})),_:1})),v(a,{label:"监听重启"},{default:_((function(){return[v(l,{modelValue:h(fe).use_project_watch,"onUpdate:modelValue":t[19]||(t[19]=function(e){return h(fe).use_project_watch=e})},{default:_((function(){return t[35]||(t[35]=[b("是否设置监听文件发生变化时重启")])})),_:1},8,["modelValue"])]})),_:1}),v(a,{label:"jmx监控"},{default:_((function(){return[v(l,{modelValue:h(fe).jmx_status,"onUpdate:modelValue":t[20]||(t[20]=function(e){return h(fe).jmx_status=e}),onChange:t[21]||(t[21]=function(e){return qe(4)}),disabled:!h(fe).project_cmd},{default:_((function(){return t[36]||(t[36]=[b(" 设置jmx后可在性能监控中查询项目性能信息 ")])})),_:1},8,["modelValue","disabled"])]})),_:1})]})),_:1},8,["isShowDivider"]),h(_e)?(d(),y(a,{key:2,label:" "},{default:_((function(){return[v(n,{type:"primary",onClick:Ze},{default:_((function(){return t[37]||(t[37]=[b("保存当前配置")])})),_:1})]})),_:1})):g("",!0)]})),_:1}),v(G,{modelValue:h(he),"onUpdate:modelValue":t[23]||(t[23]=function(e){return k(he)?he.value=e:null}),area:50,showFooter:"",onConfirm:We,title:"项目更新"},{default:_((function(){return[j("div",De,[v(N,{ref_key:"javaFormRef",ref:Se,model:h(Pe),disabled:h(Ce),"label-width":"9rem",rules:h(Ue)},{default:_((function(){return[v(a,{label:"jar包路径",prop:"project_jar"},{default:_((function(){return[v(r,{modelValue:h(Pe).project_jar,"onUpdate:modelValue":t[22]||(t[22]=function(e){return h(Pe).project_jar=e}),icon:"el-folder-opened",onIconClick:He,width:"32rem"},null,8,["modelValue"])]})),_:1})]})),_:1},8,["model","disabled","rules"])])]})),_:1},8,["modelValue"])])}}}),Oe={class:"flex items-center"},Se=n({__name:"builtin-project",props:{projectData:{default:{}},editForm:{}},setup:function(e,t){var n,a=t.expose,o=e,i=me().siteInfo,p=l({project_type:1,project_path:"/www/wwwroot/",tomcat_version:(null==o||null===(n=o.projectData)||void 0===n||null===(n=n.tomcat_list[0])||void 0===n?void 0:n.version)||"",project_ps:"",domain:"",use_project_watch:!1,run_user:"www"}),k=function(e){p.value.project_ps=e,p.value.project_path="/www/wwwroot/".concat(e)},V=function(){de({type:"all",path:p.value.project_path,change:function(e){p.value.project_path=e;var t=e.substring(e.lastIndexOf("/")+1).replace(/\W/g,"_");p.value.domain||(p.value.domain=t),p.value.project_ps=t}})};s((function(){return o.projectData.tomcat_list.length}),(function(){var e;p&&!_e.value&&(p.value.tomcat_version=null===(e=o.projectData.tomcat_list[0])||void 0===e?void 0:e.version)}),{immediate:!0,deep:!0});var D,S=G({data:p.value,options:[{type:"slots",key:"custom",rules:{domain:[N({message:"请输入项目域名"})],project_path:[N({message:"请输入项目路径"})],tomcat_version:[N({message:"请选择tomcat版本",trigger:"change"})]}}],submit:(D=c(u().mark((function e(t,n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:return a=r({},t.value),_e.value&&(a.project_jar="",a.project_cmd="",a.project_jdk="",delete a.jmx_info,a.log_conf,delete a.logs,a.scripts),e.abrupt("return",he(a));case 5:case"end":return e.stop()}}),e)}))),function(e,t){return D.apply(this,arguments)})}),C=S.BtForm,U=S.submit;return f((function(){if(_e.value){var e=i.value,t=e.project_config,n=e.ps,a=e.use_project_watch,o=e.path;Object.assign(p.value,r(r({},t),{},{domain:t.project_name,project_path:o,is_separation:1===t.is_separation,project_ps:n,debug:0,use_project_watch:a,run_user:"www",release_firewall:!1,project_type:1,jmx_status:!1}))}})),a({onConfirm:U}),function(e,t){var r=z,n=O,a=ae,o=J,u=P,l=Y,c=E;return d(),m("div",null,[v(h(C),{"label-width":"100px",class:"mt-2rem"},{custom:_((function(){return[v(n,{label:"项目域名",prop:"domain"},{default:_((function(){return[v(r,{disabled:h(_e),onInput:k,width:"32rem",modelValue:h(p).domain,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h(p).domain=e}),placeholder:"请输入项目域名"},null,8,["disabled","modelValue"])]})),_:1}),v(n,{label:"项目路径",prop:"project_path"},{default:_((function(){return[v(a,{modelValue:h(p).project_path,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h(p).project_path=e}),icon:"el-folder-opened",onIconClick:V,width:"32rem"},null,8,["modelValue"])]})),_:1}),v(n,{label:"Tomcat版本",prop:"tomcat_version"},{default:_((function(){return[j("div",Oe,[v(u,{modelValue:h(p).tomcat_version,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h(p).tomcat_version=e}),class:"mr-8px !w-[16rem]",disabled:!e.projectData.tomcat_list.length||h(_e)},{default:_((function(){return[(d(!0),m(w,null,x(e.projectData.tomcat_list,(function(e,t){return d(),y(o,{key:t,value:e.version,label:e.name},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","disabled"]),h(_e)?g("",!0):(d(),y(l,{key:0,onClick:t[3]||(t[3]=function(e){return h(je)("tomcatSettings")})},{default:_((function(){return t[5]||(t[5]=[b("安装Tomcat其他版本")])})),_:1}))])]})),_:1}),v(n,{label:"项目备注"},{default:_((function(){return[v(r,{width:"32rem",modelValue:h(p).project_ps,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h(p).project_ps=e}),placeholder:"输入项目备注，非必填"},null,8,["modelValue"])]})),_:1}),h(_e)?(d(),y(n,{key:0,label:" "},{default:_((function(){return[v(c,{type:"primary",onClick:h(U)},{default:_((function(){return t[6]||(t[6]=[b("保存当前配置")])})),_:1},8,["onClick"])]})),_:1})):g("",!0)]})),_:1})])}}}),Ce={class:"flex items-center"},Pe={class:"flex items-center"},Ue={class:"flex items-center"},Le={class:"flex items-center custom-refresh-select"},Ie={class:"el-input-group__append !h-3rem !flex items-center"},Te=n({__name:"independent-project",props:{projectData:{default:{}},editForm:{}},setup:function(e,t){var n,a,o=t.expose,k=e,V=$(),D=me().siteInfo,U=!1,L=l({project_path:"/www/wwwroot",project_jdk:(null==k||null===(n=k.projectData)||void 0===n||null===(n=n.jdk_info[0])||void 0===n?void 0:n.path)||"",use_project_watch:!1,project_ps:"",domain:"",release_firewall:!1,tomcat_version:(null==k||null===(a=k.projectData)||void 0===a||null===(a=a.tomcat_list[0])||void 0===a?void 0:a.version)||"",port:"",run_user:"www",auth:!1}),I=i("getSystemInfoEvent",(function(e){})),T=function(e){_e.value||(L.value.project_ps=e,L.value.project_path="/www/wwwroot/".concat(e))},A=function(){de({type:"dir",path:L.value.project_path,change:function(e){var t;L.value.project_path=e;var r=null===(t=e.substring(e.lastIndexOf("/")+1))||void 0===t?void 0:t.replace(/\./g,"_");L.value.domain||(L.value.domain=r),L.value.project_ps=r}})},B=function(){U=!0},M=function(){var e=c(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(L.value.port){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,pe({port:L.value.port},"java");case 5:(t=e.sent).status||(V.request(t),L.value.port=""),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();s((function(){return k.projectData.tomcat_list.length}),(function(){var e;L&&!_e.value&&(L.value.tomcat_version=null===(e=k.projectData.tomcat_list[0])||void 0===e?void 0:e.version)}),{immediate:!0,deep:!0}),s((function(){return k.projectData.jdk_info.length}),(function(){var e;L&&!_e.value&&(L.value.project_jdk=null===(e=k.projectData.jdk_info[0])||void 0===e?void 0:e.path)}),{immediate:!0,deep:!0});var X,K=G({data:L.value,options:function(){return p((function(){return[{type:"slots",key:"custom",rules:{domain:[N({message:"请输入项目域名"})],project_path:[N({message:"请输入项目路径"})],tomcat_version:[N({message:"请选择tomcat版本",trigger:"change"})],port:[N({message:"请输入端口号",trigger:"blur"}),ee()],project_jdk:[N({message:"请输入项目JDK"})]}}]}))},submit:(X=c(u().mark((function e(t,n){var a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n();case 2:if(a=r(r({},t.value),{},{project_type:2}),!_e.value){e.next=13;break}if(e.t0=U,!e.t0){e.next=8;break}return e.next=8,q({title:"提示",width:"35rem",icon:"warning-filled",content:"更改后会重启Tomcat，是否继续？"});case 8:U=!1,a.project_jar="",a.debug=t.value.debug?1:0,delete a.jmx_info,a.log_conf,delete a.logs,a.scripts;case 13:return e.abrupt("return",he(a));case 14:case"end":return e.stop()}}),e)}))),function(e,t){return X.apply(this,arguments)})}),R=K.BtForm,Q=K.submit;return f((function(){if(_e.value){var e=D.value,t=e.project_config,n=e.ps,a=e.use_project_watch,o=e.path;Object.assign(L.value,r(r({},t),{},{domain:t.project_name,project_path:o,project_jdk:t.project_jdk+"/bin/java",run_user:t.run_user,is_separation:1===t.is_separation,debug:0,use_project_watch:a,release_firewall:!1,project_ps:n,host_url:"http://127.0.0.1:"+t.port,jmx_status:!1}))}})),o({onConfirm:Q}),function(e,t){var r=z,n=O,a=H,o=W,u=J,l=P,c=Y,i=S,s=C,p=E;return d(),m("div",null,[v(h(R),{"label-width":"100px",class:"mt-[2rem]"},{custom:_((function(){return[v(n,{label:"项目域名",prop:"domain"},{default:_((function(){return[v(r,{disabled:h(_e),width:"36rem",onInput:T,modelValue:h(L).domain,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h(L).domain=e}),placeholder:"请输入项目域名"},null,8,["disabled","modelValue"])]})),_:1}),v(n,{label:"项目路径",prop:"project_path"},{default:_((function(){return[v(r,{width:"36rem",disabled:h(_e),modelValue:h(L).project_path,"onUpdate:modelValue":t[1]||(t[1]=function(e){return h(L).project_path=e})},F({_:2},[h(_e)?void 0:{name:"append",fn:_((function(){return[v(o,{onClick:A},{default:_((function(){return[v(a,{icon:"el-folder-opened",class:"cursor-pointer"})]})),_:1})]})),key:"0"}]),1032,["disabled","modelValue"])]})),_:1}),v(n,{label:"Tomcat版本",prop:"tomcat_version"},{default:_((function(){return[j("div",Ce,[v(l,{modelValue:h(L).tomcat_version,"onUpdate:modelValue":t[2]||(t[2]=function(e){return h(L).tomcat_version=e}),class:"mr-[8px] !w-[20rem]",disabled:h(_e)},{default:_((function(){return[(d(!0),m(w,null,x(e.projectData.tomcat_list,(function(e,t){return d(),y(u,{key:t,value:e.version,label:e.name},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","disabled"]),h(_e)?g("",!0):(d(),y(c,{key:0,onClick:t[3]||(t[3]=function(e){return h(je)("tomcatSettings")})},{default:_((function(){return t[12]||(t[12]=[b("安装Tomcat其他版本")])})),_:1}))])]})),_:1}),v(n,{label:"项目端口",prop:"port"},{default:_((function(){return[j("div",Pe,[v(r,{width:"20rem",type:"number",onBlur:M,onChange:B,class:"mr-[12px]",modelValue:h(L).port,"onUpdate:modelValue":t[4]||(t[4]=function(e){return h(L).port=e}),placeholder:"选择项目文件，自动获取端口"},null,8,["modelValue"]),h(_e)?g("",!0):(d(),y(s,{key:0,modelValue:h(L).release_firewall,"onUpdate:modelValue":t[5]||(t[5]=function(e){return h(L).release_firewall=e})},{default:_((function(){return[t[14]||(t[14]=b(" 放行端口 ")),v(i,{class:"item",effect:"dark",content:"选中将在防火墙安全组放行监听端口，放行后该项目可在外网访问",placement:"right"},{default:_((function(){return t[13]||(t[13]=[j("i",{class:"svgtofont-el-question-filled text-warning"},null,-1)])})),_:1})]})),_:1},8,["modelValue"]))])]})),_:1}),v(n,{label:"项目用户"},{default:_((function(){return[j("div",Ue,[v(l,{modelValue:h(L).run_user,"onUpdate:modelValue":t[6]||(t[6]=function(e){return h(L).run_user=e}),class:"mr-[8px] !w-[20rem]",onChange:B},{default:_((function(){return[(d(!0),m(w,null,x(e.projectData.userList,(function(e){return d(),y(u,{key:e,value:e,label:e},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"]),t[15]||(t[15]=j("span",{class:"text-[1.2rem] text-[#666]"},"* 无特殊需求请选择www用户",-1))])]})),_:1}),v(n,{label:"项目JDK",prop:"project_jdk"},{default:_((function(){return[j("div",Le,[v(l,{modelValue:h(L).project_jdk,"onUpdate:modelValue":t[7]||(t[7]=function(e){return h(L).project_jdk=e}),class:"!w-[36rem]",onChange:B},{default:_((function(){return[(d(!0),m(w,null,x(e.projectData.jdk_info,(function(e,t){return d(),y(u,{key:t,value:e.path,label:e.name+"["+e.path+"]"},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"]),j("div",Ie,[v(o,{title:"刷新项目JDK",class:"!flex",onClick:t[8]||(t[8]=function(e){return h(I)("项目JDK")})},{default:_((function(){return[v(a,{icon:"el-refresh",class:"!text-[14px]"})]})),_:1})])]),v(c,{class:"ml-8px",onClick:t[9]||(t[9]=function(e){return h(je)()})},{default:_((function(){return t[16]||(t[16]=[b("添加JDK信息")])})),_:1})]})),_:1}),v(n,{label:"开机启动"},{default:_((function(){return[v(s,{modelValue:h(L).auth,"onUpdate:modelValue":t[10]||(t[10]=function(e){return h(L).auth=e})},{default:_((function(){return t[17]||(t[17]=[b("是否设置开机自动启动（默认自带守护进程每120秒检测一次）")])})),_:1},8,["modelValue"])]})),_:1}),v(n,{label:"项目备注"},{default:_((function(){return[v(r,{width:"36rem",modelValue:h(L).project_ps,"onUpdate:modelValue":t[11]||(t[11]=function(e){return h(L).project_ps=e}),placeholder:"输入项目备注，非必填"},null,8,["modelValue"])]})),_:1}),h(_e)?(d(),y(n,{key:0,label:" "},{default:_((function(){return[v(p,{type:"primary",onClick:h(Q)},{default:_((function(){return t[18]||(t[18]=[b("保存当前配置")])})),_:1},8,["onClick"])]})),_:1})):g("",!0)]})),_:1})])}}}),Je={class:"flex items-center"},Fe={class:"flex items-center ml-[12px]"};e("default",n({__name:"index",props:{compData:{default:function(){return{isEdit:!1}}}},setup:function(e,t){var n=t.expose,a=me().siteInfo,i=ve().getRootUser,s=l(),p=l(),g=l(),w=o({userList:[],jdk_info:[],tomcat_list:[]}),x=o({radioType:"SpringBoot"}),k=l(!1),E=function(){var e=c(u().mark((function e(){var t,n,a,o,l=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.length>0&&void 0!==l[0]?l[0]:"",e.prev=1,e.next=4,fe();case 4:o=e.sent,w.jdk_info=null===(n=o.data.jdk_info)||void 0===n?void 0:n.filter((function(e){return 0!==e.operation})),w.tomcat_list=[],null===(a=o.data.tomcat_status)||void 0===a||a.forEach((function(e){e.status&&w.tomcat_list.push(r({name:"tomcat"+e.version,version:e.version},e))})),t&&re.success("".concat(t,"，刷新成功")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();A("getSystemInfoEvent",E);var S=function(){var e=c(u().mark((function e(){var t,r,n,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k.value=!0,e.next=3,i();case 3:return t=e.sent,r=t.data,w.userList=r,e.next=8,E();case 8:k.value=!1,_e.value&&(x.radioType="springboot"===(null===(n=a.value.project_config)||void 0===n?void 0:n.java_type)?"SpringBoot":"duli"===(null===(o=a.value.project_config)||void 0===o?void 0:o.java_type)?"独立项目":"内置项目");case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=c(u().mark((function e(t){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="SpringBoot"===x.radioType?s.value:"内置项目"===x.radioType?p.value:g.value,e.next=3,r.onConfirm(t);case 3:e.sent&&t&&t();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return f(S),n({init:S,onConfirm:C}),function(e,t){var r=te,n=Y,a=O,o=T,u=B("bt-loading");return d(),m("div",{class:"overflow-auto p-2rem",style:M("".concat(h(_e)?"":"max-height: 63rem;"))},[V((d(),y(o,{model:h(x),"label-width":"100px"},{default:_((function(){return[v(a,{label:"项目类型"},{default:_((function(){return[j("div",Je,[v(r,{modelValue:h(x).radioType,"onUpdate:modelValue":t[0]||(t[0]=function(e){return h(x).radioType=e}),type:"button",options:[{label:"SpringBoot",value:"SpringBoot"},{label:"内置项目",value:"内置项目"},{label:"独立项目",value:"独立项目"}],disabled:h(_e)},null,8,["modelValue","disabled"]),j("div",Fe,[v(n,{href:"https://www.bt.cn/bbs/thread-76217-1-1.html"},{default:_((function(){return t[1]||(t[1]=[b("Java项目教程")])})),_:1}),t[2]||(t[2]=j("i",{class:"svgtofont-el-link text-primary text-[1.6rem] ml-[4px]"},null,-1))])])]})),_:1}),V(v(Ee,{ref_key:"SpringBootFormRef",ref:s,isEdit:e.compData.isEdit,onCloseEvent:e.compData.closeEvent,projectData:h(w)},null,8,["isEdit","onCloseEvent","projectData"]),[[D,"SpringBoot"==h(x).radioType]]),V(v(Se,{ref_key:"BuiltinProjectFormRef",ref:p,isEdit:e.compData.isEdit,projectData:h(w)},null,8,["isEdit","projectData"]),[[D,"内置项目"==h(x).radioType]]),V(v(Te,{ref_key:"IndependentProjectRef",ref:g,isEdit:e.compData.isEdit,projectData:h(w)},null,8,["isEdit","projectData"]),[[D,"独立项目"==h(x).radioType]])]})),_:1},8,["model"])),[[u,h(k)]])],4)}}}))}}}))}();
