import{G as s,O as a,b as t}from"./utils-lib.js?v=1734676359";import{c as e,r as n,o,B as l,k as r,l as i,q as m,C as u,p as d,e as p,M as c,x as g,y,A as f}from"./base-lib.js?v=1734676359";import{B as x}from"./index185.js?v=1734676359";import{saveConfFile as j,getConfFile as v}from"./site.js?v=1734676359";import{u as S}from"./useStore7.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./ace.js?v=1734676359";const _=e({__name:"index",setup(e){const{siteInfo:_}=S(),C=t(),b=n(!1),q=n("");n("");const B=n([{content:"此处为运行配置文件,若您不了解配置规则,请勿随意修改."}]),H=async()=>{const a={data:JSON.stringify({name:_.value.name,data:q.value})},t=await s({loading:"正在保存内容，请稍候...",request:j(a),data:{msg:String,status:Boolean}});C.msg({dangerouslyUseHTMLString:!0,message:t.msg,type:t.status?"success":"error",duration:t.status?2e3:0,showClose:!t.status}),t.status&&O()},O=async()=>{const a={data:JSON.stringify({name:_.value.name})};s({loading:b,request:v(a),data:{data:[String,q]}})};return o((()=>{O()})),(s,t)=>{const e=x,n=f,o=a,j=l("bt-loading");return r(),i("div",null,[t[2]||(t[2]=m("span",{class:"my-[4px] text-[#666]"},"提示：Ctrl+F 搜索关键字，Ctrl+H 查找替换",-1)),u(p(e,{class:"!h-[54rem] my-[12px]",modelValue:d(q),"onUpdate:modelValue":t[0]||(t[0]=s=>c(q)?q.value=s:null),id:"runContent",request:!1,onSave:H},null,8,["modelValue"]),[[j,d(b)]]),m("div",null,[p(n,{type:"primary",onClick:H},{default:g((()=>t[1]||(t[1]=[y("保存")]))),_:1})]),p(o,{options:d(B),"list-style":"none",class:"ml-[20px] mt-[20px]"},null,8,["options"])])}}});export{_ as default};
