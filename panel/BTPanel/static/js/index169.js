import{c as e,h as a,r as o,k as r,l as s,e as t,x as l,p as d,N as m,a7 as i,a4 as u}from"./base-lib.js?v=1734676359";import{_ as p}from"./index88.js?v=1734676359";import{setAuthStatus as n,setupPassword as f}from"./database.js?v=1734676359";import{b6 as c,G as w}from"./utils-lib.js?v=1734676359";import{g as b}from"./useMethod3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";import"./validator.js?v=1734676359";const g={class:"px-[20px] py-[20px]"},P=e({__name:"index",props:{compData:{default:()=>({rootPwd:"",refresh:()=>{}})}},setup(e,{expose:P}){const{refs:{tabActive:V},refreshTableList:j}=b(),_=e,x={rootPwdValue:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6位",trigger:["blur","change"]}]},v=a({rootPwdValue:_.compData.rootPwd||""}),h=o();return P({onConfirm:async e=>{var a,o;await h.value.validate(),w({loading:"正在设置密码, 请稍后...",request:"mongodb"==V.value?n({data:JSON.stringify({status:"1",password:v.rootPwdValue})}):f({password:v.rootPwdValue}),message:!0}),j(),null==(o=(a=_.compData).refresh)||o.call(a),e()}}),(e,a)=>{const o=p,n=i,f=u;return r(),s("div",g,[t(f,{model:d(v),ref_key:"rootPwdRef",ref:h,rules:x,onSubmit:a[2]||(a[2]=m((()=>{}),["prevent"]))},{default:l((()=>[t(n,{label:"数据库密码",prop:"rootPwdValue"},{default:l((()=>[t(o,{icon:"el-refresh",modelValue:d(v).rootPwdValue,"onUpdate:modelValue":a[0]||(a[0]=e=>d(v).rootPwdValue=e),onIconClick:a[1]||(a[1]=()=>d(v).rootPwdValue=d(c)(16))},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])}}});export{P as default};
