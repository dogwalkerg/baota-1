import{g as e}from"./useStore.js?v=1734676359";import{c as a,k as l,J as n,x as s,e as t,p as u,q as o,aj as r,y as d,A as i,v as m,r as c,h as p,o as v,M as f,a7 as _,a4 as g,n as w,i as V,l as b,aX as y,I as h,ah as C,ag as x,w as I,C as k,D as U,G as q,P}from"./base-lib.js?v=1734676359";import{o as T,G as M,l as j,H as L,c as S,M as A,j as E,B as N,s as D,h as G,v as H,I as R,J as F}from"./utils-lib.js?v=1734676359";import{c as J,s as O,a as z,b as B,d as X,e as K,f as Q,g as W,h as Y,i as Z,j as $,k as ee,l as ae,m as le,n as ne,o as se}from"./config.js?v=1734676359";import{C as te,a as ue}from"./index96.js?v=1734676359";import{o as oe}from"./useMethod.js?v=1734676359";import{_ as re}from"./index88.js?v=1734676359";import{f as de,b as ie,a as me}from"./validator.js?v=1734676359";const ce=a({__name:"index",setup(a){const{refs:{panelConfig:d}}=e(),i=async e=>{await T({title:"关闭面板",content:"关闭面板会导致您无法访问面板 ,您真的要关闭宝塔Linux面板吗？",icon:"warning-filled"}),await M({request:J(),loading:"正在关闭面板，请稍候...",success:()=>{d.value.panelClose=!1,location.reload()}})};return(e,a)=>{const m=r;return l(),n(u(te),{label:"关闭面板"},{value:s((()=>[t(m,{"model-value":u(d).panelClose,onChange:i},null,8,["model-value"])])),desc:s((()=>a[0]||(a[0]=[o("span",null,"仅关闭当前的面板服务，不影响web服务器，数据库等程序运行",-1)]))),_:1})}}}),pe=a({__name:"index",setup(a){const{refs:{panelConfig:d}}=e(),i=async()=>{await M({loading:"正在设置IPv6状态，请稍候...",request:O(),message:!0})};return(e,a)=>{const m=r;return l(),n(u(te),{label:"监听IPv6"},{value:s((()=>[t(m,{modelValue:u(d).listenIpv6,"onUpdate:modelValue":a[0]||(a[0]=e=>u(d).listenIpv6=e),onChange:i},null,8,["modelValue"])])),desc:s((()=>a[1]||(a[1]=[o("span",null,"监听IPv6地址的访问",-1)]))),_:1})}}}),ve=a({__name:"index",setup(a){const{refs:{panelConfig:d}}=e(),i=async e=>{d.value.offlineMode=!e,await T({icon:"warning-filled",title:e?"开启 离线模式":"关闭 离线模式",content:e?"开启离线模式后面板将停止连接云端，介时软件安装、卸载、面板更新等功能将无法使用，是否继续！":"是否关闭离线模式?"}),await m()},m=async()=>{await M({loading:"正在设置离线模式，请稍候...",request:z(),message:!0,success:()=>{d.value.offlineMode=!d.value.offlineMode}})};return(e,a)=>{const m=r;return l(),n(u(te),{label:"离线模式"},{value:s((()=>[t(m,{modelValue:u(d).offlineMode,"onUpdate:modelValue":a[0]||(a[0]=e=>u(d).offlineMode=e),onChange:i},null,8,["modelValue"])])),desc:s((()=>a[1]||(a[1]=[o("span",null,"离线模式下，面板更新，插件购买等联网服务将无法使用",-1)]))),_:1})}}}),fe=a({__name:"index",setup(a){const{refs:{panelConfig:d}}=e(),i=async e=>{d.value.debugMode=!e,e?m():c()},m=()=>{oe({title:"风险操作,此功能普通用户别开启!",content:['<span class="text-danger">仅第三方开发者开发使用，普通用户请勿开启；</span>',"提交请不要在生产环境开启，这可能增加服务器安全风险；","开启开发者模式可能会占用大量内存"],checkTip:"我已了经解详情，并愿意承担风险，开启开发模式",onConfirm:async()=>{await M({loading:"正在设置开发者模式，请稍候...",request:B(),message:!0,success:()=>{d.value.debugMode=!d.value.debugMode}})}})},c=async()=>{await T({icon:"warning-filled",title:"关闭开发者模式",content:"是否关闭开发者模式?"}),await M({loading:"正在设置开发者模式，请稍候...",request:B(),message:!0,success:()=>{d.value.debugMode=!1}})};return(e,a)=>{const m=r;return l(),n(u(te),{label:"开发者模式"},{value:s((()=>[t(m,{modelValue:u(d).debugMode,"onUpdate:modelValue":a[0]||(a[0]=e=>u(d).debugMode=e),onChange:i},null,8,["modelValue"])])),desc:s((()=>a[1]||(a[1]=[o("span",null,"仅第三方开发者开发阶段使用（普通用户请勿开启）",-1)]))),_:1})}}}),_e=a({__name:"index",setup(a){const{refs:{panelConfig:m}}=e(),c=e=>{e?p():f()},p=async()=>{(await f()).status&&v()},v=()=>{j({area:50,title:"配置面板API",component:()=>L((()=>import("./api-config.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},f=async()=>await M({loading:"正在设置API配置，请稍候...",request:X({t_type:2}),message:!0,success:e=>{e.status||(m.apiInterface=!m.apiInterface)}});return(e,a)=>{const p=r,f=i,_=S;return l(),n(u(te),{label:"API接口"},{value:s((()=>[t(p,{modelValue:u(m).apiInterface,"onUpdate:modelValue":a[0]||(a[0]=e=>u(m).apiInterface=e),onChange:c},null,8,["modelValue"]),t(f,{size:"small",class:"!ml-12px",onClick:v},{default:s((()=>a[1]||(a[1]=[d(" API接口配置 ")]))),_:1})])),desc:s((()=>[o("span",null,[a[4]||(a[4]=d(" 提供面板API接口访问的支持（ ")),t(_,{class:"!inline-block",href:"https://www.bt.cn/new/product_app.html"},{default:s((()=>a[2]||(a[2]=[d("堡塔APP")]))),_:1}),a[5]||(a[5]=d("/ ")),t(_,{class:"!inline-block",href:"https://www.bt.cn/new/product_pc.html"},{default:s((()=>a[3]||(a[3]=[d("堡塔多机管理")]))),_:1}),a[6]||(a[6]=d(" 需要开启该功能）， "))]),t(_,{class:"!inline-block",href:"https://www.bt.cn/bbs/thread-20376-1-1.html"},{default:s((()=>a[7]||(a[7]=[d(" 了解详情 ")]))),_:1})])),_:1})}}}),ge=a({__name:"index",setup(a){const{refs:{panelConfig:d}}=e(),i=async e=>{d.value.onlineService=!e;const a=e?"开启":"关闭";try{await T({icon:"warning-filled",title:"".concat(a,"在线客服"),content:"".concat(a,"在线客服，").concat(e?"可以使用在线客服功能,向宝塔技术人员反馈问题,":"","是否继续操作？")}),await m()}catch(l){}},m=async()=>{await M({loading:"正在设置在线客服配置，请稍候...",request:K(),message:!0,success:()=>window.location.reload()})};return(e,a)=>{const m=r;return l(),n(u(te),{label:"在线客服"},{value:s((()=>[t(m,{modelValue:u(d).onlineService,"onUpdate:modelValue":a[0]||(a[0]=e=>u(d).onlineService=e),onChange:i},null,8,["modelValue"])])),desc:s((()=>a[1]||(a[1]=[o("span",null,"显示在线客服功能按钮",-1)]))),_:1})}}}),we=a({__name:"index",setup(a){const{refs:{panelConfig:i}}=e(),m=async e=>{i.value.improvement=!e;try{await T({icon:"warning-filled",title:e?"开启用户体验改善计划":"关闭用户体验改善计划",content:e?"感谢您参与用户改善计划，帮助宝塔提升产品质量，使得我们有机会为您提供更优质的产品和服务，是否继续？":"非常感谢您对我们的支持，即将退出用户体验改善计划，是否继续？"}),await c(e)}catch(a){}},c=async e=>{await M({loading:"正在设置用户体验改善计划配置，请稍候...",request:Q({status:e?1:"0"}),message:!0,success:()=>{i.value.improvement=!i.value.improvement}})};return(e,a)=>{const c=r,p=S;return l(),n(u(te),{label:"用户体验改善计划"},{value:s((()=>[t(c,{modelValue:u(i).improvement,"onUpdate:modelValue":a[0]||(a[0]=e=>u(i).improvement=e),onChange:m},null,8,["modelValue"])])),desc:s((()=>[a[2]||(a[2]=o("span",null,"参加用户体验改善计划来帮助我们改进产品,",-1)),t(p,{href:"https://www.bt.cn/new/agreement_privacy.html"},{default:s((()=>a[1]||(a[1]=[d(" 了解详情 ")]))),_:1})])),_:1})}}}),Ve=a({__name:"index",setup(a){const{refs:{panelConfig:r},saveConfig:m}=e(),c=()=>{r.value.webname.includes("/")||r.value.webname.includes("\\")?A.error("别名不能包含正反斜杠"):m("正在设置面板别名，请稍候...")};return(e,a)=>{const m=E,p=i;return l(),n(u(te),{label:"面板别名"},{value:s((()=>[t(m,{modelValue:u(r).webname,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).webname=e),class:"!w-[26rem]"},null,8,["modelValue"]),t(p,{type:"primary",class:"!ml-12px",onClick:c},{default:s((()=>a[1]||(a[1]=[d("保存")]))),_:1})])),desc:s((()=>a[2]||(a[2]=[o("span",null,"给面板取个别的名称，用于网页标题",-1)]))),_:1})}}}),be=a({__name:"index",setup(a){const{refs:{panelConfig:r},getConfigData:m}=e(),c=async()=>{await M({loading:"正在设置左侧菜单标题，请稍候...",request:W({title:r.value.leftTitle}),success:m,message:!0})};return(e,a)=>{const m=E,p=i;return l(),n(u(te),{label:"左侧菜单标题"},{value:s((()=>[t(m,{modelValue:u(r).leftTitle,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).leftTitle=e),class:"!w-[26rem]"},null,8,["modelValue"]),t(p,{type:"primary",class:"!ml-12px",onClick:c},{default:s((()=>a[1]||(a[1]=[d("保存")]))),_:1})])),desc:s((()=>a[2]||(a[2]=[o("span",null,"给左侧菜单标题取个别的名称",-1)]))),_:1})}}}),ye={class:"text-danger"},he=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),c=()=>{j({area:45,showFooter:!0,title:"超时时间设置",component:()=>L((()=>import("./time-config.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})};return(e,a)=>{const p=E,v=i;return l(),n(u(te),{label:"超时时间"},{value:s((()=>[t(p,{modelValue:u(r).session_timeout,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).session_timeout=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:c},{default:s((()=>a[1]||(a[1]=[d("设置")]))),_:1})])),desc:s((()=>[a[2]||(a[2]=o("span",null,"如果用户超过以上时间",-1)),o("span",ye,m(u(r).session_timeout),1),a[3]||(a[3]=o("span",null,"，未操作面板，面板将自动退出登录",-1))])),_:1})}}}),Ce=a({__name:"index",setup(a){const{refs:{panelConfig:r},saveConfig:m}=e(),c=()=>{de({type:"dir",path:r.value.sites_path,change:e=>{r.value.sites_path=e}})},p=async()=>m("正在保存默认建站目录，请稍候...");return(e,a)=>{const m=re,v=i;return l(),n(u(te),{label:"默认建站目录"},{value:s((()=>[t(m,{modelValue:u(r).sites_path,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).sites_path=e),icon:"el-folder-opened",onIconClick:c,width:"26rem"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:p},{default:s((()=>a[1]||(a[1]=[d("保存")]))),_:1})])),desc:s((()=>a[2]||(a[2]=[o("span",null,"创建的站点，默认将保存到该目录下",-1)]))),_:1})}}}),xe=a({__name:"index",setup(a){const{refs:{panelConfig:r},saveConfig:m}=e(),c=()=>{de({type:"dir",path:r.value.backup_path,change:e=>{r.value.backup_path=e}})},p=async()=>m("正在保存默认备份目录，请稍候...");return(e,a)=>{const m=re,v=i;return l(),n(u(te),{label:"默认备份目录"},{value:s((()=>[t(m,{modelValue:u(r).backup_path,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).backup_path=e),icon:"el-folder-opened",onIconClick:c,width:"26rem"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:p},{default:s((()=>a[1]||(a[1]=[d("保存")]))),_:1})])),desc:s((()=>a[2]||(a[2]=[o("span",null,"网站和站点默认的备份目录",-1)]))),_:1})}}}),Ie=a({__name:"index",setup(a){const{refs:{panelConfig:r},saveConfig:m}=e(),c=async()=>{try{await T({icon:"warning-filled",title:"修改服务器IP",content:"当前服务器IP，非必要请勿修改，错误的IP地址可能会导致当前面板部分获取服务异常，是否继续？"}),await m("正在修改服务器IP，请稍候..."),N("".concat(location.protocol,"//").concat(r.value.serverIp,":").concat(location.port).concat(location.pathname),2e3)}catch(e){}};return(e,a)=>{const m=E,p=i;return l(),n(u(te),{label:"服务器IP"},{value:s((()=>[t(m,{modelValue:u(r).serverIp,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).serverIp=e),class:"!w-[26rem]"},null,8,["modelValue"]),t(p,{type:"primary",class:"!ml-12px",onClick:c},{default:s((()=>a[1]||(a[1]=[d("保存")]))),_:1})])),desc:s((()=>a[2]||(a[2]=[o("span",null,"默认为外网IP,若您在本地虚拟机测试，请填写虚拟机内网IP",-1)]))),_:1})}}}),ke={class:"w-[26rem]"},Ue=a({__name:"index",setup(a){const{refs:{panelConfig:r},getGlobalConfig:m}=e();return(e,a)=>{const c=E,p=i;return l(),n(u(te),{label:"服务器时间"},{value:s((()=>[o("div",ke,[t(c,{modelValue:u(r).systemdate,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).systemdate=e),readonly:!0},null,8,["modelValue"])]),t(p,{type:"primary",class:"!ml-[1.2rem]",onClick:a[1]||(a[1]=e=>(async()=>{await M({loading:"正在同步服务器时间，请稍候...",request:Y(),message:!0,success:()=>{m()}})})())},{default:s((()=>a[2]||(a[2]=[d(" 同步 ")]))),_:1})])),desc:s((()=>a[3]||(a[3]=[o("span",null,"同步当前服务器时间",-1)]))),_:1})}}}),qe={class:"p-[2.5rem]"},Pe=a({__name:"index",setup(a){const{refs:{panelConfig:r,openNamePopup:m}}=e(),w=c(!1),V=c(),b=p({username1:"",username2:""}),y={username1:[{required:!0,message:"请输入用户名",trigger:["blur","input"]}],username2:[{required:!0,message:"请再次输入用户名",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,a,l)=>{a!==b.username1?l(new Error("两次用户名不一致")):l()}}]},h=()=>{b.username1=r.value.username,w.value=!0},C=async()=>{await V.value.validate(),await M({loading:"正在设置面板账号，请稍候...",request:Z({username1:await D(b.username1),username2:await D(b.username2)}),message:!0}),N("/login?dologin=True",1500)},x=()=>{var e;null==(e=V.value)||e.resetFields(),b.username1=r.value.username,b.username2=""};return v((()=>{})),(e,a)=>{const m=E,c=i,p=_,v=g,I=G;return l(),n(u(te),{label:"面板账号"},{value:s((()=>[t(m,{modelValue:u(r).username,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).username=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(c,{type:"primary",class:"!ml-12px",onClick:h},{default:s((()=>a[4]||(a[4]=[d("设置")]))),_:1}),t(I,{title:"修改面板用户名",modelValue:u(w),"onUpdate:modelValue":a[3]||(a[3]=e=>f(w)?w.value=e:null),"show-footer":!0,area:40,onConfirm:C,confirmText:"提交",onCancel:x},{default:s((()=>[o("div",qe,[t(v,{ref_key:"formRef",ref:V,model:u(b),rules:y},{default:s((()=>[t(p,{label:"用户名",prop:"username1"},{default:s((()=>[t(m,{modelValue:u(b).username1,"onUpdate:modelValue":a[1]||(a[1]=e=>u(b).username1=e),width:"21rem"},null,8,["modelValue"])])),_:1}),t(p,{label:"重复",prop:"username2"},{default:s((()=>[t(m,{modelValue:u(b).username2,"onUpdate:modelValue":a[2]||(a[2]=e=>u(b).username2=e),width:"21rem"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"])])),desc:s((()=>a[5]||(a[5]=[o("span",null,"设置面板账号",-1)]))),_:1})}}}),Te={class:"w-[26rem]"},Me={class:"p-[2.5rem] pb-0"},je=a({__name:"index",setup(e){const a=c("********"),r=c(),m=c(!1),V=()=>{b.password1=H(10),m.value=!0,w((()=>{}))},b=p({password1:"",password2:""}),y={password1:[{required:!0,message:"请输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,a,l)=>{a.length<6?l(new Error("密码长度必须大于5位")):l()}}],password2:[{required:!0,message:"请再次输入密码",trigger:["blur","input"]},{trigger:["blur","input"],validator:(e,a,l)=>{a!==b.password1?l(new Error("两次密码不一致")):l()}}]},h=()=>{b.password1=H(10)},C=async()=>{var e;await(null==(e=r.value)?void 0:e.validate()),await M({loading:"正在设置面板密码，请稍候...",request:$({password1:await D(b.password1),password2:await D(b.password2)}),message:!0,success:e=>{e.status&&N("/login?dologin=True",1500)}})},x=()=>{var e;null==(e=r.value)||e.resetFields(),b.password1="",b.password2=""};return v((()=>{b.password1=H(10)})),(e,c)=>{const p=E,v=i,w=re,I=_,k=g,U=G;return l(),n(u(te),{label:"面板密码"},{value:s((()=>[o("div",Te,[t(p,{modelValue:u(a),"onUpdate:modelValue":c[0]||(c[0]=e=>f(a)?a.value=e:null),type:"password",disabled:""},null,8,["modelValue"])]),t(v,{type:"primary",class:"!ml-12px",onClick:V},{default:s((()=>c[4]||(c[4]=[d("设置")]))),_:1}),t(U,{title:"修改面板密码",modelValue:u(m),"onUpdate:modelValue":c[3]||(c[3]=e=>f(m)?m.value=e:null),"show-footer":!0,area:40,onConfirm:C,confirmText:"提交",onCancel:x},{default:s((()=>[o("div",Me,[t(k,{ref_key:"formRef",ref:r,model:u(b),rules:y},{default:s((()=>[t(I,{label:"密码",class:"flex items-center",prop:"password1"},{default:s((()=>[t(w,{modelValue:u(b).password1,"onUpdate:modelValue":c[1]||(c[1]=e=>u(b).password1=e),icon:"el-refresh",onIconClick:h,width:"20rem"},null,8,["modelValue"])])),_:1}),t(I,{label:"重复",prop:"password2"},{default:s((()=>[t(p,{modelValue:u(b).password2,"onUpdate:modelValue":c[2]||(c[2]=e=>u(b).password2=e),width:"20rem"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"])])),desc:s((()=>c[5]||(c[5]=[o("span",null,"设置面板密码",-1)]))),_:1})}}}),Le=a({__name:"index",setup(a){const{refs:{panelConfig:r},getGlobalConfig:m}=e(),c=()=>ie(),p=async()=>{await T({icon:"warning-filled",title:"解绑宝塔账号",content:"解绑宝塔账号后，将无法正常使用面板功能，是否继续操作？"}),await M({loading:"正在解绑宝塔账号，请稍候...",request:ee(),message:!0}),setTimeout((async()=>{R("/bind")}),2e3)};return(e,a)=>{const m=E,v=i;return l(),n(u(te),{label:"绑定宝塔账号"},{value:s((()=>[a[3]||(a[3]=o("div",null,null,-1)),t(m,{modelValue:u(r).account,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).account=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(v,{type:"primary",class:"!ml-12px",onClick:c},{default:s((()=>a[1]||(a[1]=[d("设置")]))),_:1}),t(v,{class:"!ml-12px",onClick:p},{default:s((()=>a[2]||(a[2]=[d("解绑")]))),_:1})])),desc:s((()=>a[4]||(a[4]=[o("span",null,"面板大多数功能依赖云端服务(证书申请，产品购买，软件列表等)，该功能仅用于云端服务，不涉及敏感操作",-1)]))),_:1})}}}),Se=a({__name:"index",setup(a){const{refs:{panelConfig:r},getMenuListEvent:m}=e();return v((()=>{m()})),(e,a)=>{const m=E,c=i;return l(),n(u(te),{label:"面板菜单栏隐藏"},{value:s((()=>[t(m,{modelValue:u(r).menuHide,"onUpdate:modelValue":a[0]||(a[0]=e=>u(r).menuHide=e),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(c,{type:"primary",class:"!ml-12px",onClick:a[1]||(a[1]=e=>u(me)())},{default:s((()=>a[2]||(a[2]=[d("设置")]))),_:1})])),desc:s((()=>a[3]||(a[3]=[o("span",null,"隐藏左侧菜单栏目",-1)]))),_:1})}}}),Ae={class:"p-20px"},Ee=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),m=V((()=>{var e;return(null==(e=I.value.filter((e=>e.value===r.value.requestType))[0])?void 0:e.title)||""})),p=c(!1),v=()=>{p.value=!0,w.value=r.value.requestType},w=c(""),I=c([{title:"Python",value:"python"},{title:"Curl",value:"curl"},{title:"PHP",value:"php"}]),k=async()=>{await M({loading:"正在设置请求路线，请稍候...",request:ae({http_type:w.value}),message:!0}),r.value.requestType=w.value,p.value=!1};return(e,a)=>{const r=E,c=i,V=x,U=C,q=_,P=g,T=G;return l(),n(u(te),{label:"面板云端请求方式"},{value:s((()=>[t(r,{modelValue:u(m),"onUpdate:modelValue":a[0]||(a[0]=e=>f(m)?m.value=e:null),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(c,{type:"primary",class:"!ml-12px",onClick:v},{default:s((()=>a[3]||(a[3]=[d("设置")]))),_:1}),t(T,{title:"设置面板云端请求方式",class:"overflow-hidden",modelValue:u(p),"onUpdate:modelValue":a[2]||(a[2]=e=>f(p)?p.value=e:null),area:42,"show-footer":!0,onConfirm:k},{default:s((()=>[o("div",Ae,[t(P,{"label-width":"80px"},{default:s((()=>[t(q,{label:"云端请求方式","label-width":"12rem"},{default:s((()=>[t(U,{modelValue:u(w),"onUpdate:modelValue":a[1]||(a[1]=e=>f(w)?w.value=e:null),placeholder:"请选择",class:"!w-[18rem]"},{default:s((()=>[(l(!0),b(h,null,y(u(I),(e=>(l(),n(V,{key:e.value,label:e.title,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1},8,["modelValue"])])),desc:s((()=>a[4]||(a[4]=[o("span",null,"面板请求云端时，使用的请求方式，默认支持python、curl、php，请根据实际情况切换",-1)]))),_:1})}}}),Ne={class:"p-20px"},De=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),m=c(!1),p=c(""),v=c([{title:"自动",value:"auto"},{title:"IPv4",value:"ipv4"},{title:"IPv6",value:"ipv6"}]),w=V((()=>{var e;return(null==(e=v.value.filter((e=>e.value===r.value.requestLine))[0])?void 0:e.title)||""})),I=()=>{m.value=!0,p.value=r.value.requestLine},k=async()=>{await M({loading:"正在设置请求路线，请稍候...",request:le({iptype:p.value}),message:!0}),r.value.requestLine=p.value,m.value=!1};return(e,a)=>{const r=E,c=i,V=x,U=C,q=_,P=g,T=G;return l(),n(u(te),{label:"面板云端请求线路"},{value:s((()=>[t(r,{modelValue:u(w),"onUpdate:modelValue":a[0]||(a[0]=e=>f(w)?w.value=e:null),disabled:"",class:"!w-[26rem]"},null,8,["modelValue"]),t(c,{type:"primary",class:"!ml-12px",onClick:I},{default:s((()=>a[3]||(a[3]=[d("设置")]))),_:1}),t(T,{title:"设置面板云端请求线路",class:"overflow-hidden",modelValue:u(m),"onUpdate:modelValue":a[2]||(a[2]=e=>f(m)?m.value=e:null),area:42,"show-footer":!0,onConfirm:k},{default:s((()=>[o("div",Ne,[t(P,null,{default:s((()=>[t(q,{label:"云端请求线路","label-width":"12rem"},{default:s((()=>[t(U,{modelValue:u(p),"onUpdate:modelValue":a[1]||(a[1]=e=>f(p)?p.value=e:null),placeholder:"请选择",class:"!w-[18rem]"},{default:s((()=>[(l(!0),b(h,null,y(u(v),(e=>(l(),n(V,{key:e.value,label:e.title,value:e.value},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})])])),_:1},8,["modelValue"])])),desc:s((()=>a[4]||(a[4]=[o("span",null,"面板请求云端时，使用的请求线路，默认支持auto、ipv4、ipv6，请根据实际情况切换",-1)]))),_:1})}}}),Ge={class:"w-[26rem]"},He={class:"p-20px"},Re={class:"text-center text-danger",style:{"margin-bottom":"1rem"}},Fe=a({__name:"index",setup(a){const{refs:{panelConfig:r}}=e(),m=c(!1),p=c("正在测试节点连接速度..."),w=c(!1),V=c([]),T=async()=>{if(!w.value){w.value=!0;try{const{data:e}=await ne();if(F(e)){V.value=e;const a=e.filter((e=>1===e.status))[0];r.value.panelNode=(null==a?void 0:a.node_name)||"--",r.value.panelNodeId=(null==a?void 0:a.node_id)||0}}catch(e){}finally{w.value=!1}}},j=async()=>{m.value=!0;const e=localStorage.getItem("panelNodeLastTime"),a=Date.now();if(null!==e){a-parseInt(e,10)>6e4&&(await T(),localStorage.setItem("panelNodeLastTime",a.toString()))}else await T(),localStorage.setItem("panelNodeLastTime",a.toString())},L=async()=>{await M({loading:"正在设置启用节点，请稍候...",request:se({node_id:p.value}),message:!0,success:e=>{e.status&&T()}})};return I((()=>w.value),(e=>{p.value=e?"正在测试节点连接速度...":r.value.panelNodeId})),v((async()=>T())),(e,a)=>{const c=P,v=i,I=x,T=C,M=_,S=g,A=G;return l(),n(u(te),{label:"面板云端通讯节点配置"},{value:s((()=>[o("div",Ge,[t(c,{value:u(w)?"正在测试节点连接速度...":u(r).panelNode,disabled:!0},null,8,["value"])]),t(v,{type:"primary",class:"!ml-12px",onClick:j},{default:s((()=>a[2]||(a[2]=[d("设置")]))),_:1}),t(A,{title:"设置面板云端请求方式",class:"overflow-hidden",modelValue:u(m),"onUpdate:modelValue":a[1]||(a[1]=e=>f(m)?m.value=e:null),area:42,"show-footer":!0,onConfirm:L},{default:s((()=>[o("div",He,[k(o("div",Re,a[3]||(a[3]=[o("span",null,"温馨提示：正在对每个节点进行测速，请耐心等待",-1)]),512),[[U,u(w)]]),t(S,{style:q(u(w)?"":"margin-top: 1rem")},{default:s((()=>[t(M,{label:"云端请求方式","label-width":"12rem"},{default:s((()=>[t(T,{modelValue:u(p),"onUpdate:modelValue":a[0]||(a[0]=e=>f(p)?p.value=e:null),placeholder:"请选择",class:"!w-[18rem]",disabled:u(w)},{default:s((()=>[(l(!0),b(h,null,y(u(V),(e=>(l(),n(I,{key:e.node_id,label:e.node_name,value:e.node_id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","disabled"])])),_:1})])),_:1},8,["style"])])])),_:1},8,["modelValue"])])),desc:s((()=>a[4]||(a[4]=[o("span",null,"请勿随意调整节点配置，仅获取云端数据出现未响应或错误时，可尝试切换该节点",-1)]))),_:1})}}}),Je={class:"search-results"},Oe=a({__name:"index",setup(a){const{refs:{settingSearch:n}}=e();return(e,a)=>(l(),b("div",Je,[t(ue,null,{default:s((()=>[d(m("".concat(""===u(n)?"面板":"搜索","设置")),1)])),_:1}),t(ce),t(pe),t(ve),t(fe),t(_e),t(ge),t(we),t(Ve),t(be),t(he),t(Ce),t(xe),t(Ie),t(Ue),t(Pe),t(je),t(Le),t(Se),t(Ee),t(De),t(Fe)]))}});export{Oe as _};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
