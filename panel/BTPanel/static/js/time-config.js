import{c as e,r as l,h as a,o as s,k as n,l as o,e as t,x as i,q as u,p as m,M as r,C as v,D as p,L as d,a7 as c,a4 as f}from"./base-lib.js?v=1734676359";import{B as b}from"./index353.js?v=1734676359";import{a4 as _}from"./utils-lib.js?v=1734676359";import{g as x}from"./useStore.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./config.js?v=1734676359";const g={class:"p-20px"},j={class:"flex items-center"},w={class:"ml-10px flex items-center"},C=e({__name:"time-config",setup(e,{expose:C}){const{refs:{panelConfig:V},saveConfig:h}=x(),k=l(),y=a({time:5}),U=l([{num:43200,label:"12小时",value:"12小时"},{num:86400,label:"24小时",value:"24小时"},{num:259200,label:"72小时",value:"72小时"},{num:604800,label:"7天",value:"7天"},{num:2592e3,label:"30天",value:"30天"},{num:0,label:"自定义",value:"自定义"}]),q=e=>{if(k.value=e,"自定义"===e)y.time=5;else{const l=U.value.find((l=>l.label===e))||{num:86400};y.time=Number(l.num)/60}};return s((()=>{var e;e=V.value.session_timeout,U.value.filter((e=>"自定义"!==e.label)).map((e=>e.label)).includes(e)?k.value=V.value.session_timeout:(k.value="自定义",y.time=V.value.session_timeout_source/60)})),C({onConfirm:async e=>{var l;let a=0;a="自定义"===k.value?60*y.time:null==(l=U.value.find((e=>e.label===k.value)))?void 0:l.num,await h("正在设置超时时间，请稍候...",{session_timeout:a}),e()}}),(e,l)=>{const a=_,s=b,x=c,C=f;return n(),o("div",g,[t(C,null,{default:i((()=>[t(x,{label:"超时时间"},{default:i((()=>[u("div",j,[t(a,{modelValue:m(k),"onUpdate:modelValue":l[0]||(l[0]=e=>r(k)?k.value=e:null),options:m(U),class:"!w-[14rem]",onChange:q},null,8,["modelValue","options"]),v(u("div",w,[t(s,{class:"!w-[10rem]",modelValue:m(y).time,"onUpdate:modelValue":l[1]||(l[1]=e=>m(y).time=e),"controls-position":"right",min:5,step:1,onKeyup:l[2]||(l[2]=d((e=>{return l=e,a=window.event?l.keyCode:l.which,void([189,190,109,110].includes(a)&&(l.target.value=""));var l,a}),["native"]))},null,8,["modelValue"]),l[3]||(l[3]=u("span",{class:"ml-10px inline-block"},"分钟",-1))],512),[[p,"自定义"==m(k)]])])])),_:1})])),_:1}),l[4]||(l[4]=u("div",{class:"mt-20px text-danger"},"注意：超时时间超过一天可能存在安全风险。",-1))])}}});export{C as default};
