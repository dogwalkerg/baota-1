import{G as e,b3 as a,O as l,j as s,aa as t}from"./utils-lib.js?v=1734676359";import{r as n,c as o,o as i,B as r,k as c,J as m,x as u,e as p,q as d,C as f,p as v,M as _,y as b,l as g,I as x,aX as y,z as C,ay as k,A as S,aj as h,aN as V,a7 as j,a4 as w}from"./base-lib.js?v=1734676359";import{B as L}from"./index185.js?v=1734676359";import{S as z,_ as G}from"./index.vue_vue_type_script_setup_true_lang7.js?v=1734676359";import{Y as q,Z as T,Q as U}from"./validator.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./ace.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";const H=z(),M=n({}),P={enableGzipCompress:"为静态和动态响应启用GZIP/Brotli压缩.",gzipCompressLevel:"指定应用于动态内容的GZIP压缩级别。范围从1（最低）到9（最高）.",maxSSLConnections:"指定服务器将接受的最大并发SSL连接数<br/>\t\t\t#因为总的并发SSL和非SSL连接不能超过“Max connections”指定的限制,<br>\t\t\t#允许的并发SSL连接的实际数目必须低于此限制.",maxConnections:"指定服务器可以接受的最大并发连接数.<br/>\t\t\t#这包括纯TCP连接和SSL连接",connTimeout:"指定在处理一个请求期间允许的最大连接空闲时间（秒）.",maxKeepAliveReq:"指定可通过保持活动（持久）会话服务的最大请求数."},B=n("service"),I=n(""),O=n(!1),Z=n(!1),A=n([]),D=[{content:"此处为openlitespeed主配置文件,若您不了解配置规则,请勿随意修改"}],E=async()=>{await e({loading:Z,request:q(),success:e=>{A.value=[],Object.keys(e.data).forEach((a=>{A.value.push({name:a,ps:P[a],value:"enableGzipCompress"===a?"1"===e.data[a][0]:e.data[a][0]})}))}})},J=async()=>{await e({loading:"正在保存中，请稍后...",request:a({path:"/usr/local/lsws/conf/httpd_config.conf",data:I.value,encoding:"utf-8"}),message:!0})},N=async()=>{let a={};A.value.forEach((e=>{a[e.name]="enableGzipCompress"===e.name?e.value?"1":"0":e.value})),await e({loading:"正在保存中，请稍后...",request:T({array:JSON.stringify(a)}),message:!0})},F=({props:{name:a}})=>{switch(a){case"service":K();break;case"config":(async()=>{await e({loading:O,request:U({path:"/usr/local/lsws/conf/httpd_config.conf"}),data:{data:[String,I]}})})();break;case"setting":E()}},K=e=>{B.value="service",e&&(M.value=e),H.init(M.value)},Q={class:"my-[12px]"},R={class:"flex flex-col text-[#666] performance"},X={class:"flex items-center"},Y={key:1},W=["innerHTML"],$=o({__name:"index",props:{compData:{default:{}}},setup(e){const a=e;return i((()=>{K(a.compData)})),(e,a)=>{const n=k,o=L,i=S,z=l,q=s,T=h,U=V,H=j,M=w,P=t,K=r("bt-loading");return c(),m(P,{modelValue:v(B),"onUpdate:modelValue":a[1]||(a[1]=e=>_(B)?B.value=e:null),type:"left-bg-card",onTabClick:v(F)},{default:u((()=>[p(n,{label:"服务",name:"service"},{default:u((()=>[p(G)])),_:1}),p(n,{label:"配置文件",name:"config"},{default:u((()=>[a[3]||(a[3]=d("span",{class:"my-[4px] text-[#666]"},"提示：Ctrl+F 搜索关键字，Ctrl+S 保存，Ctrl+H 查找替换",-1)),d("div",Q,[f(p(o,{class:"!h-[36rem] !w-[50rem]",modelValue:v(I),"onUpdate:modelValue":a[0]||(a[0]=e=>_(I)?I.value=e:null),id:"configContent",filePath:"/usr/local/lsws/conf/httpd_config.conf"},null,8,["modelValue"]),[[K,v(O)]])]),p(i,{type:"primary",onClick:v(J)},{default:u((()=>a[2]||(a[2]=[b("保存")]))),_:1},8,["onClick"]),p(z,{options:v(D),class:"ml-[20px] mt-[20px]"},null,8,["options"])])),_:1}),f((c(),m(n,{label:"参数设置",name:"setting"},{default:u((()=>[d("div",R,[p(M,{"label-position":"right","label-width":"186px"},{default:u((()=>[(c(!0),g(x,null,y(v(A),((e,l)=>(c(),m(H,{label:e.name,key:l},{default:u((()=>[d("div",X,["enableGzipCompress"!==e.name?(c(),m(q,{key:0,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,width:"16rem"},null,8,["modelValue","onUpdate:modelValue"])):(c(),g("div",Y,[p(T,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,class:"w-[16rem]"},null,8,["modelValue","onUpdate:modelValue"])])),"rollingSize"!=e.name?(c(),m(U,{key:2,class:"item",effect:"dark",placement:"top-start"},{content:u((()=>[d("div",{innerHTML:e.ps},null,8,W)])),default:u((()=>[a[4]||(a[4]=d("i",{class:"svgtofont-el-warning text-orange text-[1.6rem] ml-[8px]"},null,-1))])),_:2},1024)):C("",!0)])])),_:2},1032,["label"])))),128)),p(H,{label:" "},{default:u((()=>[p(i,{type:"primary",onClick:v(E)},{default:u((()=>a[5]||(a[5]=[b("刷新")]))),_:1},8,["onClick"]),p(i,{type:"primary",onClick:v(N)},{default:u((()=>a[6]||(a[6]=[b("保存")]))),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1})),[[K,v(Z)]])])),_:1},8,["modelValue","onTabClick"])}}});export{$ as default};
