import{ah as a,G as e,O as s}from"./utils-lib.js?v=1734676359";import{c as l,r as t,o as u,B as n,C as o,p as m,k as i,l as c,q as r,e as d,x as p,I as v,aX as f,J as b,M as y,y as _,ag as x,ah as j,A as g}from"./base-lib.js?v=1734676359";import{bI as h,bJ as k}from"./useStore3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";const w={class:"p-[20px]"},I=l({__name:"defalut-site",setup(l){const I=t(!1),S=t([{name:"默认站点",value:"default"},{name:"自定义站点",value:"custom"}]),V=t("default"),q=async()=>{const a={site_name:"未设置默认站点"===V.value?"0":V.value};I.value=!0,await e({loading:"正在设置默认站点，请稍后...",request:k(a),message:!0}),I.value=!1};return u((()=>{(async()=>{I.value=!0;try{const{data:a}=await h();V.value=a.data.defaultSite,a.data.defaultSite||(V.value="未设置默认站点"),S.value=a.data.sites,S.value.unshift({name:"未设置默认站点",value:"未设置默认站点"})}catch(e){a(e)}finally{I.value=!1}})()})),(a,e)=>{const l=x,t=j,u=g,h=s,k=n("bt-loading");return o((i(),c("div",w,[e[2]||(e[2]=r("span",{class:"mr-[12px]"},"默认站点",-1)),d(t,{modelValue:m(V),"onUpdate:modelValue":e[0]||(e[0]=a=>y(V)?V.value=a:null),class:"!w-[32rem]"},{default:p((()=>[(i(!0),c(v,null,f(m(S),((a,e)=>(i(),b(l,{key:e,label:a.name,value:a.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),d(u,{type:"primary",onClick:q,class:"!mt-[20px] !block"},{default:p((()=>e[1]||(e[1]=[_("保存")]))),_:1}),d(h,{class:"ml-[20px] my-[20px]",options:[{content:"设置默认站点后,所有未绑定的域名和IP都被定向到默认站点"},{content:"可有效防止恶意解析"}]})])),[[k,m(I)]])}}});export{I as default};
