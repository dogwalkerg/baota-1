import{editAgainVerify as s}from"./site.js?v=1734676359";import{_ as t}from"./index91.js?v=1734676359";import{x as a,G as e}from"./utils-lib.js?v=1734676359";import{r as l,e as r,y as n}from"./base-lib.js?v=1734676359";import{Y as o,Z as i}from"./useController7.js?v=1734676359";import{u,S as c}from"./useStore11.js?v=1734676359";const{certVerifyInfo:p}=u(),{verifyBusCertEvent:d}=c(),f=async t=>{try{const a={oid:p.value.oid,dcvMethod:t.value.dcvMethod},l=await e({loading:"正在更改验证方式，请稍后...",request:s(a),message:!0});return(null==l?void 0:l.status)&&m(a.oid),l.status}catch(a){return!1}},m=async s=>{const{data:t}=await d(s);t&&i(t)},b=l([{label:"URL",prop:"url",showOverflowTooltip:!0},{label:"验证结果",prop:"status",width:100,render:s=>1==s.status?r("span",{class:"text-[#20a53a]"},[n("通过")]):r("span",{class:"text-[red] flex item-center"},[r("span",null,[n("失败["),s.status,n("]")]),r("a",{href:"https://www.bt.cn/bbs/thread-56802-1-1.html",target:"_blank",class:"svgtofont-el-question-filled text-warning ml-[2px]"},null)])},{label:"操作",align:"right",width:160,render:(s,e)=>[r("div",{class:"flex items-center justify-end"},[r("span",{class:"cursor-pointer bt-link",onClick:()=>a(s.url)},[n("复制")]),r(t,null,null),r("a",{class:"bt-link",href:s.url,target:"_blank"},[n("打开")]),r(t,null,null),r("span",{class:"cursor-pointer bt-link",onClick:()=>o(s,e)},[n("重新验证")])])]}]);export{f as o,b as t};
