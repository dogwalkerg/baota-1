import{_ as a}from"./index90.js?v=1734676359";import{R as e,G as s,F as l,k as t,b as o}from"./utils-lib.js?v=1734676359";import{_ as r}from"./index99.js?v=1734676359";import{c as i,r as n,h as d,o as c,B as m,k as u,l as p,e as h,x as f,p as j,M as v,y as _,C as g,R as b,af as w,ad as x}from"./base-lib.js?v=1734676359";import{processForCreate as V,processInfoForCreate as k}from"./site.js?v=1734676359";import{u as y}from"./column.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";const C={class:"p-[16px]"},D=i({__name:"take-over-started-project",props:{compData:{default:()=>{}}},emits:["close"],setup(i,{emit:D}){const R=i,T=D,q=o(),P=n("java"),U=d({list:[],search:"",loading:!1}),z=(a="")=>{U.search=a,A()},A=async()=>{U.loading=!0;const a=await s({request:V({is_java_process:"java"===P.value?1:0,search:U.search}),data:Array});U.loading=!1,U.list=a},B=b([{label:"PID",prop:"pid",width:100},{label:"启动指令",prop:"cmdline",showOverflowTooltip:!0,render:a=>{var e,s;return h("div",{class:"truncate"},[(null==(e=a.cmdline)?void 0:e.length)?null==(s=a.cmdline)?void 0:s.join(" "):"--"])}},{label:"运行用户",prop:"username",width:100},{label:"启动时间",render:a=>e(1e3*a.create_time),width:150},y([{onClick:async a=>{const e=await s({loading:"获取进程信息中...",request:k({pid:a.pid})});e.status?(q.success("获取进程信息成功"),R.compData.setProject(e.data),T("close")):q.error(e.msg)},width:100,title:"解析该进程"}])]);return c((()=>{A()})),(e,s)=>{const o=w,i=x,n=l,d=r,c=t,b=a,V=m("bt-loading");return u(),p("div",C,[h(b,null,{"header-left":f((()=>[h(i,{modelValue:j(P),"onUpdate:modelValue":s[0]||(s[0]=a=>v(P)?P.value=a:null),size:"default",onChange:A},{default:f((()=>[h(o,{value:"java"},{default:f((()=>s[2]||(s[2]=[_("Java进程")]))),_:1}),h(o,{value:"more"},{default:f((()=>s[3]||(s[3]=[_("更多进程信息")]))),_:1})])),_:1},8,["modelValue"])])),"header-right":f((()=>[h(n,{modelValue:j(U).search,"onUpdate:modelValue":s[1]||(s[1]=a=>j(U).search=a),placeholder:"输入关键字搜索",onClear:z,onSearch:z},null,8,["modelValue"]),h(d,{class:"ml-1rem",onRefresh:A})])),content:f((()=>[g(h(c,{ref:"Table",key:"netTable",column:j(B),"max-height":450,data:j(U).list,description:"进程列表为空"},null,8,["column","data"]),[[V,j(U).loading],[V,"正在加载进程列表，请稍后...","title"]])])),"footer-left":f((()=>s[4]||(s[4]=[]))),"footer-right":f((()=>s[5]||(s[5]=[]))),popup:f((()=>s[6]||(s[6]=[]))),_:1})])}}});export{D as default};
