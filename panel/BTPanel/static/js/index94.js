import{_ as e}from"./index95.js?v=1734676359";import{c as a,T as s,U as t,b as l,b4 as o,ar as n,r as i,w as r,Z as d,o as u,a1 as c,aJ as v,k as m,l as f,q as h,I as p,aX as b,p as g,H as y,z as _,C as k,D as x,J as C,F as w,e as I,x as $,aK as j,K as M,v as R}from"./base-lib.js?v=1734676359";import{u as S,aj as T,y as V,e as A}from"./utils-lib.js?v=1734676359";const B={class:"flex flex-col"},J=["onClick"],K=A(a({__name:"index",props:s({options:{default:()=>[]},store:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},contentClass:{default:"router-tabs-content"}},{modelValue:{},modelModifiers:{}}),emits:s(["cutTab"],["update:modelValue"]),setup(a,{emit:s}){const A=a,K=s,L=t(a,"modelValue"),{mainWidth:U}=S(),W=l(),q=o(),z=n(A.options),D=i(!0),E=i(!1),F=i("0px"),H=i(0),O=i(),X=i(),Z="".concat(W.path.split("/")[1],"_router").toUpperCase();r((()=>W.name),(()=>{if(Q())P(W.name),L.value=W.name;else{const e=localStorage.getItem(Z)||z.value[0].name;q.push({name:e}),P(e),L.value=e}})),r((()=>V.value),(e=>{var a;const s=e.find((e=>-1!==W.path.indexOf(e.path)));if((null==s?void 0:s.children)&&Array.isArray(s.children)&&z.value.forEach((e=>{const a=s.children.find((a=>e.path===a.name));e.show=!a||a.show})),!(null==(a=z.value.find((e=>e.name===W.name)))?void 0:a.show)){const e=z.value.filter((e=>e.show));e&&e.length&&Y(e[0].name)}}),{immediate:!0});const G=e=>{const a=e.target.offsetLeft,s=e.target.offsetWidth;F.value="".concat(a+s-22,"px"),E.value=!0},N=d(O,(e=>{const a=e[0],{width:s}=a.contentRect;H.value=s,D.value=U.value-320>=H.value})),P=e=>{localStorage.setItem(Z,e)},Q=()=>{const e=W.path.split("/");return e.length>2&&""!=e[2]},Y=(e,a=!0,s=!0)=>{L.value=e,a&&P(e),W.name!==e&&s&&q.push({name:e})};return r(U,(()=>{D.value=U.value-320>=H.value})),u((()=>{var e;const a=localStorage.getItem(Z);if(z.value.length||(z.value=T(null==(e=W.matched[1])?void 0:e.children,"array",[])),A.store)return Q()?Y(W.name):Y(a||z.value[0].name)})),c((()=>{N.stop()})),(a,s)=>{const t=e,l=v("router-view");return m(),f("div",B,[h("div",{class:w(["header-tabs",{disabled:a.disabled}])},[h("div",{ref_key:"headerChildContentRef",ref:O,class:"flex flex-wrap"},[(m(!0),f(p,null,b(g(z),((e,a)=>{var t,l;return m(),f(p,{key:a},[e.show?(m(),f("div",{key:0,ref_for:!0,ref_key:"tabListRef",ref:X,class:w(["header-child-tab",{"active-tab":L.value===e.name,"!hidden":null==(t=null==e?void 0:e.meta)?void 0:t.ignore}]),onClick:a=>((e,a=!1)=>{A.disabled||(L.value!==e||a)&&(P(e),L.value=e,q.push({name:e}),K("cutTab",e))})(e.name),onMouseenter:G,onMouseleave:s[0]||(s[0]=e=>E.value=!1)},R(null==(l=e.meta)?void 0:l.title),43,J)):_("",!0)],64)})),128))],512),a.$slots.right?y(a.$slots,"right",{key:0},void 0,!0):_("",!0),a.$slots.right?_("",!0):k((m(),C(t,{key:1,"is-home":!1,"disable-pro":!0},null,512)),[[x,g(D)]])],2),a.$slots.default?(m(),f("div",{key:0,class:w(a.contentClass)},[y(a.$slots,"default",{},void 0,!0)],2)):(m(),f("div",{key:1,class:w(a.contentClass)},[I(l,null,{default:$((({Component:e})=>[I(j,{name:"fade",mode:"out-in"},{default:$((()=>[(m(),C(M(e)))])),_:2},1024)])),_:1})],2))])}}}),[["__scopeId","data-v-4bbb5d2b"]]);export{K as _};
