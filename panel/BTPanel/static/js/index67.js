import{J as e,b as a,l as t,H as s,o as l,G as n,aM as o,u as r,am as i,p as c,av as d,a7 as u,an as p,bf as m,c as h,U as _,h as f,ao as v}from"./utils-lib.js?v=1734676359";import{_ as y}from"./index90.js?v=1734676359";import{_ as g}from"./index182.js?v=1734676359";import{c as x,h as b,r as w,i as C,w as k,B as D,k as E,l as j,q as N,v as A,p as M,e as V,x as L,y as O,z as T,C as I,Q as P,O as R,A as S,n as B,b4 as q,R as F,o as U,b as z,W as H,M as G,aw as J,aj as W,aY as X,aT as Q,az as Y}from"./base-lib.js?v=1734676359";import{g as K}from"./useStore10.js?v=1734676359";import{b as Z,r as $,d as ee,g as ae,a as te,c as se,e as le,u as ne,f as oe,h as re,i as ie,j as ce}from"./ssl.js?v=1734676359";import{r as de,a as ue,s as pe}from"./useMethod6.js?v=1734676359";import{o as me,e as he}from"./validator.js?v=1734676359";import{reissueCertOrder as _e,renewalCert as fe,getVerifyResult as ve}from"./site.js?v=1734676359";import{u as ye}from"./useStore11.js?v=1734676359";import{b as ge,a as xe}from"./useController7.js?v=1734676359";import{a as be}from"./column.js?v=1734676359";import{u as we}from"./index124.js?v=1734676359";import"./index.vue_vue_type_style_index_0_scoped_03ce946a_lang.js?v=1734676359";const Ce={class:"p-[2rem] w-[480px]"},ke={class:"flex items-center"},De={class:"text-[1.4rem] ml-[.8rem] leading-10"},Ee={class:"flex items-center ml-[4.8rem] mt-[1.2rem]"},je={key:0,class:"!mt-[1.2rem] text-danger ml-[4.8rem]"},Ne={key:1,class:"p-[2rem] bg-#f1f1f1 mt-[1.2rem]"},Ae={class:"mx-[1rem]"},Me={class:"bg-[#f6f8f8] footer-btn flex items-center justify-end p-[1.2rem] w-full"},Ve=x({__name:"index",props:{compData:{},isMulti:{type:Boolean}},emits:["cancel"],setup(t,{expose:s,emit:l}){const n=a(),{refs:{isRefreshCertificateList:o}}=K(),r=t,i=l,c=b({addend1:Math.round(9*Math.random()+1),addend2:Math.round(9*Math.random()+1),sum:void 0,cloud:!1,local:!0}),d=w(null),u=w(!1),p=C((()=>{var e;return u.value?d.value.filter((e=>e.use_site.length>0)).map((e=>e.use_site)).flat():null==(e=d.value)?void 0:e.use_site})),m=async()=>{if(c.sum!==c.addend1+c.addend2&&p.value.length)return n.error("计算错误，请重新计算");let a=n.load("正在".concat(u.value?"批量":"","删除证书，请稍候..."));try{if(u.value){let a=[],t=[],s=[];if(d.value.forEach((e=>{void 0!==e.hash&&null!==e.hash?s.push(e.hash):void 0!==e.index&&null!==e.index?t.push(e.index):a.push({name:e.title,status:!1,msg:"不支持删除"})})),t.length||s.length){let l={ssl_hash:s.join(","),index:t.join(","),local:1,cloud:c.cloud?1:0};p.value.length&&(l.force=!0);const{data:n}=await Z(l);e(n.finish_list)&&n.finish_list.forEach((e=>{a.push({name:e.name,status:e.status,msg:e.status?"删除成功":e.msg})}))}i("cancel"),await de({resultData:a,resultTitle:"批量删除结果"}),o.value=!0}else{let a={ssl_id:d.value.id,ssl_hash:d.value.hash,index:d.value.index};d.value.order_status?(delete a.ssl_id,delete a.ssl_hash):delete a.index,p.value.length&&(a.force=1);const t=await $({...a,local:1,cloud:c.cloud?1:0});e(t.data.finish_list)&&n.request(t.data.finish_list[0]),t.status&&(i("cancel"),o.value=!0)}}catch(t){}finally{a&&a.close(),c.addend1=Math.round(9*Math.random()+1),c.addend2=Math.round(9*Math.random()+1),c.sum=void 0}},h=()=>{i("cancel"),c.addend1=Math.round(9*Math.random()+1),c.addend2=Math.round(9*Math.random()+1),c.sum=void 0};return k((()=>r.compData),(e=>{d.value=e}),{deep:!0,immediate:!0}),k((()=>r.isMulti),(e=>{u.value=e}),{deep:!0,immediate:!0}),s({handleCancel:h}),(e,a)=>{const t=P,s=R,l=S,n=D("focus");return E(),j("div",null,[N("div",Ce,[N("div",ke,[a[2]||(a[2]=N("span",{class:"!text-warning !text-[4rem] svgtofont-el-warning-filled"},null,-1)),N("span",De,A("".concat(M(u)?"批量删除":"删除该","证书，是否继续操作？")),1)]),N("div",Ee,[V(t,{modelValue:M(c).cloud,"onUpdate:modelValue":a[0]||(a[0]=e=>M(c).cloud=e)},{default:L((()=>[O(A("".concat(M(u)?"批量":"","同步删除云端证书")),1)])),_:1},8,["modelValue"])]),M(p).length?(E(),j("div",je,[N("span",null,A("".concat(M(u)?"":"当前","证书已部署网站【").concat(M(p).join("、"),"】,\n\t\t\t\t\t强制删除证书会关闭这些网站的SSL并删除证书文件，是否继续操作？")),1)])):T("",!0),M(p).length?(E(),j("div",Ne,[a[3]||(a[3]=N("span",null,"计算结果：",-1)),N("span",Ae,A(M(c).addend1)+" + "+A(M(c).addend2),1),a[4]||(a[4]=N("span",{class:"mr-[1rem]"},"=",-1)),I(V(s,{modelValue:M(c).sum,"onUpdate:modelValue":a[1]||(a[1]=e=>M(c).sum=e),autofocus:"true","controls-position":"right",size:"small"},null,8,["modelValue"]),[[n]])])):T("",!0)]),N("div",Me,[V(l,{type:"default",onClick:h},{default:L((()=>a[5]||(a[5]=[O("取消")]))),_:1}),V(l,{type:"danger",onClick:m},{default:L((()=>[O(A("".concat(M(p).length?"强制":"","删除")),1)])),_:1})])])}}}),{orderInfo:Le,certVerifyInfo:Oe}=ye(),Te=a(),{refs:{isRefreshCertificateList:Ie}}=K(),Pe=e=>{Le.value=e,t({isAsync:!0,title:"完善商业证书资料",area:64,component:()=>s((()=>import("./index321.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{orderInfo:e,refreshEvent:()=>{Ie.value=!0}}})},Re=async e=>{const{data:a,status:l}=await(async e=>{try{const a=await n({loading:"正在验证商用证书，请稍后...",request:ve({oid:e})});return a.status?{data:{oid:e,...a.data,isCNAME:a.data.data.dcvList[0].dcvMethod.indexOf("CNAME_")>-1},status:!0,msg:"验证商用证书成功"}:(Te.request(a),{status:!1,msg:"验证商用证书失败"})}catch(a){return{status:!1,msg:"验证商用证书失败"}}})(e);var o;l&&(o=a,Oe.value=o,t({title:"验证域名-"+(o.isCNAME?"DNS验证":"文件验证"),area:64,component:()=>s((()=>import("./index322.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:o}))},Se=()=>t({isAsync:!0,area:[50,25],showFooter:!1,component:()=>s((()=>import("./index323.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)}),Be={class:"text-[1.3rem]"},qe={class:"flex items-center"},Fe={class:"flex items-center"},Ue=x({__name:"index",setup(e){const x=q(),b=a(),{mainHeight:C}=r(),{refs:{certificateParams:D,isRefreshCertificateList:T,isCertificateLoading:I,certificateTableTotal:P,expiringCertificateCount:R,tabActive:S,typeList:Z}}=K(),ve=[{label:"批量分组",value:"group",event:(e,a,t,s)=>pe(t.value,"certificate")},{label:"批量下载",value:"download",event:async(e,a,t,s)=>{await Ke(t.value)}},{label:"批量删除",value:"delete",event:(e,a,t,s)=>ta(t.value,!0)}],ye=we({key:"type",name:"证书分组",options:()=>[{label:"全部分组",value:"all"}],event:{get:async()=>{let e=[];return await n({request:ae(),data:Array,success:a=>{e=[{label:"全部分组",value:"all"},...a.map((e=>({label:e.name,value:String(e.group_id)})))]}}),Z.value=e,e},add:e=>te({name:e.name,group_id:Date.now()}),delete:e=>se({group_id:e.id})},ignore:["0"],field:"name",showEdit:!1}),Ce=v(ve),{BtTable:ke,BtPage:De,BtRefresh:Ee,BtTableCategory:je,BtRecommendSearch:Ne,BtColumn:Ae,BtBatch:Me,BtErrorMask:Le,refresh:Oe}=i({request:async e=>{let a={p:e.p,group_id:c(e.type)||"all"===e.type?"-1":e.type,search:e.search,limit:e.limit,status_id:D.value.status_id};"-1"===a.group_id&&delete a.group_id,"-1"===a.status_id&&delete a.status_id,""===a.search&&delete a.search;const{data:t}=await le(a);ze.value=t.data;return d(t)("will_num")&&(R.value=(null==t?void 0:t.will_num)||0),{data:t.data,total:u(t.page),other:{search_history:t.search_history}}},columns:[be(),{label:"证书类型",prop:"title",showOverflowTooltip:!0,width:180},{label:"认证域名",render:e=>{var a;return null==(a=e.domainName)?void 0:a.join(", ")}},{label:"分组",prop:"group_name",width:100,showOverflowTooltip:!0,isCustom:!1},{label:"部署网站",isCustom:!0,render:e=>{var a;return null==(a=e.use_site)?void 0:a.join(", ")}},{label:"自动续签",renderHeader:()=>V("div",{class:"flex items-center"},[V("span",null,[O("自动续签")]),V(J,{placement:"top-start",width:"200",trigger:"hover",content:"只支持let's Encrypt证书订单续签"},{reference:()=>V("span",{class:" ml-[4px] bt-ico-ask"},[O("?")])})]),isCustom:!1,render:e=>{let a=!("3"!==e.type||!e.order_status||-1===e.crontab_id),n="3"!==e.type||"valid"!==e.order_status;return V(W,{size:"small",modelValue:a,"onUpdate:modelValue":e=>a=e,disabled:n,onChange:a=>{var n;a?(e.crontab_id=1,n={...e,cancel:()=>{B((()=>{e.crontab_id=-1}))}},t({isAsync:!0,title:"【".concat(n.title,"】自动续签配置"),area:50,compData:n,component:()=>s((()=>import("./index320.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),showFooter:!0,confirmText:"保存配置",onCancel:n.cancel})):(async e=>{let a,t=e.crontab_id;try{e.crontab_id=-1,await l({title:"删除【".concat(e.title,"】自动续签"),content:"删除该证书自动续签，是否继续操作？",icon:"warning",width:45}),a=Te.load("正在删除证书自动续签，请稍候...");const s=await ee({crontab_id:t});Te.request(s),s.status&&(Ie.value=!0)}catch(s){s&&B((()=>{e.crontab_id=t}))}finally{a&&a.close()}})(e)}},null)}},{prop:"report_id",label:"到期告警",isCustom:!1,render:e=>{let a=""!=e.report_id;return V(W,{size:"small",modelValue:a,"onUpdate:modelValue":e=>a=e,disabled:(()=>{var t;const s=e.endDay<=0&&!a;return"1"===e.type?s:(!(null==(t=e.domainName)?void 0:t.length)||s||!(null==e?void 0:e.endDay))&&"1"!==e.type})(),onChange:a=>{a?(e.report_id="1",ue({...e,cancel:()=>{B((()=>{e.report_id=""}))}})):ca(e)}},null)}},{label:"云端同步",renderHeader:()=>V("div",{class:"flex items-center"},[V("span",null,[O("云端同步")]),V(J,{placement:"top-start",width:"150",trigger:"hover",content:"本地证书同步到云端，非本地证书不支持云端同步"},{reference:()=>V("span",{class:" ml-[4px] bt-ico-ask"},[O("?")])})]),width:120,isCustom:!1,render:e=>{let a=!!(-1!==e.cloud_id&&"3"===e.type||["1","2"].includes(e.type)),t=!("3"===e.type&&!e.order_status);return V(W,{size:"small",modelValue:a,"onUpdate:modelValue":e=>a=e,disabled:t,onChange:a=>{ia(e,a)}},null)}},{label:"到期时间",isCustom:!0,render:e=>{var a,t;const s=(e,a)=>V("span",{class:e<=10?"text-danger":a},[e>0?"剩余".concat(e,"天"):"已过期"]),l=(n=e.endDay)<=0||n<=7?"text-danger":n<=15?"text-orange":"text-[#20a53a]";var n;return"1"===e.type?e.endDate?s(e.endDay,e.endDay<=30?"text-orange":l):V("span",null,[O("--")]):"2"===e.type?(null==e?void 0:e.endDay)&&0!==(null==e?void 0:e.endDay)?s(e.endDay,e.endDay<=30?"text-orange":l):V("span",null,[O("--")]):V("span",{class:(null==(a=e.domainName)?void 0:a.length)?l:"text-[#333]"},[(null==(t=e.domainName)?void 0:t.length)?e.endDay>0?"剩余".concat(e.endDay,"天"):"已过期":"--"])}},{label:"订单状态",isCustom:!0,render:e=>{var a;switch(e.type){case"1":let t=[];const s=(e,a)=>V("span",{class:e},[a]),l=(e,a)=>V(J,{trigger:"hover",placement:"left","popper-class":"popover-default",enterable:!1,"open-delay":100,"close-delay":0},{default:()=>[{reference:()=>V("div",{style:e},[a])},V("div",{class:"flex items-center p-[2px] whitespace-nowrap"},[O("1、如填写错误，联系人工可重置订单"),V("br",null,null),O("2、如验证方式选择错误，联系人工修改验证方式")])]});let n=e.domainName&&e.domainName.length>0;if(""!=e.certId||n)if(""==e.certId&&0!==e.domainName.length)t.push(s("text-[#e6a23c]","待提交"));else if(1===e.status)switch(e.orderStatus){case"COMPLETE":t.push(s("text-[#20a53a]","订单完成"));break;case"PENDING":t.push(l("orange","验证中"));break;case"CANCELLED":t.push(s("text-[#909399]","已取消"));break;case"FAILED":t.push(s("text-[#f56c6c]","申请失败"));break;case"EXPIRED":t.push(s("text-[#909399]","已过期"));break;default:t.push(s("text-[#e6a23c]","待验证"))}else switch(e.status){case 0:t.push(s("text-[#e6a23c]","未支付"));break;case-1:t.push(s("text-[#909399]","已取消"))}else t.push(V("span",{class:"cursor-pointer bt-warn",onClick:()=>Pe(e)},[O("待完善资料")]));const o=[];return t.map(((e,a)=>{o.push(e),a<t.length-1&&o.push(V(X,{direction:"vertical"},null))})),o;case"2":switch(e.stateName){case"待验证":return V("span",{class:"text-[#e6a23c]"},[e.stateName]);case"已过期":return V("span",{class:"text-danger"},[e.stateName]);case"验证中":return V("span",{class:"text-[#fc6d26]"},[e.stateName]);case"审核已终止":return V("span",{class:"text-[#909399]"},[e.stateName]);default:return V("span",{class:"text-[#20a53a]"},[e.stateName])}case"3":return(null==e?void 0:e.order_status)&&""!==(null==e?void 0:e.order_status)&&"pending"===e.order_status?(null==(a=e.domainName)?void 0:a.length)&&e.endDay>0?V("span",{class:"text-[#e6a23c]"},[O("待验证")]):V("span",null,[O("--")]):V("span",{class:"text-[#20a53a]"},[O("订单完成")])}}},{label:"操作",align:"right",fixed:"right",width:200,render:e=>{var a;let t=[];if("1"===e.type){const a=V("span",{class:"cursor-pointer bt-link",onClick:()=>me()},[O("人工服务")]);if(e.renew&&t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>(async e=>{await l({title:"商业证书续签",content:"当前证书订单需要重新生成新订单，需要手动续签，和重新部署证书，是否继续操作？"});const a={pdata:JSON.stringify({oid:e})},t=await n({loading:"正在续签商业证书，可能等待时间较长，请稍后...",request:_e(a),data:Object});if(o(t)&&t.hasOwnProperty("order_info")){let e=t.order_info;ge({oid:t.oid,wxcode:t.wxcode,alicode:t.alicode,orderInfo:e,productInfo:{...e,productName:e.title,totalPrice:t.data.price,isRenew:!0}})}else Te.request(t);Ie.value=!0})(e.oid)},[O("续签")])),""==e.certId)e.install&&t.push(a),t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>Pe(e)},[O("完善资料")]));else if(1===e.status)switch(e.orderStatus){case"COMPLETE":1===e.ssl_state?t.push(V("span",null,[O("已部署")])):t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>sa(e)},[O("部署")])),t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>ra(e)},[O("下载")]));break;case"PENDING":default:e.install&&t.push(a),t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>Re(e.oid)},[O("验证")]));break;case"CANCELLED":t.push(V("span",null,[O("无操作")]));break;case"FAILED":t.push(V("span",{class:"cursor-pointer bt-danger"},[O("申请失败")]))}else t.push(V("span",null,[O("无操作")]));const s=[];t.map(((e,a)=>{s.push(e),a<t.length-1&&s.push(V(X,{direction:"vertical"},null))})),t=s}else if("2"===e.type){if("审核已终止"===e.stateName)return V("span",null,[O("--")]);t=[V("span",{class:"cursor-pointer bt-link",onClick:()=>sa(e)},[O("部署")])],"WF_DOMAIN_APPROVAL"===e.stateCode&&""!==e.authDomain?t=[V("span",{class:"cursor-pointer bt-link",onClick:()=>la(e)},[O("验证域名")]),V(X,{direction:"vertical"},null),V("span",{class:"bt-link",onClick:()=>xe(e)},[O("修改域名")])]:"WF_DOMAIN_APPROVAL"===e.stateCode&&""===e.authDomain&&(t=[V("span",{class:"bt-link",onClick:()=>xe(e)},[O("填写域名")])])}else if("3"===e.type){"valid"===e.order_status&&t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>{(async e=>{try{const a=await Se(),{data:t}=await fe({index:e.index});Te.msg({dangerouslyUseHTMLString:!0,message:t.msg,type:t.status?"success":"error",duration:t.status?2e3:0,showClose:!t.status}),t.status&&(Ie.value=!0),a._props.onCancel()}catch(a){}})(e)}},[O("续签")])),"pending"!==e.order_status?(t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>sa(e)},[O("部署")])),t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>ra(e)},[O("下载")]))):(null==(a=e.domainName)?void 0:a.length)&&e.endDay>0&&e.order_status&&t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>la(e)},[O("验证")])),t.push(V("span",{class:"cursor-pointer bt-link",onClick:()=>ta(e,!1)},[O("删除")]));const s=[];t.map(((e,a)=>{s.push(e),a<t.length-1&&s.push(V(X,{direction:"vertical"},null))})),t=s}return t}}],extension:[ye,Ce,p(T),m("search",{name:"ssl",key:"get_cert_list",list:[],showRecommend:!1})]}),Ue=[{content:"申请证书",dropdownClass:"bg-white",splitButton:!0,event:()=>{Qe("business")}},{content:"上传证书",dropdownClass:"bg-white",splitButton:!0,event:()=>{We()}},{content:"从云端同步",dropdownClass:"bg-white",splitButton:!0,event:()=>{Xe()}}],ze=F([]),He=F([]),Ge=w([{label:"全部",value:"-1"},{label:"验证中",value:"0"},{label:"未到期",value:"1"},{label:"即将到期(".concat(R.value,")"),value:"2"},{label:"已到期",value:"3"}]),Je=()=>{he({title:"SSL证书需求反馈收集",type:28,isNoRate:!0,softName:"1",isCard:!1,id:993})},We=()=>t({isAsync:!0,title:"上传证书",area:80,component:()=>s((()=>import("./index324.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),showFooter:!0}),Xe=async()=>{let e;try{e=a().load("正在从云端同步证书，请稍后...");const t=await ne();T.value=!0,a().request(t)}catch(t){}finally{e&&e.close()}},Qe=e=>{S.value=e,x.push({name:e})},Ye=()=>{D.value.p=1,T.value=!0},Ke=async e=>{var a;let t=null;const s=[],l=[];try{if(t=b.load("正在批量下载证书，请稍候..."),e.forEach((e=>{"1"===e.type||"2"===e.type?(e=>{l.push({name:e.title,status:!1,custom:!0})})(e):"3"===e.type&&(e=>{s.push(e)})(e)})),s.length>0){let e={ssl_hash:s.filter((e=>void 0!==e.hash&&null!==e.hash)).map((e=>e.hash)).join(","),index:s.filter((e=>void 0!==e.index&&null!==e.index)).map((e=>e.index)).join(",")};e.ssl_hash||delete e.ssl_hash,e.index||delete e.index;const{data:t,status:n}=await ce(e);n&&(t.url&&window.open(t.url),(null==(a=t.finish_list)?void 0:a.length)>0&&t.finish_list.forEach((e=>{const a=JSON.parse(e.cert.info);l.push({name:a.issuer,status:e.status})})))}de({resultData:l,resultTitle:"批量下载结果",resultColumn:[{label:"名称",prop:"name"},{label:"结果",render:e=>{let a="",t="";return e.status?(a="下载成功",t="text-primary"):e.custom?(a="不支持批量下载",t="text-warning"):(a="下载失败",t="text-danger"),Y("span",{class:t},a)}}]})}catch(n){}finally{t&&t.close()}},Ze=w(!1),$e=w(!1),ea=w(null),aa=w(null),ta=(e,a)=>{$e.value=a,ea.value=e,Ze.value=!0},sa=e=>{t({isAsync:!0,title:"【".concat(e.title,"】部署证书"),area:45,component:()=>s((()=>import("./index325.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{row:e},showFooter:!0})},la=e=>{"3"!==e.type?oa(e):na(e)},na=e=>t({isAsync:!0,title:"手动".concat("dns"===e.auth_type?"解析TXT记录":"创建验证文件"),area:70,component:()=>s((()=>import("./index326.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{row:e},showFooter:!1}),oa=e=>t({isAsync:!0,title:"【".concat(e.title,"】验证域名"),area:45,component:()=>s((()=>import("./index327.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{row:e},showFooter:!0}),ra=async e=>{if("1"===e.type)window.open("/ssl?action=download_cert&oid=".concat(e.oid));else if("3"===e.type){let a={ssl_id:e.id,ssl_hash:e.hash,index:e.index};e.order_status?(delete a.ssl_id,delete a.ssl_hash):delete a.index;const t=await oe(a);t.status&&window.open(t.msg)}},ia=async(e,a)=>{let t;try{if(a){t=b.load("正在开启云端同步证书，请稍候...");const a=await re({ssl_id:e.id,ssl_hash:e.hash});b.request(a)}else{t=b.load("正在关闭云端同步证书，请稍候...");const a=await $({ssl_id:e.id,ssl_hash:e.hash,local:!1,cloud:!0});b.request(a)}T.value=!0}catch(s){}finally{t&&t.close()}},ca=async e=>{let a=e.report_id;try{e.report_id="",await l({title:"删除【".concat(e.title,"】到期告警"),content:"删除该证书到期告警，是否继续操作？",icon:"warning",width:45});let t=b.load("正在删除证书到期告警，请稍候...");const s=await ie({task_id:a});b.request(s),s.status&&(T.value=!0),t&&t.close()}catch(t){t&&B((()=>{e.report_id=a}))}},da=()=>{Ze.value=!1};return k(R,(e=>{const a=e||0;Ge.value[3].label="即将到期(".concat(a,")")})),U((()=>{S.value=z().name})),H("sslHistoryList",He),(e,a)=>{const t=Q,s=g,l=h,n=_,o=f,r=y;return E(),j("div",null,[V(t,{type:"warning",class:"!mb-[1.2rem] !p-[1.2rem]",closable:!1,"show-icon":""},{title:L((()=>[N("span",Be,[N("span",null," 提示：即将到期证书 "+A(M(R))+" 个",1)])])),_:1}),V(r,null,{"header-left":L((()=>[N("div",qe,[V(s,{options:Ue}),V(l,{class:"ml-[12px] flex items-center",onClick:Je},{default:L((()=>a[3]||(a[3]=[N("div",{class:"flex items-center"},[N("span",{class:"svgtofont-desired text-[1.6rem]"}),N("span",null,"需求反馈")],-1)]))),_:1})])])),"header-right":L((()=>[N("div",Fe,[V(n,{type:"button",class:"mr-[1rem]",modelValue:M(D).status_id,"onUpdate:modelValue":a[0]||(a[0]=e=>M(D).status_id=e),options:M(Ge),onChange:Ye},null,8,["modelValue","options"]),V(M(je),{class:"!w-[140px] mr-[10px]"}),V(M(Ne),{type:"ssl-certificate",placeholder:"请输入证书名称",class:"!w-[270px] mr-[10px]"}),V(M(Ae))])])),content:L((()=>[V(M(ke),{"min-height":M(C)},null,8,["min-height"])])),"footer-left":L((()=>[V(M(Me))])),"footer-right":L((()=>[V(M(De))])),popup:L((()=>[V(o,{title:"证书删除确认",modelValue:M(Ze),"onUpdate:modelValue":a[1]||(a[1]=e=>G(Ze)?Ze.value=e:null),area:["auto"],onCancel:a[2]||(a[2]=e=>M(aa).handleCancel())},{default:L((()=>[V(Ve,{ref_key:"delRef",ref:aa,isMulti:M($e),compData:M(ea),onCancel:da},null,8,["isMulti","compData"])])),_:1},8,["modelValue"])])),_:1})])}}}),ze=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{Re as c,ze as i};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
