import{c as e,r as a,B as s,k as l,l as t,e as o,x as r,C as m,p as d,N as i,a7 as p,a4 as n}from"./base-lib.js?v=1734676359";import{G as u,j as c,e as f}from"./utils-lib.js?v=1734676359";import{_ as h}from"./index88.js?v=1734676359";import{addModulesDatabase as _}from"./database.js?v=1734676359";import{f as j}from"./validator.js?v=1734676359";import{g as b}from"./useMethod3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const g={class:"p-24px"},v=f(e({__name:"add-sqlite",setup(e,{expose:f}){const{refreshTableList:v}=b(),x=a(),V=a({name:"",path:""}),q={path:[{required:!0,message:"请选择数据库文件",trigger:["blur","change"]}]},w=()=>{j({type:"file",path:"",change:e=>V.value.path=e})};return f({onConfirm:async e=>{await x.value.validate(),await u({loading:"正在添加数据库，请稍后...",request:_(V.value,"sqlite"),message:!0}),v(),e()}}),(e,a)=>{const u=h,f=p,_=c,j=n,b=s("trim");return l(),t("div",g,[o(j,{model:d(V),ref_key:"addDataBaseForm",ref:x,rules:q,onSubmit:a[2]||(a[2]=i((()=>{}),["prevent"]))},{default:r((()=>[o(f,{label:"路径",prop:"path"},{default:r((()=>[m(o(u,{modelValue:d(V).path,"onUpdate:modelValue":a[0]||(a[0]=e=>d(V).path=e),icon:"icon-file_mode",name:"path",onIconClick:w,placeholder:"请选择数据库文件",width:"28rem"},null,8,["modelValue"]),[[b]])])),_:1}),o(f,{label:"名称"},{default:r((()=>[o(_,{width:"28rem",modelValue:d(V).name,"onUpdate:modelValue":a[1]||(a[1]=e=>d(V).name=e),placeholder:"可以不填写，默认为数据库文件名"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])}}}),[["__scopeId","data-v-307d7073"]]);export{v as default};
