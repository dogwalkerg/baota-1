import{D as e,O as s}from"./utils-lib.js?v=1734676359";import{c as a,s as t,ax as r,r as o,i as l,e as i,ag as m,ah as p,o as n,k as u,l as c,p as d,a5 as v}from"./base-lib.js?v=1734676359";import{b,i as g,h as j}from"./form-item.js?v=1734676359";import{D as f,t as x,s as h,e as _,b as w,d as y}from"./index127.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";import"./index90.js?v=1734676359";import"./column.js?v=1734676359";import"./useStore3.js?v=1734676359";import"./useController.js?v=1734676359";import"./validator.js?v=1734676359";const O={class:"p-[2rem]"};const C=a({__name:"php-template-form",setup(a,{expose:C}){const k=f(),{versionOptions:q,extendsupOptions:D,isEdit:H}=t(k),P=r("popupClose",(()=>{})),S=[{content:"扩展支持多选，请选择合适使用的扩展"},{content:"不建议选择项目用不上的扩展，构建慢且浪费空间"}],V=o(),{BtForm:B,submit:E,param:F}=e({data:x,options:e=>l((()=>[b("名称","name",{attrs:{class:"!w-[320px]",placeholder:"请输入环境名称",disabled:H.value},rules:[{required:!0,message:"请输入环境名称",trigger:"blur"}]}),g("版本","version",q.value,{attrs:{class:"!w-[22rem]",disabled:H.value,onChange:e=>{h(e)}},rules:[{required:!0,message:"请选择PHP版本",trigger:"change"}]}),j("扩展",(()=>{let s;return i(p,{ref:e=>V.value=e,class:"!w-[32rem]",modelValue:e.value.exts,"onUpdate:modelValue":s=>e.value.exts=s,filterable:!0,multiple:!0,"collapse-tags":!0,"collapse-tags-tooltip":!0,"reserve-keyword":!1,placeholder:"请选择扩展，可多选(可粘贴识别多个扩展，用,分隔)","filter-method":s=>_(s,D,e.value.version,F,V)},"function"==typeof(a=s=D.value.map((e=>i(m,{key:e.value,label:e.label,value:e.value},null))))||"[object Object]"===Object.prototype.toString.call(a)&&!v(a)?s:{default:()=>[s]});var a}),"exts",{rules:[{required:!0,message:"请选择扩展，可多选(可粘贴识别多个扩展，用,分隔)",trigger:"change"}]})])),submit:async(e,s,a)=>{await s(),w(e.value,P)}});return n((()=>{y(F)})),C({onConfirm:E}),(e,a)=>{const t=s;return u(),c("div",O,[i(d(B)),i(t,{options:S,class:"mt-[1rem]"})])}}});export{C as default};
