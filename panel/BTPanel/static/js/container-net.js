import{_ as a}from"./index90.js?v=1734676359";import{M as e,G as s,o as t,a4 as n,a8 as i,k as o}from"./utils-lib.js?v=1734676359";import{c as l,r,h as c,R as d,o as m,B as u,k as p,J as _,x as b,e as f,p as y,y as g,C as h,A as C}from"./base-lib.js?v=1734676359";import{g as j,by as k,bz as w,K as I}from"./useStore3.js?v=1734676359";import{u as v}from"./column.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";const N=l({__name:"container-net",setup(l){const{refs:{currentConDetail:N},getCurrentCon:A}=j(),V=r(),W=c({container_id:""}),x=c({list:[],loading:!1}),P=d([]),S=async()=>{const a={id:W.container_id,container_id:N.value.Id};a.id?s({request:k({data:JSON.stringify(a)}),message:!0,success:async a=>{a.status&&(await A(N.value.Id),q(),W.container_id="")}}):e.error("请选择网络")},q=async()=>{x.loading=!0;const a=Object.entries(N.value.NetworkSettings.Networks),e=[];a.forEach((a=>{e.push({name:a[0],...a[1]})})),x.list=e,x.loading=!1};let J=r([{label:"网络名",prop:"name",minWidth:100},{label:"IPV4地址",prop:"IPAddress",minWidth:100,isCustom:!0},{label:"IPV6地址",prop:"IPAddress6",minWidth:100,isCustom:!1},{label:"网关",prop:"Gateway",minWidth:100,isCustom:!0},{label:"MAC地址",prop:"MacAddress",minWidth:100,isCustom:!0},v([{onClick:async a=>{await t({title:"删除退出网络【".concat(a.name,"】"),content:"您真的要退出网络【".concat(a.name,"】吗？")});const e={id:a.NetworkID,container_id:N.value.Id};s({request:w({data:JSON.stringify(e)}),message:!0,success:async a=>{a.status&&(await A(N.value.Id),q())}})},width:60,title:"退出网络"}])]);return m((async()=>{q(),s({request:I(),data:Array,success:a=>{P.value=a.map((a=>({label:a.name,value:a.id})))}})})),(e,s)=>{const t=n,l=C,r=i,c=o,d=a,m=u("bt-loading");return p(),_(d,null,{"header-left":b((()=>[f(t,{modelValue:y(W).container_id,"onUpdate:modelValue":s[0]||(s[0]=a=>y(W).container_id=a),options:y(P),class:"!w-[20rem]"},null,8,["modelValue","options"]),f(l,{title:"加入网络",class:"!ml-[1rem]",type:"primary",onClick:S},{default:b((()=>s[1]||(s[1]=[g("加入网络")]))),_:1})])),"header-right":b((()=>[f(r,{name:"containerNetColumn",column:y(J),tableRef:y(V)},null,8,["column","tableRef"])])),content:b((()=>[h(f(c,{ref_key:"dockerNetTable",ref:V,column:y(J),data:y(x).list,description:"容器网络列表为空"},null,8,["column","data"]),[[m,y(x).loading],[m,"正在加载容器网络列表，请稍后...","title"]])])),_:1})}}});export{N as default};
