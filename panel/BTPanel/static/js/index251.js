import{_ as a}from"./index90.js?v=1734676359";import{cz as e,G as s,M as l,di as r,j as t,k as o}from"./utils-lib.js?v=1734676359";import{c as n,r as i,o as d,B as u,k as p,l as m,e as c,x as f,p as j,M as _,L as v,y,C as b,A as I}from"./base-lib.js?v=1734676359";import{aB as P,aC as g,aD as w}from"./firewall.js?v=1734676359";import{u as x}from"./column.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";const k=n({__name:"index",setup(n){const k=i(""),C=i(!1),h=i(),q=async()=>{await s({loading:C,request:P(),data:[Array,h]})},V=async()=>k.value?r(k.value)?(await s({loading:"正在添加IP地址，请稍后...",request:g({ip:k.value}),message:!0}),k.value="",void q()):l.error("请输入正确的IP地址"):l.error("请输入IP地址"),A=[{label:"名称",prop:"address"},{label:"封锁时间",prop:"end",render:a=>0==a.end?"永久封禁":e(a.end-a.start)},x([{onClick:async a=>{await s({loading:"正在解封IP地址，请稍后...",request:w({ip:a.address}),message:!0}),q()},title:"立即解封",width:70}])];return d((()=>q())),(e,s)=>{const l=t,r=I,n=o,i=a,d=u("bt-loading");return p(),m("div",null,[c(i,null,{"header-left":f((()=>[c(l,{modelValue:j(k),"onUpdate:modelValue":s[0]||(s[0]=a=>_(k)?k.value=a:null),placeholder:"IP地址",onKeyup:v(V,["enter","native"])},null,8,["modelValue"]),c(r,{class:"!ml-[.4rem]",type:"primary",onClick:V},{default:f((()=>s[1]||(s[1]=[y(" 添加 ")]))),_:1})])),content:f((()=>[b(c(n,{ref:"table",column:A,data:j(h),description:"封锁IP列表为空"},null,8,["data"]),[[d,j(C)],[d,"正在加载封锁IP列表，请稍后...","title"]])])),popup:f((()=>s[2]||(s[2]=[]))),_:1})])}}});export{k as default};
