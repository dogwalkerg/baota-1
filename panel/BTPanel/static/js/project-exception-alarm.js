import{D as e,j as t,aO as s,bR as a}from"./utils-lib.js?v=1734676359";import{c as r,i as l,e as o,y as u,k as m,J as p,p as i}from"./base-lib.js?v=1734676359";import{g as n,m as d,s as c}from"./index.vue_vue_type_script_setup_true_lang19.js?v=1734676359";import{u as v}from"./useStore7.js?v=1734676359";import{aC as _}from"./validator.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";import"./form-item.js?v=1734676359";import"./useController3.js?v=1734676359";import"./site.js?v=1734676359";const j=r({__name:"project-exception-alarm",setup(r,{expose:j}){const{siteInfo:b}=v(),{BtForm:f,submit:x}=e({data:async()=>{var e;const{data:t}=await n();return t||{status:!1,type:"project_status",title:"项目停止告警",project:null==(e=b.value)?void 0:e.id,tid:"site_push@9",interval:600,count:1,push_count:1,module:[],id:""}},options:e=>l((()=>[{type:"switch",label:"停止告警",key:"status",attrs:{onChange:e=>{d.status=e}}},{type:"radio",label:"自动重启",key:"count",options:[{label:"自动尝试重启项目",value:1},{label:"不做重启尝试",value:2}]},{type:"custom",render:()=>o(s,{label:"间隔时间",prop:"interval"},{default:()=>[o("div",{class:"flex items-center"},[o(t,{class:"!w-[12rem]",width:"12rem",type:"number",modelValue:e.value.interval,"onUpdate:modelValue":t=>e.value.interval=t},{append:"秒"}),o("span",{class:"text-[1.2rem] text-[#666] ml-[12px]"},[u("后再次监控检测条件 ")])])]}),rules:{interval:[a({message:"请输入间隔时间"}),{validator:(e,t,s)=>{!/^[1-9]\d*$/.test(t)||t<=0?s(new Error("请输入大于0的整数")):s()}}]}},{type:"custom",render:()=>o(s,{label:"每天发送",prop:"push_count"},{default:()=>[o("div",{class:"flex items-center"},[o(t,{class:"!w-[12rem]",width:"12rem",type:"number",modelValue:e.value.push_count,"onUpdate:modelValue":t=>e.value.push_count=t},{append:"次"}),o("span",{class:"text-[1.2rem] text-[#666] ml-[12px]"},[u("后，当日不再发送，次日恢复 ")])])]}),rules:{push_count:[a({message:"请输入发送次数"}),{validator:(e,t,s)=>{!/^[1-9]\d*$/.test(t)||t<=0?s(new Error("请输入大于0的整数")):s()}}]}},_("告警方式","module",{rules:{module:[a({message:"请选择告警方式"})]}})])),submit:async(e,t)=>(await t(),await c(e.value))});return j({onConfirm:x}),(e,t)=>(m(),p(i(f),{class:"p-2rem"}))}});export{j as default};
