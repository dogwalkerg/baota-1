import{c as a,h as e,r as s,R as l,o as r,k as o,l as t,e as m,x as u,p as n,N as i,a7 as c,a4 as d}from"./base-lib.js?v=1734676359";import{G as p,a4 as f,e as v}from"./utils-lib.js?v=1734676359";import{P as _,c1 as b}from"./useStore3.js?v=1734676359";import{p as j}from"./useMethods.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";const x={class:"flex flex-col p-[1.6rem] lib-box"},y=v(a({__name:"pull-mirror-select-dialog",props:{compData:{default:()=>({})}},setup(a,{expose:v}){const y=a,g=e({name:"",id:""}),h=s(),k={name:[{required:!0,message:"请选择仓库",trigger:"blur"}]},q=l([]);return r((async()=>{g.id=y.compData.id,p({request:_(),data:Array,success:a=>{var e;a.forEach((a=>{q.value.push({value:a.url,label:"".concat(a.name).concat("docker.io"===a.url?"":"(".concat(a.url,")")),url:a.url,name:a.name})})),g.name=null==(e=q.value[0])?void 0:e.value}})})),v({onConfirm:async a=>{try{await h.value.validate((async e=>{if(e){let e={template_id:y.compData.id,name:q.value.find((a=>a.url==g.name)).name,url:q.value.find((a=>a.url==g.name)).url};p({request:b({data:JSON.stringify(e)})}),j(),a()}}))}catch(e){}}}),(a,e)=>{const s=f,l=c,r=d;return o(),t("div",x,[m(r,{ref_key:"cmdFormRef",ref:h,model:n(g),rules:k,onSubmit:e[1]||(e[1]=i((()=>{}),["prevent"]))},{default:u((()=>[m(l,{prop:"name",label:"仓库名"},{default:u((()=>[m(s,{modelValue:n(g).name,"onUpdate:modelValue":e[0]||(e[0]=a=>n(g).name=a),options:n(q),class:"w-[44rem]"},null,8,["modelValue","options"])])),_:1})])),_:1},8,["model"])])}}}),[["__scopeId","data-v-0be440e6"]]);export{y as default};
