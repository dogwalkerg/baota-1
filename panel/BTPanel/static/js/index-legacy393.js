!function(){function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function n(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */n=function(){return r};var t,r={},a=Object.prototype,o=a.hasOwnProperty,u=Object.defineProperty||function(e,t,r){e[t]=r.value},i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function f(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(t){f=function(e,t,r){return e[t]=r}}function p(e,t,r,n){var a=t&&t.prototype instanceof x?t:x,o=Object.create(a.prototype),i=new C(n||[]);return u(o,"_invoke",{value:E(e,r,i)}),o}function d(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}r.wrap=p;var h="suspendedStart",m="suspendedYield",y="executing",v="completed",b={};function x(){}function g(){}function w(){}var k={};f(k,l,(function(){return this}));var j=Object.getPrototypeOf,_=j&&j(j(N([])));_&&_!==a&&o.call(_,l)&&(k=_);var V=w.prototype=x.prototype=Object.create(k);function L(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function O(t,r){function n(a,u,i,l){var c=d(t[a],t,u);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==e(f)&&o.call(f,"__await")?r.resolve(f.__await).then((function(e){n("next",e,i,l)}),(function(e){n("throw",e,i,l)})):r.resolve(f).then((function(e){s.value=e,i(s)}),(function(e){return n("throw",e,i,l)}))}l(c.arg)}var a;u(this,"_invoke",{value:function(e,t){function o(){return new r((function(r,a){n(e,t,r,a)}))}return a=a?a.then(o,o):o()}})}function E(e,r,n){var a=h;return function(o,u){if(a===y)throw Error("Generator is already running");if(a===v){if("throw"===o)throw u;return{value:t,done:!0}}for(n.method=o,n.arg=u;;){var i=n.delegate;if(i){var l=P(i,n);if(l){if(l===b)continue;return l}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(a===h)throw a=v,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a=y;var c=d(e,r,n);if("normal"===c.type){if(a=n.done?v:m,c.arg===b)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(a=v,n.method="throw",n.arg=c.arg)}}}function P(e,r){var n=r.method,a=e.iterator[n];if(a===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,P(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),b;var o=d(a,e.iterator,r.arg);if("throw"===o.type)return r.method="throw",r.arg=o.arg,r.delegate=null,b;var u=o.arg;return u?u.done?(r[e.resultName]=u.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,b):u:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,b)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function N(r){if(r||""===r){var n=r[l];if(n)return n.call(r);if("function"==typeof r.next)return r;if(!isNaN(r.length)){var a=-1,u=function e(){for(;++a<r.length;)if(o.call(r,a))return e.value=r[a],e.done=!1,e;return e.value=t,e.done=!0,e};return u.next=u}}throw new TypeError(e(r)+" is not iterable")}return g.prototype=w,u(V,"constructor",{value:w,configurable:!0}),u(w,"constructor",{value:g,configurable:!0}),g.displayName=f(w,s,"GeneratorFunction"),r.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},r.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,f(e,s,"GeneratorFunction")),e.prototype=Object.create(V),e},r.awrap=function(e){return{__await:e}},L(O.prototype),f(O.prototype,c,(function(){return this})),r.AsyncIterator=O,r.async=function(e,t,n,a,o){void 0===o&&(o=Promise);var u=new O(p(e,t,n,a),o);return r.isGeneratorFunction(t)?u:u.next().then((function(e){return e.done?e.value:u.next()}))},L(V),f(V,s,"Generator"),f(V,l,(function(){return this})),f(V,"toString",(function(){return"[object Generator]"})),r.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},r.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(U),!e)for(var r in this)"t"===r.charAt(0)&&o.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,a){return i.type="throw",i.arg=e,r.next=n,a&&(r.method="next",r.arg=t),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],i=u.completion;if("root"===u.tryLoc)return n("end");if(u.tryLoc<=this.prev){var l=o.call(u,"catchLoc"),c=o.call(u,"finallyLoc");if(l&&c){if(this.prev<u.catchLoc)return n(u.catchLoc,!0);if(this.prev<u.finallyLoc)return n(u.finallyLoc)}else if(l){if(this.prev<u.catchLoc)return n(u.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return n(u.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&o.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),b},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),U(r),b}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;U(r)}return a}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:N(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),b}},r}function a(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?a(Object(r),!0).forEach((function(t){u(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function u(t,r,n){return(r=function(t){var r=function(t,r){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var a=n.call(t,r||"default");if("object"!=e(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"==e(r)?r:r+""}(r))in t?Object.defineProperty(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}function i(e,t,r,n,a,o,u){try{var i=e[o](u),l=i.value}catch(e){return void r(e)}i.done?t(l):Promise.resolve(l).then(n,a)}function l(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function u(e){i(o,n,a,u,l,"next",e)}function l(e){i(o,n,a,u,l,"throw",e)}u(void 0)}))}}System.register(["./index-legacy90.js?v=1734676359","./index-legacy185.js?v=1734676359","./utils-lib-legacy.js?v=1734676359","./base-lib-legacy.js?v=1734676359","./index-legacy99.js?v=1734676359","./site-legacy.js?v=1734676359","./column-legacy.js?v=1734676359","./useController-legacy3.js?v=1734676359","./useStore-legacy7.js?v=1734676359","./ace-legacy.js?v=1734676359","./__commonjsHelpers__-legacy.js?v=1734676359","./index-legacy91.js?v=1734676359","./validator-legacy.js?v=1734676359"],(function(e,r){"use strict";var a,i,c,s,f,p,d,h,m,y,v,b,x,g,w,k,j,_,V,L,O,E,P,S,U,C,N,R,q,A,T,F,G,I,M,D,J,B,Y,$,z,H,X,K,Q,W,Z,ee,te,re,ne,ae;return{setters:[function(e){a=e._},function(e){i=e.B},function(e){c=e.u,s=e.G,f=e.M,p=e.ah,d=e.o,h=e.k,m=e.V,y=e.j,v=e.O,b=e.h},function(e){x=e.c,g=e.r,w=e.h,k=e.o,j=e.B,_=e.k,V=e.l,L=e.e,O=e.x,E=e.y,P=e.C,S=e.p,U=e.M,C=e.q,N=e.J,R=e.z,q=e.I,A=e.aX,T=e.R,F=e.A,G=e.aj,I=e.a7,M=e.a4},function(e){D=e._},function(e){J=e.modifyModulesProxy,B=e.modifyProxy,Y=e.getProxyFile,$=e.removeModulesProxy,z=e.removeProxy,H=e.getModulesProxyList,X=e.getProxyList,K=e.asyncSaveProxyFile,Q=e.saveRedirectFile,W=e.createProxySite,Z=e.createProxy},function(e){ee=e.b,te=e.u,re=e.c},function(e){ne=e.q},function(e){ae=e.u},null,null,null,null],execute:function(){var r={class:"p-[20px]"},oe={class:"flex items-center"},ue={class:"flex items-center"},ie=["onClick"],le={class:"p-2rem"};e("default",x({__name:"index",props:{compData:{default:function(){return{}}}},setup:function(e,x){var ce,se=x.expose,fe=c().plugin,pe=ae().siteInfo,de=fe.value.webserver,he=g(null===(ce=pe.value)||void 0===ce||null===(ce=ce.project_type)||void 0===ce?void 0:ce.toLowerCase()),me=g();g(""),g([]),g("");var ye=g([]),ve=g(!1),be=g(!1),xe=g({}),ge=w({proxyname:[{required:!0,message:"请输入代理名称",trigger:["blur","change"]},{trigger:["blur","input","change"],validator:function(e,t,r){t.length<3?r(new Error("代理名称必须大于3个字符串")):r()}}],proxysite:[{required:!0,message:"请输入目标url",trigger:"blur",validator:function(e,t,r){t?r():r(new Error("目标URL不能为空"))}}],todomain:[{required:!0,message:"请输入发送域名",trigger:["blur","change"]}]}),we=g({isEdit:!1,type:!0,cache:!1,advanced:!1,proxyname:"",cachetime:1,proxydir:"/",proxysite:"http://",todomain:"",subfilter:[{sub1:"",sub2:"",id:1}],subNum:1,path:"",content:""}),ke=g(!1),je=g(!1),_e=[{content:"代理目录：访问这个目录时将会把目标URL的内容返回并显示(需要开启高级功能)"},{content:"目标URL：可以填写你需要代理的站点，目标URL必须为可正常访问的URL，否则将返回错误"},{content:"发送域名：将域名添加到请求头传递到代理服务器，默认为目标URL域名，若设置不当可能导致代理无法正常运行"},{content:"内容替换：只能在使用nginx时提供，最多可以添加3条替换内容,如果不需要替换请留空"}],Ve=function(){var e=l(n().mark((function e(t,r,a,u){var i,c,s,f;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.label,c=u.value,s=new Map([["start","批量启动选中的规则后，配置的反向代理规则将继续生效"],["stop","批量停用选中的规则后，配置的反向代理规则将会失效"],["delete","批量删除选中的规则后，配置的反向代理规则将会彻底失效"]]),f=function(){var e=l(n().mark((function e(t,r){var a,u,i,l,s,f,p;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.proxyname,u=t.subfilter,i=["proxy","phpasync"].includes(he.value),e.t0=c,e.next="start"===e.t0||"stop"===e.t0?5:"delete"===e.t0?17:29;break;case 5:if(l=o(o({},t),{},{subfilter:JSON.stringify(u),type:"start"===c?1:0}),!i){e.next=12;break}return e.next=9,J(l,he.value);case 9:e.t1=e.sent,e.next=15;break;case 12:return e.next=14,B(l);case 14:e.t1=e.sent;case 15:return s=e.t1,e.abrupt("return",o(o({},t),{},{batchStatus:s.status?1:2,message:s.msg}));case 17:if(f={sitename:pe.value.name,proxyname:"phpasync"===he.value?[a]:a},!i){e.next=24;break}return e.next=21,$(f,he.value);case 21:e.t2=e.sent,e.next=27;break;case 24:return e.next=26,z(f);case 26:e.t2=e.sent;case 27:return p=e.t2,e.abrupt("return",o(o({},t),{},{batchStatus:p.status?1:2,message:p.msg}));case 29:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),e.next=5,t({title:"批量".concat(i),content:"".concat(s.get(c),"，是否继续操作？"),column:[{label:"名称",prop:"proxyname"},re()],onConfirm:function(){var e=l(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(f);case 2:return Fe(),e.abrupt("return",!1);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()});case 5:case"end":return e.stop()}}),e)})));return function(t,r,n,a){return e.apply(this,arguments)}}(),Le=function(e){var t=e.replace(/^http[s]?:\/\//,"");t=t.replace(/(:|\?|\/|\\)(.*)$/,""),we.value.todomain=t},Oe=function(){var e=l(n().mark((function e(t,r){var a,u;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o(o({},t),{},{subfilter:JSON.stringify(t.subfilter)}),"cache"===r?a.cache=t.cache?0:1:a.type=t.type?0:1,u=["proxy","phpasync"].includes(he.value),e.next=5,s({loading:"正在修改状态中，请稍后...",request:u?J(a,he.value):B(a),message:!0});case 5:e.sent.status&&Fe();case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),Ee=function(){var e=l(n().mark((function e(t){var r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y({sitename:pe.value.name,proxyname:t.proxyname,webserver:de});case 3:r=e.sent,!1===(a=r.data).status?f.request(a):(we.value.content=a[0].data,we.value.path=a[1],we.value.proxyname=t.proxyname,je.value=!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),p(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=l(n().mark((function e(){var t,r,a;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="phpasync"===he.value,r=t?K:Q,a=u(u({path:we.value.path},t?"config":"data",we.value.content),"encoding","utf-8"),e.next=5,s({loading:"正在保存配置文件，请稍后...",request:r(a),message:!0});case 5:e.sent.status&&(je.value=!1,Ce(),Fe());case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=l(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we.value.isEdit=!0,we.value.proxyname=t.proxyname,we.value.proxydir=t.proxydir,we.value.proxysite=t.proxysite,we.value.todomain=t.todomain,we.value.type=!!t.type,we.value.cache=!!t.cache,we.value.advanced=!!t.advanced,we.value.cachetime=t.cachetime,we.value.subfilter=t.subfilter.map((function(e,t){return{sub1:e.sub1,sub2:e.sub2,id:t}})).filter((function(e){return""!==e.sub1})),ke.value=!0;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=l(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ce(),ke.value=!0;case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=l(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:we.value.isEdit=!1,we.value.proxyname="",we.value.proxydir="/",we.value.proxysite="http://",we.value.todomain="",we.value.type=!0,we.value.cache=!1,we.value.advanced=!1,we.value.cachetime=1,we.value.subfilter=[{sub1:"",sub2:"",id:1}],we.value.subNum=1;case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=l(n().mark((function e(){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(3!==we.value.subfilter.length){e.next=3;break}return f.error("最多添加三条内容替换"),e.abrupt("return");case 3:we.value.subfilter.push({sub1:"",sub2:"",id:100*Math.random()});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Re=function(){var e=l(n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==we.value.subfilter.length){e.next=3;break}return f.error("至少保留一条内容替换"),e.abrupt("return");case 3:we.value.subfilter=we.value.subfilter.filter((function(e){return e.id!==t.id}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),qe=function(e){for(var r=t(e);r.length<3;)r.push({sub1:"",sub2:""});return r.map((function(e,t){return{sub1:e.sub1,sub2:e.sub2,id:100*Math.random()}}))},Ae=function(){var e=l(n().mark((function e(){var t,r,a,o,u,i,l,c,f,p,d,h,m,y,v;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xe.value.validate();case 2:return t=we.value,r=t.isEdit,a=t.type,o=t.subfilter,u=t.cache,i=t.advanced,l=t.proxyname,c=t.proxydir,f=t.proxysite,p=t.todomain,d=t.cachetime,h={subfilter:JSON.stringify(qe(o).map((function(e){return{sub1:e.sub1,sub2:e.sub2}}))),type:a?1:0,cache:u?1:0,advanced:i?1:0,sitename:pe.value.name,proxyname:l,proxydir:c,proxysite:f,todomain:p,cachetime:d},m=["proxy","phpasync"].includes(he.value),y=r?J:W,v=r?B:Z,e.next=9,s({loading:be,request:m?y(h,he.value):v(h),message:!0});case 9:e.sent.status&&(Fe(),ke.value=!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Te=function(){var e=l(n().mark((function e(t){var r,a,o;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d({title:"删除反向代理规则【".concat(t.proxyname,"】"),content:"删除选中的规则后，配置的反向代理规则将会彻底失效，是否继续操作？",icon:"warning-filled"});case 2:return r=["proxy","phpasync"].includes(he.value),a={phpasync:{sitename:pe.value.name,proxyname:t.proxyname},default:{sitename:pe.value.name,proxyname:[t.proxyname]}},o=a[he.value]||a.default,e.next=7,s({loading:"正在删除，请稍后...",request:r?$(o,he.value):z(a.default),message:!0});case 7:e.sent.status&&Fe();case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=l(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={sitename:pe.value.name},r=["proxy","phpasync"].includes(he.value),e.next=4,s({loading:ve,request:r?H(t,he.value):X(t),data:[Array,ye]});case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=[{label:"启用反向代理规则",value:"start",event:Ve},{label:"停用反向代理规则",value:"stop",event:Ve},{label:"删除反向代理规则",value:"delete",event:Ve}],Ie=T([{type:"selection"},{label:"名称",prop:"proxyname"},{label:"代理目录",prop:"proxydir"},{label:"目标URL",width:140,render:function(e){return L("span",{class:"bt-link",onClick:function(){window.open(e.proxysite)}},[e.proxysite])}},{prop:"cache",label:"缓存",width:60,render:function(e){var t=e.cache;return L("span",{class:"".concat(t?"bt-link":"bt-danger"),onClick:function(){Oe(e,"cache")}},[t?"已开启":"已关闭"])}},ee({prop:"type",event:Oe,data:["已暂停","运行中"]}),te([{onClick:Ee,title:"配置文件",width:56},{onClick:Se,title:"编辑"},{onClick:Te,title:"删除"}])]);return k(Fe),se({init:Fe}),function(e,t){var n=F,o=D,u=h,l=m,c=G,s=I,f=y,p=M,d=v,x=b,g=i,w=a,k=j("bt-loading");return _(),V("div",null,[L(w,null,{"header-left":O((function(){return[L(n,{type:"primary",onClick:Ue},{default:O((function(){return t[11]||(t[11]=[E("添加反向代理")])})),_:1})]})),"header-right":O((function(){return[L(o,{onRefresh:Fe})]})),content:O((function(){return[P(L(u,{ref_key:"reverseTableRef",ref:me,column:S(Ie),"min-height":520,data:S(ye)},null,8,["column","data"]),[[k,S(ve)],[k,"正在获取列表，请稍候...","title"]])]})),"footer-left":O((function(){return[L(l,{"table-ref":S(me),options:S(Ge)},null,8,["table-ref","options"])]})),"footer-right":O((function(){return t[12]||(t[12]=[])})),popup:O((function(){return[L(x,{title:S(we).isEdit?"修改反向代理【".concat(S(we).proxyname,"】"):"添加反向代理",modelValue:S(ke),"onUpdate:modelValue":t[8]||(t[8]=function(e){return U(ke)?ke.value=e:null}),"show-footer":!0,area:68,onConfirm:Ae},{default:O((function(){return[C("div",r,[L(p,{ref_key:"proxyForm",ref:xe,model:S(we),rules:S(ge),disabled:S(be),"label-width":"80px"},{default:O((function(){return[L(s,{label:"开启代理"},{default:O((function(){return[C("div",oe,[L(c,{modelValue:S(we).type,"onUpdate:modelValue":t[0]||(t[0]=function(e){return S(we).type=e})},null,8,["modelValue"]),L(s,{label:"开启缓存",class:"!mt-0"},{default:O((function(){return[L(c,{modelValue:S(we).cache,"onUpdate:modelValue":t[1]||(t[1]=function(e){return S(we).cache=e})},null,8,["modelValue"])]})),_:1}),L(s,{label:"高级功能",class:"!mt-0"},{default:O((function(){return[L(c,{modelValue:S(we).advanced,"onUpdate:modelValue":t[2]||(t[2]=function(e){return S(we).advanced=e})},null,8,["modelValue"])]})),_:1})])]})),_:1}),L(s,{label:"代理名称",prop:"proxyname"},{default:O((function(){return[L(f,{modelValue:S(we).proxyname,"onUpdate:modelValue":t[3]||(t[3]=function(e){return S(we).proxyname=e}),disabled:S(we).isEdit,placeholder:"请输入代理名称",width:"20rem"},null,8,["modelValue","disabled"])]})),_:1}),S(we).cache?(_(),N(s,{key:0,label:"缓存时间",prop:"cachetime"},{default:O((function(){return[L(f,{modelValue:S(we).cachetime,"onUpdate:modelValue":t[4]||(t[4]=function(e){return S(we).cachetime=e}),placeholder:"请输入缓存时间",width:"20rem",textType:"分钟"},{append:O((function(){return t[13]||(t[13]=[E(" 分钟 ")])})),_:1},8,["modelValue"])]})),_:1})):R("",!0),S(we).advanced?(_(),N(s,{key:1,label:"代理目录",prop:"proxydir"},{default:O((function(){return[L(f,{modelValue:S(we).proxydir,"onUpdate:modelValue":t[5]||(t[5]=function(e){return S(we).proxydir=e}),placeholder:"请输入代理目录",width:"20rem"},null,8,["modelValue"])]})),_:1})):R("",!0),L(s,{label:"目标URL",prop:"proxysite","label-width":"80px"},{default:O((function(){return[C("div",ue,[L(f,{modelValue:S(we).proxysite,"onUpdate:modelValue":t[6]||(t[6]=function(e){return S(we).proxysite=e}),placeholder:"请输入目标URL",width:"20rem",onInput:Le},null,8,["modelValue"]),L(s,{label:"发送域名",prop:"todomain","label-width":"50px"},{default:O((function(){return[L(f,{modelValue:S(we).todomain,"onUpdate:modelValue":t[7]||(t[7]=function(e){return S(we).todomain=e}),placeholder:"请输入发送域名",width:"20rem"},null,8,["modelValue"])]})),_:1})])]})),_:1}),L(s,{label:"内容替换"},{default:O((function(){return[(_(!0),V(q,null,A(S(we).subfilter,(function(e,t){return _(),V("div",{key:e.id,class:"flex items-center mb-1rem"},[L(f,{modelValue:e.sub1,"onUpdate:modelValue":function(t){return e.sub1=t},placeholder:"被替换的文本，可留空",width:"20rem",class:"mr-2rem !w-20rem"},null,8,["modelValue","onUpdate:modelValue"]),L(f,{modelValue:e.sub2,"onUpdate:modelValue":function(t){return e.sub2=t},placeholder:"替换为，可留空",width:"20rem",class:"mr-1rem !w-20rem"},null,8,["modelValue","onUpdate:modelValue"]),C("span",{class:"text-danger cursor-pointer",onClick:function(t){return Re(e)}},"删除",8,ie)])})),128)),L(n,{disabled:3===S(we).subfilter.length,type:"primary",class:"!mt-1rem",onClick:Ne},{default:O((function(){return t[14]||(t[14]=[C("span",{class:"svgtofont-el-plus"},null,-1),E(" 添加内容替换 ")])})),_:1},8,["disabled"])]})),_:1})]})),_:1},8,["model","rules","disabled"]),L(d,{options:_e,class:"mt-2rem pl-2rem"})])]})),_:1},8,["title","modelValue"]),L(x,{title:"编辑配置文件【".concat(S(we).proxyname,"】"),modelValue:S(je),"onUpdate:modelValue":t[10]||(t[10]=function(e){return U(je)?je.value=e:null}),area:55},{default:O((function(){return[C("div",le,[t[16]||(t[16]=C("div",{class:"text-[#666] h-[2rem] leading-[2rem] mb-[1rem]"},"提示：Ctrl+S 保存",-1)),L(g,{modelValue:S(we).content,"onUpdate:modelValue":t[9]||(t[9]=function(e){return S(we).content=e}),filePath:S(we).path,config:S(ne)(),request:!1,class:"!h-38rem"},null,8,["modelValue","filePath","config"]),L(n,{type:"primary",class:"!mt-2rem",onClick:Pe},{default:O((function(){return t[15]||(t[15]=[E("保存")])})),_:1})])]})),_:1},8,["title","modelValue"])]})),_:1}),t[17]||(t[17]=C("ul",{class:"mt-[20px] leading-8 text-[1.2rem] list-disc ml-[20px]"},[C("li",null,"设置了反向代理后，【访问限制】中的相应路径的规则将会失效")],-1))])}}}))}}}))}();
