import{c as e,ax as a,r as s,h as l,k as t,l as o,p as r,J as u,x as m,e as d,y as i,q as n,z as p,A as _,a7 as c,Q as f,a4 as v}from"./base-lib.js?v=1734676359";import{G as y,a4 as h,b}from"./utils-lib.js?v=1734676359";import{a4 as j}from"./useStore3.js?v=1734676359";import{_ as x}from"./container-terminal-dialog.vue_vue_type_script_setup_true_lang.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index.vue_vue_type_style_index_0_lang.js?v=1734676359";import"./form-item.js?v=1734676359";import"./index91.js?v=1734676359";const g={class:"h-[60rem]"},V={key:1,class:"h-full"},k=e({__name:"container-shell",props:{compData:{default:()=>({})}},setup(e){const k=b(),S=a("currentConDetail"),q=s(),C=l({type:"bash",sudo:!1}),D=s(!1),U=s({cmd:""}),w=async()=>{"running"===S.value.State.Status?q.value.validate((async e=>{e&&y({request:j({id:S.value.Id,shell:C.type,sudo_i:C.sudo?1:0}),data:{msg:[String,e=>{U.value={cmd:e},D.value=!0}]}})})):k.error("容器未运行")};return(e,a)=>{const s=h,l=_,y=c,b=f,j=v;return t(),o("div",g,[r(D)?p("",!0):(t(),u(j,{key:0,ref_key:"shellFormRef",ref:q,class:"p-[2rem]",model:r(C)},{default:m((()=>[d(y,{label:"请选择shell"},{default:m((()=>[d(s,{modelValue:r(C).type,"onUpdate:modelValue":a[0]||(a[0]=e=>r(C).type=e),options:[{label:"Bash",value:"bash"},{label:"sh",value:"sh"}],class:"!w-[20rem]"},null,8,["modelValue"]),d(l,{class:"!ml-[2rem]",type:"primary",onClick:w},{default:m((()=>a[2]||(a[2]=[i("开启终端")]))),_:1})])),_:1}),d(y,{label:" "},{default:m((()=>[d(b,{modelValue:r(C).sudo,"onUpdate:modelValue":a[1]||(a[1]=e=>r(C).sudo=e)},{default:m((()=>a[3]||(a[3]=[n("div",{class:"flex items-center"},"使用root权限执行",-1)]))),_:1},8,["modelValue"])])),_:1})])),_:1},8,["model"])),r(D)?(t(),o("div",V,[d(x,{"comp-data":r(U)},null,8,["comp-data"])])):p("",!0)])}}});export{k as default};
