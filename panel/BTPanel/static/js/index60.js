import{l as e,H as t,M as s,u as a,al as i,am as n,p as l,an as o,ao as r}from"./utils-lib.js?v=1734676359";import{_ as m}from"./index90.js?v=1734676359";import{_ as p}from"./index.vue_vue_type_script_setup_true_lang6.js?v=1734676359";import{B as u}from"./index117.js?v=1734676359";import{u as c}from"./index124.js?v=1734676359";import{g as _,r as d,c as f,s as g,w as h,e as v,y as x,o as y,n as b,k as j,l as T,p as k,x as I,q as L}from"./base-lib.js?v=1734676359";import{f as S}from"./validator.js?v=1734676359";import"./index.vue_vue_type_style_index_0_scoped_03ce946a_lang.js?v=1734676359";import{a as w,h as O,g as B,u as C}from"./column.js?v=1734676359";import{u as E,b as R,e as P,o as H,i as M,j as A,d as D,f as V,m as q,k as J}from"./useController3.js?v=1734676359";import{u as N,S as z}from"./useStore7.js?v=1734676359";const{activeType:F,isRefreshList:G}=N(),{addGeneralProject:K,setSiteInfo:Q}=z(),U=()=>{e({title:"添加HTML项目",area:62,component:()=>t((()=>import("./index314.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),showFooter:!0})},W=(s,a="")=>{Q(s,a),e({title:"HTML项目管理["+s.name+"] -- 添加时间["+s.addtime+"]",area:[84,72],component:()=>t((()=>import("./index315.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},X=(e,t)=>{S({type:"dir",path:e,change:e=>{t&&t(e)}})},Y=async e=>{var t;try{const a={...e,port:80};-1!==a.webname.split("\n")[0].indexOf(":")&&(a.port=a.webname.split("\n")[0].split(":")[1]);let i=a.webname.split("\n").filter((e=>e.length)).slice(1);a.webname=JSON.stringify({domain:a.webname.split("\n")[0],domainlist:i,count:i.length}),a.ftp||(delete a.ftp_username,delete a.ftp_password);const n=await K(a);return(null==(t=null==n?void 0:n.data)?void 0:t.siteStatus)?(G.value=!0,s.success("添加成功"),!0):(s.error(n.msg),!1)}catch(a){}},Z=_("SITE-HTML-STORE",(()=>({pluginInfo:d({})}))),$=f({__name:"index",setup(e){const{mainHeight:s}=a(),{getSiteList:_}=z(),{activeType:d,isRefreshList:f}=g(z()),{pluginInfo:S}=g(Z());h(P,(e=>{(null==e?void 0:e.pluginInfo)&&(S.value=e.pluginInfo)}),{immediate:!0,deep:!0});const{BtOperation:N}=i({options:[{type:"button",label:"添加HTML项目",active:!0,onClick:U},{type:"custom",render:()=>v(u,{class:"ml-1rem",isRequest:!1,pluginInfo:S.value},null)}]}),F=c({key:"type_id",name:"PHP分类",options:()=>[{label:"全部分类",value:"all"}],event:M,ignore:["0"],field:"type_name"}),G=r([D(),V({classList:J}),{label:"删除项目",value:"delete",event:q}]),{BtTable:K,BtSearch:Q,BtRefresh:X,BtPage:Y,BtColumn:$,BtTableCategory:ee,BtBatch:te,refresh:se}=n({request:e=>{const{type_id:t,...s}=e;return _({data:JSON.stringify({...s,type_id:l(t)||"all"===t?"":t})})},columns:[w(),E({onClick:e=>W(e)}),O(),B({table:"sites",width:200}),R({onClick:e=>W(e,"ssl")}),C([{title:"设置",onClick:e=>W(e)},{title:"删除",onClick:e=>A(e)}])],extension:[F,G,o(f)],empty:()=>v("span",null,[x("您的列表为空，您可以"),v("span",{class:"bt-link",onClick:U},[x("添加一个项目")])])});return y((()=>{b((()=>{t((()=>import("./index314.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),t((()=>import("./index315.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)}))})),(e,t)=>{const a=m;return j(),T("div",null,[v(p,{ref_key:"envRef",ref:P,onInit:k(se)},null,8,["onInit"]),v(a,null,{"header-left":I((()=>[v(k(N)),L("div",{class:"flex items-center ml-1rem",onClick:t[0]||(t[0]=(...e)=>k(H)&&k(H)(...e))},t[1]||(t[1]=[L("i",{class:"svgtofont-desired text-[1.6rem]"},null,-1),L("span",{class:"bt-link"},"需求反馈",-1)]))])),"header-right":I((()=>[v(k(ee),{class:"!w-[200px] mr-[10px]"}),v(k(Q),{class:"mr-[10px]",placeholder:"请输入项目名称或备注"}),v(k(X),{class:"mr-[10px]"}),v(k($))])),content:I((()=>[v(k(K),{"max-height":k(s)-220},null,8,["max-height"])])),"footer-left":I((()=>[v(k(te))])),"footer-right":I((()=>[v(k(Y))])),_:1})])}}}),ee=Object.freeze(Object.defineProperty({__proto__:null,default:$},Symbol.toStringTag,{value:"Module"}));export{Y as a,ee as i,X as o};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
