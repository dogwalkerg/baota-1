import{c as e,i as a,b as t,b4 as s,r as o,j as l,w as r,o as n,k as i,l as p,e as d,p as u,M as c}from"./base-lib.js?v=1734676359";import{g as m}from"./useStore3.js?v=1734676359";import{u as v,b as g,e as b}from"./utils-lib.js?v=1734676359";import{u as f}from"./index93.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index94.js?v=1734676359";import"./index95.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const _={class:"docker-tab-container"},x=b(e({__name:"index",setup(e){const{mainWidth:b}=v(),{getDockerState:x,refs:{settingData:h}}=m(),j=a((()=>"".concat(k.path.split("/")[1],"_router").toUpperCase())),k=t(),R=s(),w=g(),C=o(!0),D=o(!1),E=o("appstore"),O=o({bg:"#fff",padding:"16px",shadow:"0 1px 3px 1px rgba(0, 0, 0, 0.05)"}),S=e=>{var a;E.value=e,a=e,localStorage.setItem(j.value,a),k.name!==e&&R.push({name:e})},I=l(x,1e3),T=async(e=!1)=>{try{let e=localStorage.getItem("DOCKER_ROUTER");await I(),h.value.docker_installed&&h.value.docker_compose_installed&&h.value.service_status?D.value=!1:(D.value=!0,"setting"!=k.name&&(localStorage.setItem("DOCKER_ROUTER","setting"),e="setting"),!h.value.service_status&&h.value.docker_installed&&h.value.docker_compose_installed&&w.error("请先启动Docker服务")),(()=>{const e=k.path.split("/");return e.length>2&&""!=e[2]})()?S(D.value?"setting":k.name):S(e||"appstore")}catch(a){}},U=async(e=!1)=>{const a=b.value;C.value=a>=1280},{BtRouterTabs:y}=f({store:!1});return r((()=>k.name),(e=>{switch(e){case"appstore":O.value.bg="#fff",O.value.padding="0px",O.value.shadow="0 1px 3px 1px rgba(0, 0, 0, 0.05)";break;case"orchestration":O.value.bg="#f3f3f3",O.value.padding="0px",O.value.shadow="none";break;default:O.value.bg="#fff",O.value.padding="16px",O.value.shadow="0 1px 3px 1px rgba(0, 0, 0, 0.05)"}T(),"docker"!==k.name&&localStorage.setItem("DOCKER_ROUTER",e)}),{immediate:!0}),n((async()=>{await U(!0)})),(e,a)=>(i(),p("div",_,[d(u(y),{modelValue:u(E),"onUpdate:modelValue":a[0]||(a[0]=e=>c(E)?E.value=e:null),contentClass:"docker-route-con",disabled:u(D),onCutTab:U},null,8,["modelValue","disabled"])]))}}),[["__scopeId","data-v-63d44f0d"]]);export{x as default};
