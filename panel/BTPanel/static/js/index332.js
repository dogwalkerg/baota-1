import{l as a,H as e,b as t,e as s}from"./utils-lib.js?v=1734676359";import{c as o,r,o as l,k as m,l as i,y as n,e as p,p as u,M as c,b0 as d}from"./base-lib.js?v=1734676359";import{L as D}from"./ssl.js?v=1734676359";import{g as f}from"./useStore10.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";const _={class:"p-[2rem] flex items-center w-full"},v=s(o({__name:"index",props:{compData:{default:()=>{}}},setup(s,{expose:o}){const v=t(),{refs:{isRefreshDomainList:w}}=f(),Y=s,b=r(Y.compData.row.endtime||""),j=a=>a.getTime()<Date.now();return o({onConfirm:async t=>{var s;if(!b.value)return v.error("请选择到期时间"),!1;let o,r;try{o=v.load("正在设置到期时间,请稍后...");let l=[Y.compData.row.id];(null==(s=Y.compData)?void 0:s.rowList)&&Y.compData.rowList.length&&(l=Y.compData.rowList.map((a=>a.id)));const m=await D({ids:JSON.stringify(l),endtime:b.value});v.request(m),m.status&&(w.value=!0,b.value="",t&&t()),r=Y.compData.rowList.map((a=>({name:a.domain,status:!0}))),a({isAsync:!0,title:"批量设置结果",area:42,component:()=>e((()=>import("./index102.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:{resultData:r,resultTitle:"设置结果"}})}catch(l){}finally{o&&o.close()}}}),l((()=>{0===Y.compData.row.endtime&&(b.value="")})),(a,e)=>{const t=d;return m(),i("div",_,[e[1]||(e[1]=n("到期时间：")),p(t,{modelValue:u(b),"onUpdate:modelValue":e[0]||(e[0]=a=>c(b)?b.value=a:null),class:"!w-[33rem]","disabled-date":j,type:"date",format:"YYYY/MM/DD","value-format":"YYYY-MM-DD",placeholder:"选择日期"},null,8,["modelValue"])])}}}),[["__scopeId","data-v-75aeb221"]]);export{v as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
