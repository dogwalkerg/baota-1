import{l as e,H as a,G as s,j as r}from"./utils-lib.js?v=1734676359";import{c as o,ax as t,h as i,r as l,o as d,k as m,l as n,e as p,x as u,p as c,q as f,a7 as w,a4 as _}from"./base-lib.js?v=1734676359";import{_ as b}from"./index182.js?v=1734676359";import{aU as j}from"./firewall.js?v=1734676359";import{f as h}from"./validator.js?v=1734676359";import{getFirewallStore as v}from"./useStore4.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const x={class:"ml-[10rem]"},g=o({__name:"index",setup(o,{expose:g}){const{refs:{isRefreshSpywares:y}}=v(),D=t("popupClose"),R=i({dirs:""}),V=l(),E=l(!1),S={dirs:[{validator:(e,a,s)=>{if(!(a.length>0))return s(new Error("请输入目录"));s()},trigger:["blur","change"]}]},k=[{content:"添加指定目录",event:()=>{h({type:"dir",change(e){""!=R.dirs?R.dirs=R.dirs+"\n"+e:R.dirs=e}})}},{content:"添加网站目录",event:()=>e({title:"添加网站目录",area:50,component:()=>a((()=>import("./add-website-dir.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),compData:R,showFooter:!0})}];return d((()=>{})),g({onConfirm:async e=>{await V.value.validate(),s({request:j({data:JSON.stringify({dirs:R.dirs.split("\n")})}),loading:E,success:()=>{D(),y.value=!0}})}}),(e,a)=>{const s=r,o=w,t=b,i=_;return m(),n("div",null,[p(i,{disabled:c(E),ref_key:"addDir",ref:V,rules:S,model:c(R),class:"p-[2rem] addDirFrom overflow-auto max-h-[60rem]","label-width":"5rem"},{default:u((()=>[p(o,{label:"目录",prop:"dirs"},{default:u((()=>[p(s,{type:"textarea",modelValue:c(R).dirs,"onUpdate:modelValue":a[0]||(a[0]=e=>c(R).dirs=e),width:"30rem",class:"resize-none",autosize:{minRows:5,maxRows:5},placeholder:"如需填写多个目录请换行填写\n例：/www/aaa /www/bbb",clearable:""},null,8,["modelValue"])])),_:1}),p(o,null,{default:u((()=>[f("div",x,[p(t,{options:k})])])),_:1})])),_:1},8,["disabled","model"])])}}});export{g as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
