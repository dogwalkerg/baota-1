import{_ as e}from"./index90.js?v=1734676359";import{c as a,s,r as t,e as o,y as r,az as n,k as l,l as i,q as m,x as p,p as c,M as d,aw as u,A as b}from"./base-lib.js?v=1734676359";import{bX as f,o as h,an as j,ao as v,j as g}from"./utils-lib.js?v=1734676359";import{u as w}from"./useStore12.js?v=1734676359";import{g as x,d as _,o as y,a as k}from"./useController13.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./useStore9.js?v=1734676359";import"./useMethod5.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";import"./site.js?v=1734676359";import"./useController3.js?v=1734676359";import"./useStore7.js?v=1734676359";const C={class:""},B={class:"flex items-end"},S=a({__name:"index",setup(a){const{isRefreshDomain:S,domain:V}=s(w()),q=t(!1),z=v([{label:"删除",value:"delete",event:async(e,a,s,t)=>{k(s.value)}}]),{BtTable:I,BtBatch:M,config:P}=f({request:x,columns:[{type:"selection",width:40},{label:"域名",prop:"name",width:400,render:e=>o("div",{class:"truncate"},[o("a",{class:"bt-link",href:"http://".concat(e.name,":").concat(e.port),target:"_blank"},[e.name])])},{label:"端口",prop:"port"},{label:"操作",align:"right",render:e=>1===P.data.length?o("span",null,[r("不可操作")]):n("span",{class:"cursor-pointer bt-link",onClick:async()=>{await h({title:"删除域名【".concat(e.name,"】"),content:"您确定要删除此域名吗？",onConfirm:async()=>{await _(e)}})}},"删除")}],extension:[z,j(S)]});return(a,s)=>{const t=g,n=u,f=b,h=e;return l(),i("div",C,[m("div",B,[o(n,{ref:"popover",placement:"top-start",width:"34rem","popper-class":"green-tips-popover !p-0 !border-none",visible:c(q),"onUpdate:visible":s[2]||(s[2]=e=>d(q)?q.value=e:null),"trigger-keys":[],trigger:"focus"},{default:p((()=>s[3]||(s[3]=[m("div",{class:"!p-[12px] bg-[#20a53a] text-white leading-[2.4rem]"},[r(" 如需绑定外网，请换行填写，每行一个域名，默认为80端口 "),m("br"),r(" IP地址格式：192.168.1.199 "),m("br"),r(" 泛解析添加方法 *.domain.com "),m("br"),r(" 如另加端口格式为 www.domain.com:88 ")],-1)]))),reference:p((()=>[o(t,{modelValue:c(V),"onUpdate:modelValue":s[0]||(s[0]=e=>d(V)?V.value=e:null),type:"textarea",resize:"none",rows:4,width:"42rem",onFocus:s[1]||(s[1]=e=>q.value=!0),placeholder:"如需绑定外网，请换行填写，每行一个域名，默认为80端口\nIP地址格式：192.168.1.199\n泛解析添加方法 *.domain.com\n如另加端口格式为 www.domain.com:88",class:"domain-textarea"},null,8,["modelValue"])])),_:1},8,["visible"]),o(f,{type:"primary",class:"absolute",style:{right:"4rem",top:"5.5rem"},onClick:c(y)},{default:p((()=>s[4]||(s[4]=[r(" 添加 ")]))),_:1},8,["onClick"])]),o(h,null,{content:p((()=>[o(c(I),{"max-height":440})])),"footer-left":p((()=>[o(c(M))])),_:1})])}}});export{S as default};
