import{c as a,bS as s,r as e,o as l,k as t,l as o,e as i,x as r,q as m,p as n,J as u,I as d,aX as p,M as c,aa as f,a7 as b,a4 as v,Q as x}from"./base-lib.js?v=1734676359";import{clearRedisDb as j}from"./database.js?v=1734676359";import{o as _,G as g}from"./utils-lib.js?v=1734676359";import{g as y}from"./useMethod3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";import"./validator.js?v=1734676359";const k={class:"p-20px"},w={class:"border border-[#ececec] p-16px w-[22rem] max-h-[20rem] overflow-auto"},h={key:1,class:"text-light-50 text-[1.2rem]"},D=a({__name:"index",props:{compData:{default:()=>({keyList:[],sid:0})}},setup(a,{expose:D}){const{refs:{isRefreshTable:J}}=y(),S=a,V=s(S.compData,"keyList"),q=s(S.compData,"sid"),L=e();return D({onConfirm:async a=>{await _({icon:"warning-filled",title:"提示",content:"此操作将清空选中的数据库, 是否继续?"});const s=JSON.stringify(V.value.filter((a=>L.value.includes(a.name))).map((a=>a.id)));await g({loading:"正在清空，请稍后...",request:j({data:JSON.stringify({ids:s,sid:q.value})}),message:!0,success:a=>{a.status&&(J.value=!0)}}),a()}}),l((()=>{L.value=V.value.map((a=>a.name))})),(a,s)=>{const e=x,l=f,j=b,_=v;return t(),o("div",k,[i(_,null,{default:r((()=>[i(j,{label:"选择数据库"},{default:r((()=>[m("div",w,[n(V).length?(t(),u(l,{key:0,modelValue:n(L),"onUpdate:modelValue":s[0]||(s[0]=a=>c(L)?L.value=a:null)},{default:r((()=>[(t(!0),o(d,null,p(n(V),((a,s)=>(t(),u(e,{class:"w-full !mr-0",label:a.name,key:s},null,8,["label"])))),128))])),_:1},8,["modelValue"])):(t(),o("span",h,"暂无数据"))])])),_:1})])),_:1})])}}});export{D as default};
