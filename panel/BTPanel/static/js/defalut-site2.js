import{ah as a,G as e,O as s}from"./utils-lib.js?v=1734676359";import{c as l,r as t,o as u,B as n,C as o,p as m,k as i,l as c,q as r,e as p,x as v,I as d,aX as f,J as y,M as _,y as b,ag as x,ah as j,A as g}from"./base-lib.js?v=1734676359";import{getDefaultSite as h,setDefaultSite as k}from"./site.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";const w={class:"p-[20px]"},V=l({__name:"defalut-site",setup(l){const V=t(!1),q=t([{name:"默认站点",value:"default"},{name:"自定义站点",value:"custom"}]),C=t("default"),I=async()=>{const a={name:"未设置默认站点"===C.value?"0":C.value};V.value=!0,await e({loading:"正在设置默认站点，请稍后...",request:k(a),message:!0}),V.value=!1};return u((()=>{(async()=>{V.value=!0;try{const{data:a}=await h();C.value=a.defaultSite,a.defaultSite||(C.value="未设置默认站点"),q.value=a.sites,q.value.unshift({name:"未设置默认站点",value:"未设置默认站点"})}catch(e){a(e)}finally{V.value=!1}})()})),(a,e)=>{const l=x,t=j,u=g,h=s,k=n("bt-loading");return o((i(),c("div",w,[e[2]||(e[2]=r("span",{class:"mr-[12px]"},"默认站点",-1)),p(t,{modelValue:m(C),"onUpdate:modelValue":e[0]||(e[0]=a=>_(C)?C.value=a:null),class:"!w-[32rem]"},{default:v((()=>[(i(!0),c(d,null,f(m(q),((a,e)=>(i(),y(l,{key:e,label:a.name,value:a.name},null,8,["label","value"])))),128))])),_:1},8,["modelValue"]),p(u,{type:"primary",onClick:I,class:"!mt-[20px] !block"},{default:v((()=>e[1]||(e[1]=[b("保存")]))),_:1}),p(h,{class:"ml-[20px] my-[20px]",options:[{content:"设置默认站点后,所有未绑定的域名和IP都被定向到默认站点"},{content:"可有效防止恶意解析"}]})])),[[k,m(V)]])}}});export{V as default};
