import{c as s,h as a,r as e,o as r,k as o,l as t,e as d,x as l,p as i,N as n,a7 as p,a4 as m}from"./base-lib.js?v=1734676359";import{_ as u}from"./index88.js?v=1734676359";import{setPgSqlPassword as c,getPgSqlPassword as g}from"./database.js?v=1734676359";import{v as f,G as w}from"./utils-lib.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";const _={class:"px-[20px] py-[20px]"},b=s({__name:"index",setup(s,{expose:b}){const x={password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,message:"密码长度至少为6位",trigger:["blur","change"]}]},j=a({password:""}),v=e();return r((async()=>{const s=await w({loading:"正在获取密码，请稍后...",request:g(),data:{msg:String}});j.password=s.msg||""})),b({onConfirm:async s=>{await v.value.validate(),await w({loading:"正在设置密码...",request:c({data:JSON.stringify({password:j.password})}),message:!0,success:a=>{a.status&&s()}})}}),(s,a)=>{const e=u,r=p,c=m;return o(),t("div",_,[d(c,{model:i(j),ref_key:"adminPwdRef",ref:v,rules:x,onSubmit:a[2]||(a[2]=n((()=>{}),["prevent"]))},{default:l((()=>[d(r,{label:"管理员密码",prop:"password"},{default:l((()=>[d(e,{icon:"el-refresh",modelValue:i(j).password,"onUpdate:modelValue":a[0]||(a[0]=s=>i(j).password=s),onIconClick:a[1]||(a[1]=()=>i(j).password=i(f)(16))},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])}}});export{b as default};
