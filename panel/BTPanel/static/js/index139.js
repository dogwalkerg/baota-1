import{h as e,e as s}from"./utils-lib.js?v=1734676359";import{c as l,s as a,aB as r,k as t,l as n,e as i,x as o,y as c,p as u,q as f,z as p,M as d,A as m}from"./base-lib.js?v=1734676359";import{H as g}from"./store3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./store4.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const v={class:"flex justify-between items-center h-full px-[3rem] reset"},y={class:"relative h-full"},b={class:"p-[1.5rem] h-[24.2rem]"},k={class:"text-[1.2rem] leading-[2.6rem]"},_={id:"SafeRestart",class:"flex justify-between"},x={key:0,class:"info"},j={key:1,class:"info"},S={key:2,class:"info"},w={key:3,class:"info"},R={key:4,class:"info"},h={key:5,class:"info"},C={key:6,class:"info"},z={key:7,class:"info"},L={key:0,class:"flex items-center tips mb-[12px]"},M={class:"el-dialog__footer absolute bottom-0 w-full flex justify-end"},V=s(l({__name:"index",setup(s){const l=g(),{showFooter:V,showServer:q,serverRestartRef:H,courseList:Q}=a(l);return r((()=>{l.clearRestart()})),(s,a)=>{const r=m,g=e;return t(),n("div",v,[i(r,{size:"default",onClick:a[0]||(a[0]=e=>q.value=!0)},{default:o((()=>a[4]||(a[4]=[c("重启服务器")]))),_:1}),i(r,{size:"default",onClick:u(l).onRestartPanel},{default:o((()=>a[5]||(a[5]=[c("重启面板")]))),_:1},8,["onClick"]),i(g,{title:"安全重启服务器",modelValue:u(q),"onUpdate:modelValue":a[3]||(a[3]=e=>d(q)?q.value=e:null),area:[46.6,u(V)?30:26],ref_key:"serverRestartRef",ref:H},{default:o((()=>[f("div",y,[f("div",b,[a[16]||(a[16]=f("div",{class:"flex items-center tips"},[f("i",{class:"svgtofont-el-warning text-[1.6rem] mr-[.7rem]"}),f("p",null,"注意事项：如果当前服务器是容器，重启服务器可能存在风险，请取消操作！")],-1)),f("div",k,[a[15]||(a[15]=f("p",{class:"mt-[1rem] mb-[1rem]"},"为了您的服务器数据安全，面板重启服务器将执行以下操作：",-1)),f("div",_,[u(Q).webServe?(t(),n("div",j,a[7]||(a[7]=[f("span",{class:"green-bg"},null,-1),f("p",{class:"green-font"},"正在停止Web服务...",-1)]))):(t(),n("div",x,a[6]||(a[6]=[f("span",{class:"gray-bg"},null,-1),f("p",null,"1. 停止Web服务",-1)]))),u(Q).mysqlServe?(t(),n("div",w,a[9]||(a[9]=[f("span",{class:"green-bg circle-green"},null,-1),f("p",{class:"green-font"},"正在停止MySQL服务...",-1)]))):(t(),n("div",S,a[8]||(a[8]=[f("span",{class:"gray-bg circle-gray"},null,-1),f("p",null,"2. 停止MySQL服务",-1)]))),u(Q).restartServe?(t(),n("div",h,a[11]||(a[11]=[f("span",{class:"green-bg circle-green"},null,-1),f("p",{class:"green-font"},"正在重启服务器...",-1)]))):(t(),n("div",R,a[10]||(a[10]=[f("span",{class:"gray-bg circle-gray"},null,-1),f("p",null,"3. 开始重启服务器",-1)]))),u(Q).serveStart?(t(),n("div",z,a[13]||(a[13]=[f("span",{class:"green-bg circle-green"},null,-1),f("p",{class:"green-font"},"4. 等待服务器启动",-1),f("i",{class:"svgtofont-el-loading animate-spin"},null,-1)]))):(t(),n("div",C,a[12]||(a[12]=[f("span",{class:"gray-bg circle-gray"},null,-1),f("p",null,"4. 等待服务器启动",-1)])))]),u(Q).serveStart?(t(),n("div",L,a[14]||(a[14]=[f("p",null,"重启进行中时，请勿随意进行刷新，若长时间未响应，可以进行刷新尝试。",-1)]))):p("",!0)])]),f("div",M,[i(r,{type:"warning",onClick:a[1]||(a[1]=e=>q.value=!1)},{default:o((()=>a[17]||(a[17]=[c("取消")]))),_:1}),i(r,{type:"primary",onClick:a[2]||(a[2]=e=>u(l).onRestartServer())},{default:o((()=>a[18]||(a[18]=[c("确认")]))),_:1})])])])),_:1},8,["modelValue","area"])])}}}),[["__scopeId","data-v-4478a739"]]);export{V as default};
