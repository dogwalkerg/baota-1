import{c as e,s as a,i as l,o as s,a1 as t,B as o,k as n,l as r,p as m,J as d,x as i,e as u,y as p,q as f,v as c,I as h,z as b,C as g,ae as x,a7 as y,a4 as v,O as _}from"./base-lib.js?v=1734676359";import{_ as j}from"./index90.js?v=1734676359";import{t as V,R as C,j as k,k as D}from"./utils-lib.js?v=1734676359";import{aL as F}from"./store.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./store2.js?v=1734676359";import"./index88.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const R={class:"p-20px"},U={key:0,class:"flex flex-col"},w={class:"flex items-center"},z={class:"leading-8 text-[1.4rem]"},S={key:0,class:"text-danger"},T={class:"flex items-center h-[4.8rem] mt-4 pl-[1.2rem] text-[1.4rem] bg-#f5f5f5"},q={class:"mx-[1rem]"},A=e({__name:"index",setup(e){const A=F(),{compData:L,fileTabActiveData:B,sitesPath:E,overlayFormRef:H,overlayForm:I,tableLoading:J,quickRules:N,calcData:O,tableColumns:P,tableData:$}=a(A),{handleSelectionChange:G,watchType:K,fileFormat:M,init:Q,$reset:W}=A,X=l((()=>B.value.param.path===E.value));return s((async()=>{Q()})),t((()=>{W()})),(e,a)=>{const l=x,s=y,t=k,F=v,A=D,B=j,E=_,M=o("bt-loading"),Q=o("focus");return n(),r("div",R,["single"===m(L).type?(n(),d(F,{key:0,ref_key:"overlayFormRef",ref:H,model:m(I),rules:m(N)},{default:i((()=>[u(s,{label:"操作类型"},{default:i((()=>[u(l,{modelValue:m(I).type,"onUpdate:modelValue":a[0]||(a[0]=e=>m(I).type=e),label:"over",onChange:m(K)},{default:i((()=>a[4]||(a[4]=[p("覆盖文件")]))),_:1},8,["modelValue","onChange"]),u(l,{modelValue:m(I).type,"onUpdate:modelValue":a[1]||(a[1]=e=>m(I).type=e),label:"rename",onChange:m(K)},{default:i((()=>a[5]||(a[5]=[p("重命名文件")]))),_:1},8,["modelValue","onChange"])])),_:1}),u(s,{label:"文件名",prop:"filename"},{default:i((()=>[u(t,{modelValue:m(I).filename,"onUpdate:modelValue":a[2]||(a[2]=e=>m(I).filename=e),disabled:"over"===m(I).type,width:"24rem"},null,8,["modelValue","disabled"])])),_:1}),u(s,{label:"大小"},{default:i((()=>[f("span",null,c(m(V)(m(I).size)),1)])),_:1}),u(s,{label:"最后修改时间"},{default:i((()=>[p(c(m(C)(Number(m(I).mtime))),1)])),_:1})])),_:1},8,["model","rules"])):(n(),r(h,{key:1},["batch"===m(L).type?(n(),r("div",U,[f("div",w,[a[9]||(a[9]=f("i",{class:"svgtofont-el-warning text-[#F0AD4E] text-[4rem] mr-8px"},null,-1)),f("span",z,[a[6]||(a[6]=p("以下目标文件名称与源文件相同，点击确定后勾选文件将跳过，")),a[7]||(a[7]=f("span",{class:"text-danger"}," 未勾选文件将会被覆盖，",-1)),m(X)?(n(),r("span",S," 当前目录为建站目录，")):b("",!0),a[8]||(a[8]=p(" 请确认后继续"))])]),u(B,null,{"header-left":i((()=>a[10]||(a[10]=[]))),"header-right":i((()=>a[11]||(a[11]=[]))),content:i((()=>[g(u(A,{onSelectionChange:m(G),column:m(P),data:m($),ref:"overlayTableRef","max-height":300},null,8,["onSelectionChange","column","data"]),[[M,m(J)]])])),"footer-left":i((()=>a[12]||(a[12]=[]))),"footer-right":i((()=>a[13]||(a[13]=[]))),popup:i((()=>a[14]||(a[14]=[]))),_:1}),f("div",null,[f("div",T,[a[15]||(a[15]=f("span",null,"计算结果：",-1)),f("span",q,c(m(O).addend1)+" + "+c(m(O).addend2),1),a[16]||(a[16]=f("span",{class:"mr-[1rem]"},"=",-1)),g(u(E,{modelValue:m(O).sum,"onUpdate:modelValue":a[3]||(a[3]=e=>m(O).sum=e),autofocus:"true","controls-position":"right",size:"small"},null,8,["modelValue"]),[[Q]])])])])):b("",!0)],64))])}}});export{A as default};
