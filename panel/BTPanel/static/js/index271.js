import{c as e,s as t,i as s,ax as a,o as l,aB as n,B as r,k as o,l as i,p,I as d,q as m,e as u,G as c,v as x,C as f,F as v,x as b,y as g,z as y,M as h,D as w,aN as k,aj as _,P as j,aw as V,a7 as C,a4 as P,A as U}from"./base-lib.js?v=1734676359";import{u as I,d0 as E,d as H,c as q,e as z}from"./utils-lib.js?v=1734676359";import{H as B}from"./store3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./store4.js?v=1734676359";import"./validator.js?v=1734676359";import"./index91.js?v=1734676359";import"./column.js?v=1734676359";const M={class:"absolute top-15px left-15px text-white text-[1.4rem]"},D={class:"absolute top-15px left-15px text-white text-[1.4rem]"},F={class:"text-[1.5rem] mt-8 flex justify-between mb-16px mx-34px update-text"},L={class:""},N={key:0,class:"text-primary"},O={class:""},R={class:"text-[2.1rem] flex mt-3rem pb-8 font-bold items-center justify-center text-[#565656] bg-linear"},S={class:"px-32px py-[1.6rem] text-[1.4rem] flex items-center justify-between update-text bg-[white]"},T={class:"flex items-center"},A={key:0,class:"text-primary"},G={key:0,class:"rounded-md update-content"},W=["innerHTML"],$={key:1},J={class:"flex flex-col justify-center leading-10 text-[1.2rem] text-medium"},K={class:"mt-0.6rem flex items-center"},Q={key:2},X={class:"pt-[1rem] pb-[3rem] pl-[3.1rem] pr-[3rem]"},Y={class:"mt-[1rem]"},Z={class:"my-[1rem] flex items-center"},ee={class:"flex flex-col items-center p-[2rem]"},te={key:3,class:"flex align-middle justify-center pb-10"},se=z(e({__name:"index",setup(e,{expose:z}){const se=B(),{panelInfo:ae,formPhone:le,loading:ne,isUpgrade:re,grayscale:oe,panelVersion:ie,betaInfo:pe,officialInfo:de,isBeta:me,update:ue,isNPSShow:ce,questions:xe,form:fe,rules:ve}=t(se),be=s((()=>me.value?pe.value:de.value)),{mainHeight:ge,mainWidth:ye}=I(),he=s((()=>ae.value.isBeta?"测试版":"正式版")),we=a("popupClose",(()=>{}));return l((async()=>{await se.getUpdatePushInfo()})),n((()=>{se.$reset()})),z({onOpen:se.onOpen}),(e,t)=>{var s,a,l;const n=H,I=q,z=k,B=_,ae=j,pe=V,de=C,me=P,ke=U,_e=r("bt-loading");return o(),i("div",{class:v((p(re)?"update-back ":"")+"flex relative w-[100%] flex-col h-[100%] rounded-[.2rem] update-version-view")},[p(re)?(o(),i(d,{key:0},[m("div",{class:"w-[150px] fixed right-30px",style:c("top:".concat(p(ge)/2-350,"px;right:").concat(p(ye)/2-81,"px"))},[u(n,{src:"/update/update_rocket.svg",alt:"rocket img"})],4),m("div",M,[m("span",null,x("".concat(p(E)).concat(p(he),"本更新")),1)])],64)):(o(),i(d,{key:1},[t[10]||(t[10]=m("div",{class:"w-full absolute h-140px absolute-image rounded-[2px] title-new-img"},null,-1)),m("div",D,[m("span",null,"宝塔"+x(p(E))+"面板",1)])],64)),f((o(),i("div",{class:v(p(re)?"relative mt-52 rounded-[2px]":"relative mt-25 bg-linear rounded-[2px]")},[p(re)?(o(),i(d,{key:0},[t[13]||(t[13]=m("div",{class:"text-[2.1rem] flex font-bold items-center justify-center text-[#565656]"},[m("span",null,"发现新的版本！")],-1)),m("div",F,[m("div",L,[t[12]||(t[12]=m("span",null,"最新版本: ",-1)),m("span",null,[u(I,{href:"https://www.bt.cn/bbs/forum-36-1.html"},{default:b((()=>{var e;return[g(x(p(E))+"-"+x(null==(e=p(be))?void 0:e.version),1)]})),_:1})]),p(oe)<1?(o(),i("span",N,[u(z,{class:"item",effect:"dark",content:"提示：当前是正式版尝鲜阶段，为了验证新版本的稳定性和兼容性，确保全面推出之前，新功能能正常运行。",placement:"top"},{default:b((()=>t[11]||(t[11]=[m("span",null,[g("（尝鲜版"),m("i",{class:"svgtofont-el-question-filled"}),g("）")],-1)]))),_:1})])):y("",!0)]),m("div",O,[m("span",null,"更新时间："+x(null==(s=p(be))?void 0:s.uptime),1)])])],64)):(o(),i(d,{key:1},[m("div",R,[u(n,{src:"/update/update_icon.svg",alt:"icon",class:"h-12 mr-2 mt-1"}),t[14]||(t[14]=m("span",{class:"leading-10"},"当前已经是最新版本",-1))]),m("div",S,[m("span",T,[t[16]||(t[16]=g(" 当前版本： ")),u(I,{class:"bt-link text-[12px]",href:"https://www.bt.cn/bbs/forum-36-1.html",textContent:x(p(E)+p(he)+p(ie))},null,8,["textContent"]),p(oe)<1?(o(),i("span",A,[u(z,{class:"item",effect:"dark",content:"提示：当前是正式版尝鲜阶段，为了验证新版本的稳定性和兼容性，确保全面推出之前，新功能能正常运行。",placement:"top"},{default:b((()=>t[15]||(t[15]=[m("span",null,[g("（尝鲜版"),m("i",{class:"svgtofont-el-question-filled"}),g("）")],-1)]))),_:1})])):y("",!0)]),m("span",null," 发布时间："+x(null==(a=p(be))?void 0:a.uptime),1)])],64)),m("div",{class:v(p(re)?"mb-[3rem] mt-4 px-16px py-22px mx-34px bg-[rgba(33,165,59,0.04)] rounded-[2px]":"mb-[2.2rem] mt-2 px-16px py-14px mx-32px border-1 border-[#EEEFEC] bg-[rgb(247,252,248)] rounded-[2px]")},[p(re)?(o(),i("div",G,[m("div",{class:"leading-10 mr-2 text-[1.2rem] text-medium overflow-auto",innerHTML:(null==(l=p(be))?void 0:l.updateMsg)||"获取中"},null,8,W)])):y("",!0),p(re)?(o(),i("hr",$)):y("",!0),m("div",J,[m("div",K,[t[17]||(t[17]=m("span",{class:"mr-2"},"有更新时提醒我:",-1)),u(B,{class:"mr-4",modelValue:p(ue).updatePush,"onUpdate:modelValue":t[0]||(t[0]=e=>p(ue).updatePush=e),onChange:p(se).openUpdateReminder,"active-color":"#13ce66"},null,8,["modelValue","onChange"]),m("span",{class:"bt-link",onClick:t[1]||(t[1]=e=>p(se).updateReminderDialog(p(ue).updatePush)),textContent:"提醒方式"})])])],2),p(re)?y("",!0):(o(),i("div",Q,[m("div",{class:v(["nps_survey_banner flex items-center justify-center",p(ce)?"":"mb-[2rem]"])},[m("span",{class:"text-[14px] font-bold inline-block cursor-pointer text-[#20a53a] mr-[.4rem]",onClick:t[2]||(t[2]=e=>ce.value=!p(ce)),style:{"vertical-align":"4px"}}," 点击此处折叠需求反馈 "),m("i",{class:v(["cursor-pointer text-[14px]",p(ce)?"svgtofont-el-arrow-up":"svgtofont-el-arrow-down"]),onClick:t[3]||(t[3]=e=>ce.value=!p(ce))},null,2)],2),f(m("div",X,[u(pe,{placement:"top-start",width:"400","popper-class":"tips bg-[#20a53a] text-white text-[1.2rem] w-[40.6rem] !p-12px leading-[20px]",trigger:"focus",content:"如果您在使用过程中遇到任何问题或功能不完善，请将您的问题或需求详细描述给我们，我们将尽力为您解决或完善。"},{reference:b((()=>[u(ae,{type:"textarea",rows:5,modelValue:p(xe),"onUpdate:modelValue":t[4]||(t[4]=e=>h(xe)?xe.value=e:null),placeholder:"如果您在使用过程中遇到任何问题或功能不完善，请将您的问题或需求详细描述给我们，我们将尽力为您解决或完善。"},null,8,["modelValue"])])),_:1}),m("div",Y,[m("div",Z,[t[18]||(t[18]=m("span",{class:"text-[1.3rem] text-[#666]"},"是否愿意接受回访：",-1)),u(B,{size:"small",modelValue:p(fe).status,"onUpdate:modelValue":t[5]||(t[5]=e=>p(fe).status=e)},null,8,["modelValue"])]),u(me,{ref_key:"formPhone",ref:le,"label-position":"top",model:p(fe),rules:p(ve)},{default:b((()=>[f(u(de,{label:"",prop:"phone"},{default:b((()=>[u(ae,{modelValue:p(fe).phone,"onUpdate:modelValue":t[6]||(t[6]=e=>p(fe).phone=e),placeholder:"请留下手机号码或邮箱"},null,8,["modelValue"])])),_:1},512),[[w,p(fe).status]])])),_:1},8,["model","rules"])]),t[20]||(t[20]=m("div",{class:"mt-[.4rem] text-[1.2rem] text-primary leading-[3rem]"},"我们特别重视您的需求反馈，我们会每周进行需求评审，希望能更好的帮到您",-1)),m("div",ee,[u(ke,{type:"primary",class:"w-[12.5rem]",size:"large",onClick:t[7]||(t[7]=e=>p(se).submit(p(we)))},{default:b((()=>t[19]||(t[19]=[g("提交反馈")]))),_:1})])],512),[[w,p(ce)]])])),p(re)?(o(),i("div",te,[u(ke,{type:"default",class:"ignore-renew text-[1.3rem] border-none h-38px mr-50px w-50 bg-[#f0f0f0]",size:"default",style:{color:"#999"},round:"",onClick:t[8]||(t[8]=e=>p(se).ignoreUpdatEVersion(p(be).version))},{default:b((()=>t[21]||(t[21]=[g("忽略本次更新")]))),_:1}),u(ke,{class:"border-none text-[1.3rem] w-50 h-38px",type:"primary",round:"",onClick:t[9]||(t[9]=e=>p(se).updateVersion())},{default:b((()=>t[22]||(t[22]=[g("立即更新")]))),_:1})])):y("",!0)],2)),[[_e,p(ne)],[_e,"正在加载更新信息，请稍后...","title"]])],2)}}}),[["__scopeId","data-v-cfc5235f"]]);export{se as default};
