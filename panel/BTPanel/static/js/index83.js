import{c as e,r as t,w as a,aD as s,aB as l,o,C as n,D as i,p as r,k as c,l as u,e as p,m as d,aN as m,a5 as v,x as f,q as h,y as w,aO as b,aP as g,i as y,b as x,t as _,aQ as k,Z as j,aR as B,A,aS as C,aT as I,a4 as E,a7 as M,ap as T,ao as S,an as R,aU as O,aw as D,av as z,P as F,at as Z,h as q,v as P,I as Q,z as U,aJ as V,aK as J,J as L,K as G,F as K,G as N,aV as X,aW as W,aX as H,N as Y,a1 as $}from"./base-lib.js?v=1734676359";import{u as ee,i as te,b as ae,_ as se,c as le,d as oe,e as ne,f as ie,g as re,h as ce,j as ue,k as pe,l as de,n as me,o as ve,M as fe,p as he,q as we,s as be,t as ge,v as ye,w as xe,x as _e,r as ke,y as je}from"./utils-lib.js?v=1734676359";import{B as Be}from"./index87.js?v=1734676359";import{n as Ae,f as Ce,m as Ie,a as Ee}from"./validator.js?v=1734676359";import{u as Me}from"./hooks.js?v=1734676359";import{_ as Te}from"./index88.js?v=1734676359";import{_ as Se}from"./index89.js?v=1734676359";import{_ as Re}from"./index90.js?v=1734676359";import{_ as Oe}from"./index91.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";const De=["src"],ze=e({__name:"index",setup(e){const{pluginInfo:p}=ee(),d=ae(),m=t(),v=t(0),f=t();return a((()=>p.value.visible),(e=>{e?f.value=d.load("正在加载插件数据，请稍候..."):f.value.close()})),s((()=>{p.value.visible&&p.value.init&&(()=>{const{id:e,name:t,built:a}=p.value;if(a)p.value.visible=!1;else{const s={pluginName:e,pluginTitle:t,pluginBuilt:a};m.value.contentWindow.postMessage("".concat(JSON.stringify(s)),"*"),"function"==typeof p.value.callback&&p.value.callback(m.value.contentWindow)}})()})),l((()=>{v.value&&clearInterval(v.value)})),o((()=>{window.addEventListener("message",(async e=>{var t;let a=e.data;switch("string"==typeof e.data&&-1!==(null==(t=e.data)?void 0:t.indexOf("&"))&&(a=e.data.split("&")[0]),a){case"closePlugin":p.value.visible=!1,document.getElementById("app-container").style.position="relative",p.value.visible=!1;break;case"refreshMain":window.location.reload();break;case"pluginLoad":f.value.close()}})),m.value.onload=()=>{p.value.init=!0}})),(e,t)=>n((c(),u("iframe",{ref_key:"iframeRef",ref:m,src:r(te)?"/software.html":"/software",class:"w-full h-full !fixed z-999999 min-h-[45rem] top-0"},null,8,De)),[[i,r(p).visible]])}});const Fe=e({name:"BtTooltip",setup:(e,{attrs:t,slots:a})=>()=>{return p(m,d(t,e),"function"==typeof(s=a)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?a:{default:()=>[a]});var s}}),Ze={class:"toolbar-right"},qe={class:"customer-title"},Pe={class:"flex border-solid border-b-1 border-[#20a53a] text-[#20a53a] justify-center items-center"},Qe={class:"qrcode-wechat w-[128px] h-[128px] mt-[8px] mb-[4px]"},Ue={id:"wechatCustomerQrcode"},Ve=ne(e({__name:"index",setup(e){const a=t(!0),s=t(!1),l=t(!1);let o=0;const d=()=>{if(l.value)return!1;clearTimeout(o),a.value=!1,s.value=!0},m=()=>!l.value&&(0!==o?(a.value=!0,s.value=!1,void(o=0)):void(o=setTimeout((()=>{a.value=!0,s.value=!1}),500))),v=()=>{a.value=!0,s.value=!0,l.value=!0},b=()=>{a.value=!0,s.value=!1,setTimeout((()=>{l.value=!1}),500)};return(e,t)=>{const a=se,o=le,g=oe,y=Be,x=Fe;return c(),u("div",Ze,[p(y,{placement:"left",effect:"light","popper-class":"!p-0",visible:r(s),trigger:"hover",width:"160px"},{reference:f((()=>[h("div",{class:"icon-menu",onMouseover:d,onMouseleave:m,onClick:v},[p(a,{icon:"customer-service",size:45,color:"#20a53a"})],32)])),default:f((()=>[h("div",{id:"wechat-customer",class:"wechat-customer",onMouseover:d,onMouseleave:m},[h("div",qe,[p(o,{target:"_blank",href:"https://www.bt.cn/new/wechat_customer",class:"text-[16px] cursor-pointer flex flex-row items-center flex-nowrap"},{default:f((()=>[h("div",Pe,[t[1]||(t[1]=w(" 点击咨询客服 ")),p(a,{icon:"arrow",size:16,color:"#20a53a",class:"ml-[5px]"})])])),_:1})]),h("div",Qe,[h("div",Ue,[p(g,{src:"/customer/customer-qrcode.png"})])]),t[3]||(t[3]=h("div",{class:"wechat-title flex"},[h("img",{class:"w-[14px] h-[14px]",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAZCAYAAADE6YVjAAAAAXNSR0IArs4c6QAAATlJREFUSEvtVrFOw0AMfed8AxJsZWGAgQHBXP4DCQa+Ioou7g18BRIg9T/KDGJggIGFbiDxDXGQowSBuGvrFISEmtF+7/nis312RVEMiWgIoMT375aIjpj5KeJrTMy8JSJjAPsRzEhErl1Zlhd1XZ8kRKZEdMjM0xlBBiIyATCIYZxzl857X6uTiHaY+TElZrUz87aIPCjvI0gIwVmF5uG7H1gFmZepxv85XTdqCCEcLMQ0gLz3jbbTOm/rPdkLBt0v0E77xysq2it9T2nhuTzPN4ho10KyYEXkXvvkBcC6hWjEvmqQMwCnANZa8p1RJAbfa41vAM7/0cUzczOiZ43zvunrtPVOntuO3+wrluJ12qspvFBm/+bR+u03nhPrkKZk2ZVINUZO964sy44Ta9FSK5GuQ1VVXb0DLf+sHQ9tLL0AAAAASUVORK5CYII="}),h("div",{class:"text-[14px] font-black"},"扫一扫")],-1)),t[4]||(t[4]=h("span",{class:"layui-layer-setwin wechat-close",style:{display:"block"}},[h("a",{href:"javascript:;",class:"layui-layer-ico layui-layer-close layui-layer-close2"})],-1)),n(h("div",{onClick:b,class:"absolute -top-1.5rem -right-1.5rem z-999 w-[3rem] h-3rem rounded-1/2 cursor-pointer"},t[2]||(t[2]=[h("div",{"data-v-48b1409d":"",class:"absolute w-[3rem] h-3rem top-0 left-0 origin-center close-popup-btn"},null,-1)]),512),[[i,r(l)]])],32)])),_:1},8,["visible"]),p(x,{effect:"dark",content:"点击打开调查问卷",placement:"left",enterable:!1},{default:f((()=>[h("div",{class:"icon-menu",onClick:t[0]||(t[0]=(...e)=>r(Ae)&&r(Ae)(...e))},[p(a,{icon:"evaluation-feedback",size:45,color:"#20a53a"})])])),_:1})])}}}),[["__scopeId","data-v-8063d8ff"]]);const Je=e({name:"BtContainer",setup:(e,{attrs:t,slots:a})=>()=>{return p(b,t,"function"==typeof(e=a)||"[object Object]"===Object.prototype.toString.call(e)&&!v(e)?a:{default:()=>[a]});var e}});const Le=e({name:"BtAside",setup:(e,{attrs:t,slots:a})=>()=>{return p(g,d(e,t),"function"==typeof(s=a)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?a:{default:()=>[a]});var s}}),Ge=y((()=>{var e;return(null==(e=x())?void 0:e.path)||""})),{title:Ke,panel:Ne,robserver:Xe,layoutBody:We,mainWidth:He,mainHeight:Ye,updateTaskCount:$e,mountMessage:et}=ee(),tt=()=>{Xe.value&&Xe.value.disconnect&&(Xe.value.disconnect(),Xe.value=null)},at=()=>Me({vue:{defineComponent:e,version:B},components:{BtDialog:ce,BtInput:ue,BtLink:le,BtInputIcon:Te,BtSvgIcon:Se,BtTable:pe,BtTableGroup:Re,ElButton:A,ElCard:C,ElAlert:I,ElForm:E,ElFormItem:M,ElDropdownItem:T,ElDropdownMenu:S,ElDropdown:R,ElTooltip:m,ElIcon:O,ElPopover:D,ElTable:z,ElInput:F,ElTableColumn:Z,BtDivider:Oe,BtImage:oe},hooks:{useMessage:ae,useDialog:de,useAxios:me,useConfirm:ve,Message:fe,isUndefined:he,inputFocus:we,rsaEncrypt:be,isDev:te},utils:{getByteUnit:ge,getRandomPwd:ye},dialog:{fileSelectionDialog:Ce},vueMethods:{ref:t,unref:r,reactive:q,watch:a,computed:y,onMounted:o,onBeforeUnmount:l}}),st=()=>{const{msgBoxTaskCount:e}=_(Ne.value);a(Ke,(e=>k(e))),a(e,$e),k(Ke),setTimeout((()=>{re({request:async()=>{try{"/waf"!==Ge.value&&await xe()}catch(e){await ve({title:"登录验证已失效",content:"当前面板登录验证已失效，确认后重新登录",showClose:!1}),window.location.href="/login"}},timeout:6e5})}),6e5),ie(),Xe.value=j(We,(e=>{const t=e[0],{height:a}=t.contentRect,s=document.getElementById("layout-footer"),l=null==s?void 0:s.getBoundingClientRect(),o=(null==l?void 0:l.height)||0,n=(null==l?void 0:l.width)||0,i=document.getElementById("layout-main"),r=null==i?void 0:i.getBoundingClientRect(),c=(null==r?void 0:r.width)||0;He.value=(n||c)-32,Ye.value=parseInt("".concat(a-o-2),10)})),et(),window.$extension=at},lt={key:0,id:"layout-footer",class:"flex items-center w-full h-[52px] bg-white text-[#333] justify-center relative z-90"},ot={class:"w-full flex items-center justify-center"},nt={class:"mx-[8px] bt-link"},it={class:"w-full flex items-center justify-center"},rt=e({__name:"footer",setup(e){const t=y((()=>{var e;return(null==(e=x())?void 0:e.path)||""})),{payment:a}=ee(),{vite_public_brand:s,vite_public_product:l,vite_public_year:o}=window;return(e,d)=>{const m=le,v=Oe,b=oe,g=Be;return"/waf"!==r(t)?(c(),u("footer",lt,[h("span",null,P(r(s))+P(r(l))+"©2014-"+P(r(o))+" 广东堡塔安全技术有限公司 (bt.cn)",1),p(m,{class:"mx-[8px]",href:"http://www.bt.cn/bbs"},{default:f((()=>d[0]||(d[0]=[w("论坛求助")]))),_:1}),p(v),p(m,{class:"mx-[8px]",href:"https://www.kancloud.cn/chudong/bt2017/424204"},{default:f((()=>d[1]||(d[1]=[w("使用手册")]))),_:1}),p(v),p(g,{placement:"top-start","popper-class":"white-tips-popover",width:"160",trigger:"hover"},{reference:f((()=>d[2]||(d[2]=[h("span",{class:"bt-link mx-[8px]"},"微信公众号",-1)]))),default:f((()=>[h("div",ot,[p(b,{src:"/other/bt_wx.jpg"})])])),_:1}),p(v),p(m,{class:"mx-[8px]",href:"https://www.bt.cn/auth"},{default:f((()=>d[3]||(d[3]=[w("正版查询")]))),_:1}),"ltd"==r(a).authType?(c(),u(Q,{key:0},[p(v),p(m,{class:"mx-[8px]",href:"https://jq.qq.com/?_wv=1027&k=12Y6BkLq"},{default:f((()=>d[4]||(d[4]=[w(" 售后QQ群：907340327 ")]))),_:1})],64)):U("",!0),n(p(v,null,null,512),[[i,"ltd"!=r(a).authType]]),p(g,{placement:"top-start","popper-class":"white-tips-popover",width:"160",trigger:"hover"},{reference:f((()=>[n(h("span",nt,"联系人工客服",512),[[i,"ltd"!=r(a).authType]])])),default:f((()=>[h("div",it,[p(b,{src:"/other/customer-service.png",class:"w-[150px]"})])])),_:1})])):U("",!0)}}}),ct=ne(e({__name:"main",setup(e){const{mainHeight:t}=ee(),{BtFps:a}={BtFps:p("span",null,null)};return(e,s)=>{const l=V("router-view");return c(),u("section",{id:"layout-main",class:K("w-full p-[16px]"),style:N({"min-height":r(t)+"px"})},[p(l,null,{default:f((({Component:e})=>[p(J,{class:"animate-animated",name:"fade",mode:"out-in"},{default:f((()=>[(c(),L(G(e)))])),_:2},1024)])),_:1}),p(r(a))],4)}}}),[["__scopeId","data-v-9f176e8b"]]);const ut=e({name:"BtScrollbar",props:{...X},setup:(e,{attrs:t,slots:a})=>()=>{return p(W,d(e,t),"function"==typeof(s=a)||"[object Object]"===Object.prototype.toString.call(s)&&!v(s)?a:{default:()=>[a]});var s}}),pt=""+new URL("../icons/logo-white.svg",import.meta.url).href,{disableSidebar:dt,serverIp:mt,menuControl:vt,cutCollapseView:ft}=ee(),ht=()=>{dt.value||Ie()},wt=async()=>{_e({value:mt.value})},bt=e=>ke.currentRoute.value.path.split("/")[1]===e.name?"is-active":"",gt=async()=>{try{await ve({icon:"warning-filled",title:"退出登录",content:"退出面板登录，是否继续？"}),setTimeout((()=>{window.location.href="/login?dologin=True"}),400)}catch(e){}},yt=async()=>{dt.value||Ee()},xt=async()=>{var e;if(ft(),!ke.currentRoute.value.path.includes("/waf"))return;const t=document.getElementById("ifrramApp");t&&(null==(e=t.contentWindow)||e.check_shrink(vt.value.collapse))},_t={class:"flex flex-col w-full h-full bg-aside text-white"},kt={key:0,class:"sidebar-mask"},jt={class:"flex-shrink-0"},Bt={class:"flex-1 overflow-y-auto overflow-hidden"},At={class:"relative h-full"},Ct=["href","onClick"],It={class:"ml-[1rem]"},Et={class:"flex-shrink-0"},Mt={class:"cursor-pointer"},Tt={class:"cursor-pointer"},St=ne(e({__name:"index",setup(e){const{menuControl:t,panel:a,serverIp:s,messageNumberStyle:l,menuControlIcon:o,menuCollapseMouseleave:n,menuCollapseMouseenter:i,cutMenuRouter:d}=ee(),m=x();return(e,v)=>{const w=Je,b=ut,g=se,y=Fe;return c(),u("section",_t,[r(m).path.includes("bind")?(c(),u("div",kt)):U("",!0),h("div",jt,[p(w,{class:"layout-message"},{default:f((()=>[v[7]||(v[7]=h("img",{src:pt,alt:"logo-white",class:"ml-[12px] mr-[4px] w-[20px]"},null,-1)),r(t).collapse?U("",!0):(c(),u("div",{key:0,class:"w-[112px] text-[14px] leading-normal truncate",title:"双击可复制IP",onDblclick:v[0]||(v[0]=(...e)=>r(wt)&&r(wt)(...e))},P(r(a).sidebarTitle||r(s)),33)),h("div",{class:K(r(l)),onClick:v[1]||(v[1]=(...e)=>r(ht)&&r(ht)(...e))},P(r(a).msgBoxTaskCount),3)])),_:1})]),h("div",Bt,[h("div",At,[p(b,null,{default:f((()=>[h("ul",{class:K(["bt-menu",{"is-cut-menu":r(t).collapse}])},[(c(!0),u(Q,null,H(r(je),(e=>(c(),u(Q,{key:e.path},["dologin"!=e.name&&e.show?(c(),u("li",{key:0,class:K(["menu-item","menu-".concat(String(e.name))])},[(c(),u("a",{key:e.path,href:e.path,class:K(["flex justify-start",r(bt)(e)]),onClick:Y((t=>r(d)(e.path)),["prevent"])},[h("i",{class:K(["svgtofont-left-".concat(String(e.name))])},null,2),h("span",It,P(e.title),1)],10,Ct))],2)):U("",!0)],64)))),128)),h("li",{class:"menu-item menu-exit",onClick:v[2]||(v[2]=(...e)=>r(gt)&&r(gt)(...e))},v[8]||(v[8]=[h("a",{href:"javascript:;",class:"flex justify-start"},[h("i",{class:"svgtofont-left-exit"}),h("span",{class:"ml-[10px]"},"退出")],-1)]))],2)])),_:1})])]),h("div",Et,[h("div",{class:K(["menu-toolbar",{"justify-between":!r(t).collapse}])},[h("div",Mt,[p(y,{class:"item",effect:"dark",content:"点击伸缩菜单栏",placement:"top",enterable:!1},{default:f((()=>[h("div",{class:"setting-hover",onClick:v[3]||(v[3]=(...e)=>r(xt)&&r(xt)(...e)),onMouseleave:v[4]||(v[4]=(...e)=>r(n)&&r(n)(...e)),onMouseenter:v[5]||(v[5]=(...e)=>r(i)&&r(i)(...e))},[p(g,{icon:r(o)?"display-menu":"shrink-menu",color:"#bbb"},null,8,["icon"])],32)])),_:1})]),h("div",Tt,[r(t).collapse?U("",!0):(c(),L(y,{key:0,class:"item",effect:"dark",content:"点击设置菜单显示隐藏",placement:"top",enterable:!1},{default:f((()=>[h("div",{class:"setting-hover",onClick:v[6]||(v[6]=(...e)=>r(yt)&&r(yt)(...e))},[p(g,{icon:"menu-setting",color:"#bbb"})])])),_:1}))])],2)])])}}}),[["__scopeId","data-v-f9c88ec3"]]),Rt={class:"h-full"},Ot=ne(e({__name:"index",setup(e){const{layoutSidebarStyle:t,layoutBodyStyle:a,panel:s,layoutBody:l,menuCollapseMouseenter:d,menuCollapseMouseleave:m}=ee(),v=x();return o(st),$(tt),(e,o)=>{const h=Le,w=Je,b=Ve,g=ze;return c(),u("div",Rt,[p(w,{id:"app-container",class:"h-full"},{default:f((()=>[p(h,{width:"auto",class:K(["h-full layout-left-menu",r(t)]),onMouseenter:r(d),onMouseleave:r(m)},{default:f((()=>[p(St)])),_:1},8,["class","onMouseenter","onMouseleave"]),p(w,{id:"layout-body",ref_key:"layoutBody",ref:l,class:K(r(a))},{default:f((()=>[p(ct),p(rt)])),_:1},8,["class"]),n(p(b,null,null,512),[[i,r(s).isShowCustomer]])])),_:1}),r(v).path.includes("bind")?U("",!0):(c(),L(g,{key:0}))])}}}),[["__scopeId","data-v-21530b97"]]);export{Ot as default};
