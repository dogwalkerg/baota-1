import{c as a,r as e,h as s,o as r,k as o,J as l,x as t,e as d,p as m,a7 as i,a4 as p}from"./base-lib.js?v=1734676359";import{_ as n}from"./index88.js?v=1734676359";import{q as u,v as f,G as c,j as w}from"./utils-lib.js?v=1734676359";import{setPassword as b,setsModulesPassword as j}from"./database.js?v=1734676359";import{g as _}from"./useMethod3.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./column.js?v=1734676359";import"./index91.js?v=1734676359";import"./validator.js?v=1734676359";const x=a({__name:"index",props:{compData:{default:()=>({username:"",password:"",id:0,name:""})}},setup(a,{expose:x}){const{refs:{tabActive:v},refreshTableList:g}=_(),h=a,{username:y,password:V,id:q}=h.compData,D=e(),k=s({id:q,password:V,username:y}),C={password:[{trigger:["blur"],required:!0,message:"请输入密码"}]};return r((()=>{u(D.value.$el,"password")})),x({onConfirm:async a=>{await D.value.validate();const{id:e,username:s,password:r}=k,o={id:e,name:s,password:r};await c({loading:"正在提交中，请稍后...",request:"mysql"===v.value?b({...o,data_name:h.compData.name}):j({data:JSON.stringify(o)},v.value),message:!0}),a(),g()}}),(a,e)=>{const s=w,r=i,u=n,c=p;return o(),l(c,{ref_key:"setDatabasePwdRef",ref:D,rules:C,model:m(k),class:"p-[2rem] flex flex-col justify-center","label-width":"auto"},{default:t((()=>[d(r,{label:"用户名",prop:"name"},{default:t((()=>[d(s,{width:"32rem",disabled:"",modelValue:m(k).username,"onUpdate:modelValue":e[0]||(e[0]=a=>m(k).username=a),textType:!1},null,8,["modelValue"])])),_:1}),d(r,{label:"密码",prop:"password"},{default:t((()=>[d(u,{icon:"el-refresh",modelValue:m(k).password,"onUpdate:modelValue":e[1]||(e[1]=a=>m(k).password=a),onIconClick:e[2]||(e[2]=()=>m(k).password=m(f)(16)),width:"32rem",name:"password"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])}}});export{x as default};
