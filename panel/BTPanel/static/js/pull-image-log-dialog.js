import{_ as e}from"./index101.js?v=1734676359";import{a5 as s}from"./utils-lib.js?v=1734676359";import{c as o,ax as a,r as t,o as n,k as l,l as r,e as p,p as c}from"./base-lib.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";const m={class:"flex-wrap"},i=o({__name:"pull-image-log-dialog",props:{compData:{default:()=>({url:"",params:{},onWSReceive:()=>{},onRefresh:()=>{}})}},emits:["close"],setup(o,{expose:i,emit:u}){const f=o,d=a("popupClose",(()=>{}));let _=null;const D=t("开始拉取镜像...\n"),j=()=>{_&&(_.socket.close(),_=null,f.compData.onRefresh&&f.compData.onRefresh())};return n((async()=>{await void(_=s({route:f.compData.url,onMessage:(e,s)=>{f.compData.onWSReceive(s,D,j,d)}})),(()=>{let e={...f.compData.params};null==_||_.send(e)})()})),i({socketInfo:()=>_}),(s,o)=>{const a=e;return l(),r("div",m,[p(a,{class:"!h-[40rem] !rounded-none",content:c(D)},null,8,["content"])])}}});export{i as default};
