import{u as e,cO as t,cP as a,M as o,G as i,cQ as n,cR as s,cS as c,cT as u,a1 as l,ah as d,o as r,bj as p,l as y,H as v,cU as m,cV as f,R as M,cW as h,cX as g,cY as I,cZ as T,c_ as w,aq as b,c$ as N,d0 as C}from"./utils-lib.js?v=1734676359";import{g as P,r as L,t as E,h as _,i as O}from"./base-lib.js?v=1734676359";import{p as x}from"./validator.js?v=1734676359";const D=P("PRODUCT-PAYMENT-STORE",(()=>{const P=L({}),D=L(),S=L(!1),{payment:A,authTypeTitle:B,isUpdatePayment:q,isRefreshSoftList:V,setAuthState:R,authExpirationTime:j}=e(),{authType:H,voucherOpenTime:F,bindUser:k,isGetCoupon:W}=E(A.value),Y=L(!1),U=L(),G=L(!1),J=L(!1),K=_({}),Z=L(!0),$=_({cycleMode:{activeCycleInfo:{cycle:12},list:[]},numsMode:{list:[],activeNumsInfo:{count:1,price:0,discount:0}},couponMode:{status:!1,activeCouponId:"",activeCouponInfo:{},discountsTitle:"",disabled:!1,count:0,list:[],endTimeNum:0},couponInfo:{[t.pro]:[],[t.ltd]:[],[t.dev]:[]},enterpriseMode:{status:!1,isHidden:!1},devCycleInfo:{isGetOperated:!1,data:{}},voucherMode:{loading:!1,isExist:!1,proTypeList:{},typeActive:0,typeList:{},list:[],active:0,activeInfo:{pid:0,code:""}},payMode:{activePayType:"wechat",activeBuyInfo:{price:0,count:0,cycle:0,originalPrice:0,discount:0},activeBalanceInfo:{},balance:0,activePayCode:{apliy:"",wechat:""},qrcode:{value:"",size:110},payTips:{status:!1,name:"",day:0},isLastBuyRepeat:!1,lastPayTime:0,createOrderTime:[]}}),z=_({right:!0,left:!1}),Q=L(!1),X=_({d:"00",h:"00",m:"00",s:"00"});let ee=null,te=null;const ae=_({status:!0,title:"正在获取产品信息，请稍侯..."}),oe=_({status:!0,title:"正在生成支付订单，请稍侯..."}),ie=L(!1),ne=L(!1),se=L(),ce=O((()=>"".concat("alipay"===(null==$?void 0:$.payMode.activePayType)?"ali":"wechat","-pay.svg"))),ue=()=>{var e;const t=document.getElementById("list-box"),a=172*$.cycleMode.list.length;if(null===t)return;const o=t.clientWidth;if(a<o)return;const i=document.getElementById("list"),n=Math.abs(parseInt(null==(e=window.getComputedStyle(i,null))?void 0:e.left,10));n+o-360<o?(i.style.left="0px",z.right=!0,z.left=!1):i.style.left="-".concat(n-360,"px")},le=async e=>{ue(),ae.status=!0,$.enterpriseMode.status=!1;const{ltd:a}=t;switch("string"==typeof e&&(e=K.typeList.find((t=>t.type===e))),K.activeTypeInfo=e,$.cycleMode.list=[],$.numsMode.activeNumsInfo.count=1,$.couponMode.status=!1,K.unbindAuthor.status=!1,K.unbindAuthor.count=0,Fe(),e.type){case"coupon":ae.title="正在获取产品抵扣券，请稍侯...",await He({pid:e.pid}),ae.status=!1,$.voucherMode.proTypeList[a]&&Re({pid:a,list:$.voucherMode.proTypeList[a].list});break;case"plugin":case"ltd":case"pro":case"dev":ae.title="正在获取产品信息，请稍侯...",await Ve(e.pid),ae.status=!1,de($.cycleMode.list[0])}},de=async(e,t)=>{var a;$.numsMode.list=e.nums,$.cycleMode.activeCycleInfo=e,$.enterpriseMode.isHidden=!("ltd"===(null==K?void 0:K.activeTypeInfo.type)&&12===e.cycle),void 0===t&&!$.enterpriseMode.isHidden&&$.enterpriseMode.status&&($.enterpriseMode.status=!1),Fe(),(null==(a=e.nums)?void 0:a.length)&&await re(e.nums[0])},re=async e=>{var t;$.numsMode.activeNumsInfo=e;const a=[],{list:o}=$.couponMode;if("pro"===(null==K?void 0:K.activeTypeInfo.type)&&o.length>0&&(o.forEach((t=>{t.val1<=e.price&&a.push(t)})),a.length))return $.couponMode.status=!0,a.sort(((e,t)=>Number(t.val2)-Number(e.val2))),pe(null==(t=a[0].id)?void 0:t.toString()),!1;if(!Q.value&&$.couponMode.count>0){const e=o[0];Q.value=!0,$.couponMode.activeCouponId=e.id.toString(),$.couponMode.endTimeNum=Math.floor(e.endtime-Math.floor((new Date).getTime()/1e3))}ve()},pe=async e=>{$.couponMode.status=!0,$.couponMode.activeCouponId=e.toString();const t=$.couponMode.list.find((t=>t.id===Number(e)));void 0!==t&&($.couponMode.activeCouponInfo=t,$.couponMode.endTimeNum=Math.floor(t.endtime-Math.floor((new Date).getTime()/1e3)),t.name.indexOf("0.99")>-1?$.couponMode.discountsTitle=t.name:$.couponMode.discountsTitle="已使用优惠券，立减".concat(t.val2,"元")),ve()},ye=L(!1),ve=async(e={pid:Number($.numsMode.activeNumsInfo.pid),cycle:Number($.cycleMode.activeCycleInfo.cycle),source:Number(U.value),num:Number($.numsMode.activeNumsInfo.count),coupon:$.couponMode.status&&$.couponMode.activeCouponId||""},c=!0)=>{try{const u=(new Date).getTime()/1e3;$.payMode.createOrderTime.push(u),c&&(oe.status=!0);const{data:l}=await a(e),{activeTypeInfo:d}=K,{pid:r}=d,{status:p}=$.enterpriseMode;if(r===t.ltd&&(p&&Number(e.pid)!==t.dev||!p&&Number(e.pid)!==t.ltd)||r!==t.ltd&&Number(e.pid)!==r||Number($.numsMode.activeNumsInfo.count)!==e.num||e.cycle!==Number($.cycleMode.activeCycleInfo.cycle))return;if("string"==typeof l.data&&"inherit_order"===l.data)return o.msg({message:l.msg,type:"warning"}),await Ge(),ve();if("string"==typeof l.msg&&-1!==l.msg.indexOf("接口请求失败"))return void o.msg({customClass:"panel-cloud-error",dangerouslyUseHTMLString:!0,message:l.msg,type:"error",duration:0,showClose:!0});const{ali_msg:y,msg:v,extra:m,data:f,is_coupon:M,status_code:h}=l,{cash_fee:g,uid:I}=f;if($.payMode.activeBuyInfo=Be(g),120===h&&m){if($.payMode.payTips.name=m.name,"pro"===K.activeTypeInfo.type&&"永久授权"===j.value)return K.unbindAuthor.status=!0,K.unbindAuthor.count=null==m?void 0:m.rest_unbind_count,oe.status=!1,Ke.value={type:null==K?void 0:K.activeTypeInfo.type,typeName:B.value,extra:m},!1;$.payMode.payTips.status=!0;const e=(new Date(1e3*m.end_time).getTime()-(new Date).getTime())/864e5;$.payMode.payTips.day=Math.ceil(e)}else $.payMode.payTips.status=!1;if(M&&M.length>0&&F.value<(new Date).getTime()/1e3&&100!==F.value)ie.value=!0,Pe({isCoupon:M});else if(!ne.value&&$.couponMode.list.length>0&&!G.value&&!ie.value){ne.value=!0;const{val1:e,val2:t,id:a,pid:o}=$.couponMode.list[0];pe(a)}f.returnTime=u,$.payMode.activeBalanceInfo=f,$.payMode.lastPayTime<=0?i({request:n({pid:f.pid}),data:{res:[Number,"buyVerify"]},success:e=>{e&&($.payMode.lastPayTime=e.buyVerify,Me())}}):Me();const{credits:T}=await i({request:s({uid:I}),data:{res:[Number,"credits"]}});$.payMode.balance=T/100;const{createOrderTime:w}=$.payMode;if(w[w.length-1]!==f.returnTime)return!1;oe.status=!1,$.payMode.balance>=$.payMode.activeBuyInfo.price?$.payMode.activePayType="balance":$.payMode.activeBuyInfo.price>=6e3?(ye.value=!0,$.payMode.activePayType="wechat"===$.payMode.activePayType?"alipay":$.payMode.activePayType):$.payMode.balance<$.payMode.activeBuyInfo.price&&($.payMode.activeBuyInfo.price<6e3?$.payMode.activePayType="wechat":$.payMode.activePayType="alipay"),ye.value&&$.payMode.activeBuyInfo.price<6e3&&($.payMode.activePayType="wechat",ye.value=!1),$.payMode.activePayCode.apliy=y,$.payMode.activePayCode.wechat=v,$.payMode.qrcode.value="wechat"===$.payMode.activePayType?v:y,"ltd"===(null==K?void 0:K.activeTypeInfo.type)&&ge($.numsMode.activeNumsInfo.count),ee&&clearTimeout(ee),"coupon"!==(null==K?void 0:K.activeTypeInfo.type)&&setTimeout((()=>{Z.value=!0,_e((new Date).getTime()/1e3)}),5e3),(()=>{const e={cycleMode:$.cycleMode,numsMode:$.numsMode,payMode:$.payMode,typeTab:null==K?void 0:K.activeTypeInfo.type,enterpriseMode:$.enterpriseMode,couponMode:$.couponMode};sessionStorage.setItem("PAY-VIEW-INFO",JSON.stringify(e))})()}catch(u){o.error("获取支付订单接口失败")}},me=L({}),fe=L(),Me=()=>{(new Date).getTime()/1e3-$.payMode.lastPayTime<1800?$.payMode.isLastBuyRepeat=!0:$.payMode.isLastBuyRepeat=!1},he=L(0),ge=async e=>{let t=[];if($.devCycleInfo.isGetOperated&&$.devCycleInfo.data.nums.length)t=$.devCycleInfo.data.nums;else{const{data:e}=await c({pid:100000068});t=e[12].nums,$.devCycleInfo.isGetOperated=!0,$.devCycleInfo.data=e[12]}const a=t.find((t=>t.count===e));a&&(he.value=a.price)},Ie=L(""),Te=L(!1),we=L(Math.floor(Date.now()/1e3)),be=L([]),Ne=L(!1),Ce=L(),Pe=async e=>{be.value=e.isCoupon,Ne.value=e.isHome||!1,Ce.value=y({area:40,component:()=>v((()=>import("./index263.js?v=1734676359")),__vite__mapDeps([]),import.meta.url),customClass:"voucherFetchView",compData:e,onCancel:()=>{Te.value&&window.location.reload()}})},Le=async(e,t)=>{await Ee(),t!==(null==K?void 0:K.activeTypeInfo.type)&&await le(t),await pe(e)},Ee=async()=>{$.couponInfo[t.pro]=[],$.couponInfo[t.ltd]=[],$.couponInfo[t.dev]=[],await i({request:m(),data:{res:[Array,"data"]},success:e=>{const t=(new Date).getTime()/1e3;e.data.forEach((e=>{const a=Math.floor((e.endtime-Math.floor(t))/3600);let o=0;a>24?o=Math.floor(a/24):a>0&&(o=1),e.newName="".concat(e.name,"( ").concat(o,"天后过期)"),$.couponInfo[e.product_id].push(e)})),Fe()}})},_e=async e=>{try{e&&sessionStorage.setItem("PAY-VIEW-INFO-TIME","".concat(e));const t=sessionStorage.getItem("PAY-VIEW-INFO-TIME");if(t){if(parseInt("".concat((new Date).getTime()/1e3-Number(t)),10)>600&&S.value)return Z.value=!1,sessionStorage.removeItem("PAY-VIEW-INFO-TIME"),r({title:"支付超时",icon:"warning",content:"由于您长时间未操作，支付超时，请刷新网页重新购买！",onConfirm:()=>{ke(),window.location.reload()},onCancel:()=>{ke(),window.location.reload()}});S.value||sessionStorage.removeItem("PAY-VIEW-INFO-TIME")}if(ee&&clearTimeout(ee),"coupon"===(null==K?void 0:K.activeTypeInfo.type)||K.unbindAuthor.status)return;if("balance"===$.payMode.activePayType)return void(ee=setTimeout((()=>{_e()}),4e3));const a=(new Date).getTime()/1e3,{status:o}=await i({request:f({wxoid:$.payMode.activeBalanceInfo.wxoid}),data:{status:[Boolean,"status"]}});if(o)Ae();else{const e=(new Date).getTime()/1e3;te=setTimeout(_e,e-a<1?4e3:3e3)}}catch(t){d(t)}},Oe=()=>{-1!==location.pathname.indexOf("/waf")&&window.location.reload()},xe=async()=>{-1!==location.pathname.indexOf("/soft/plugin")&&(q.value=!0,V.value=!0)},De=L({}),Se=async()=>{const{data:e}=await w({force:1}),{ltd:t,pro:a}=new b(e,{ltd:Number,pro:Number}).exportData();return R([0,a,t]),{ltd:t,pro:a}},Ae=async()=>{var e,t;try{await xe(),ke();const a=await Se(),o="dev"===(null==(e=null==K?void 0:K.activeTypeInfo)?void 0:e.type)?"ltd":(null==(t=null==K?void 0:K.activeTypeInfo)?void 0:t.type)||"";Object.assign(De.value,{type:K.activeTypeInfo.type,typeTipsList:K.activeTypeInfo.tipsList,cycle:$.payMode.activeBuyInfo.cycle,count:$.payMode.activeBuyInfo.count,lastTime:M(a[o]),title:K.activeTypeInfo.title}),y({area:68,component:()=>v((()=>import("./index350.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)}),Oe()}catch(a){d(a)}},Be=e=>{const{cycleMode:t,numsMode:a,couponMode:o}=$,{activeCycleInfo:i}=t,n=i.originalPrice,{activeNumsInfo:s}=a,{activeCouponInfo:c,status:u}=o;let l=e/100,d=i.title||"",r=s.count||0;const p=n*r;return u&&(c.name.includes("0.99")?(l=p-c.val1,d="".concat(c.experimental_interval,"天"),r=1):l=(s.price||0)-c.val2),{price:l,count:r,cycle:d,originalPrice:p,discount:c}},qe=L(!1),Ve=async e=>{try{qe.value=!0;const{data:a}=await c({pid:e});Number(a.pid)===t.dev&&(delete a[1],delete a[6],delete a[36],$.devCycleInfo.isGetOperated=!0,$.devCycleInfo.data=a[12]);const o=[];for(const e in a)if(Object.prototype.hasOwnProperty.call(a,e)){const{price:t,tip:i,sprice:n,nums:s,sort:c}=a[e];if(!isNaN(Number(e))){const a=Number(e)%12==0?"".concat(Number(e)/12,"年"):"".concat(Number(e),"个月");o.push({cycle:Number(e),price:t,recommend:i,originalPrice:n,nums:s,sort:c,title:a,everyDay:(t/Number(e)/30).toFixed(2)})}}o.sort(((e,t)=>e.sort-t.sort)),$.cycleMode.list=o}catch(a){d(a)}finally{qe.value=!1}},Re=e=>{const{list:t,pid:a}=e;$.voucherMode.list=t,$.voucherMode.typeActive=a,je(t[0])},je=e=>{const{id:t,product_id:a,code:o}=e;$.voucherMode.active=t,$.voucherMode.activeInfo={pid:a,code:o}},He=async e=>{$.voucherMode.typeList={};try{$.voucherMode.loading=!0;const{data:t}=await h(e);$.voucherMode.isExist=!(0===t.length),t.forEach((e=>{const{product_id:t,name:a}=e;$.voucherMode.typeList.hasOwnProperty(t)?$.voucherMode.typeList[t].list.push(e):$.voucherMode.typeList[t]={name:a,pid:t,list:[e]}}));["100000011","100000032"].reverse().forEach((e=>{if($.voucherMode.typeList[e]){const t=$.voucherMode.typeList[e];$.voucherMode.proTypeList[e]=t,delete $.voucherMode.typeList[e]}}))}catch(t){d(t)}finally{$.voucherMode.loading=!1}},Fe=()=>{var e;const{type:a,pid:o}=K.activeTypeInfo;if(["plugin","coupon"].includes(a))$.couponMode.count=0,$.couponMode.list=[];else{let i=o;$.enterpriseMode.status&&"ltd"===a&&(i=t.dev),$.couponMode.count=(null==(e=$.couponInfo[i])?void 0:e.length)||0,$.couponMode.list=$.couponInfo[i]}$.couponMode={status:!1,activeCouponId:"",activeCouponInfo:{},discountsTitle:"",count:$.couponMode.count,list:$.couponMode.list,disabled:!$.couponMode.count,endTimeNum:0},$.couponMode.count<=0&&($.couponMode.disabled=!0)},ke=async()=>{window.onbeforeunload=()=>{},Qe(),D.value("close")},We=L(),Ye=L(!1),Ue=L([{type:"wechat",title:"微信扫码支付"},{type:"alipay",title:"支付宝扫码支付"},{type:"balance",title:"余额支付"},{type:"accounts",title:"对公转账"}]),Ge=async()=>{var e;try{await Se()&&(o.request({msg:"刷新成功",status:!0}),(null==(e=null==K?void 0:K.activeTypeInfo)?void 0:e.type)&&le(K.activeTypeInfo.type))}catch(t){d(t)}},Je=L(!1),Ke=L({}),Ze=L(!1),$e=L(),ze=e=>{Ke.value=e,$e.value=y({area:[32,29],component:()=>v((()=>import("./index352.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},Qe=()=>{ye.value=!1,S.value=!1,te&&clearTimeout(te),ee&&clearTimeout(ee),se.value&&clearInterval(se.value)};return{compData:P,isRemarksLoading:Ye,productPriceLoading:qe,isPlugin:Y,productInfo:K,product:$,enterprise:he,tabLoading:ae,iSwitch:z,countDown:X,switchLeft:ue,switchRight:()=>{const e=document.getElementById("list-box"),t=172*$.cycleMode.list.length,a=e.clientWidth;if(t<a)return;const o=document.getElementById("list"),i=Math.abs(parseInt(window.getComputedStyle(o,null).left,10));i+a+360>t?(o.style.left="-".concat(t-a,"px"),z.right=!1,z.left=!0):o.style.left="-".concat(i+360,"px")},changeTypeTabEvent:le,changeCycleTabEvent:de,changeNumsTabEvent:re,enterpriseEvent:e=>{$.enterpriseMode.status=Boolean(e),e?de({cycle:12,price:$.devCycleInfo.data.price,recommend:!1,originalPrice:$.devCycleInfo.data.sprice,nums:$.devCycleInfo.data.nums,sort:0,title:"1年",everyDay:($.devCycleInfo.data.price/12/30).toFixed(2)},"dev"):de($.cycleMode.list[0])},changeCouponBoxEvent:e=>{const{status:t,count:a,activeCouponId:i}=$.couponMode;if(0===a)return $.couponMode.status=!1,o.warn("暂无可用优惠券");if($.couponMode.status=void 0!==e?Boolean(e):!t,""!==i&&$.couponMode.status)pe(i);else if(""===i&&$.couponMode.status)return o.request({msg:"请选择优惠券",status:!1}),$.couponMode.status=!1,!1;ve()},changeCouponEvent:pe,openPrivilegeContrast:()=>{We.value=y({area:[97,75],component:()=>v((()=>import("./index351.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},bindUser:k,paymentLoading:oe,payList:Ue,changePayTypeEvent:e=>{switch(e.type){case"wechat":if($&&(null==$?void 0:$.payMode.activeBuyInfo.price)>=6e3)return o.warn("刷新支付金额已超过微信单笔支付额度，请选择其他支付方式"),!1;$.payMode.qrcode.value=$.payMode.activePayCode.wechat;break;case"alipay":$.payMode.qrcode.value=$.payMode.activePayCode.apliy}$.payMode.activePayType=e.type},paySuccessData:De,openBuySuccessView:Ae,changeBalanceBuyEvent:async()=>{var e,t,a,n,s,c,u,l;await i({loading:"正在支付中...",request:g({num:Number(null==(t=null==(e=null==$?void 0:$.numsMode)?void 0:e.activeNumsInfo)?void 0:t.count),cycle:Number(null==(n=null==(a=null==$?void 0:$.cycleMode)?void 0:a.activeCycleInfo)?void 0:n.cycle),uid:Number(null==(c=null==(s=null==$?void 0:$.payMode)?void 0:s.activeBalanceInfo)?void 0:c.uid),pid:Number(null==(l=null==(u=null==$?void 0:$.payMode)?void 0:u.activeBalanceInfo)?void 0:l.pid)}),data:{res:String,success:Boolean},success:e=>{o.request({msg:e.res,status:e.success}),e.success&&Ae()}})},changeRefreshAuthor:Ge,couponItem:be,closeAfterReload:Te,timeClose:Ie,siteList:[{label:"今日内不再提醒",value:"today"},{label:"近7天内不再提醒",value:"week"},{label:"永久不再提醒",value:"forver"}],timeNow:we,addZero:e=>e<10?"0".concat(e):"".concat(e),claimCouponEvent:async()=>{try{const{data:e}=await u();if(W.value=!0,l(null==e?void 0:e.status)&&0===(null==e?void 0:e.status))return o.request({msg:e.msg,status:!1}),void(Te.value=!0);const t={100000011:"pro",100000032:"ltd",100000068:"dev"}[e.data[0].pid],{id:a}=e.data[0];o.request({msg:e.msg,status:!0});const i=await Ce.value;if(null==i||i.unmount(),Ne.value)return await x({disablePro:"pro"!==t,sourceId:176,isHomeBubble:{id:a,pro:t}}),!1;await Le(a,t)}catch(e){d(e)}},changeCloseTimeEvent:async(e,t=!0)=>{let a=0,i="";switch(Ie.value=e,Ie.value){case"today":a=new Date((new Date).toLocaleDateString()).getTime()+864e5-1,i="今日内不再通知";break;case"week":a=new Date((new Date).toLocaleDateString()).getTime()+6048e5-1,i="近7天内不再通知";break;case"forver":a=-100,i="永久不再通知"}if(a=Math.floor(a>0?a/1e3:a),t&&await r({title:"提示",content:"".concat(i,",是否确认?")}),Ne.value)F.value=a,sessionStorage.setItem("voucherOpenTime",F.value.toString());else try{const e=await p({limit_time:a});t&&o.request(e)}catch(s){d(s)}const n=await Ce.value;null==n||n.unmount(),W.value=!0},couponCompData:me,changeVoucher:async()=>{pe(me.value.id);const e=await fe.value;null==e||e.unmount()},activePayIcon:ce,voucherLoading:Je,getVoucherCycleDescribe:(e,t)=>"month"===t?e%12?"".concat(e,"个月"):"".concat(e/12,"年"):"".concat(e+("year"===t?"年":"天")),useChangeVoucher:async()=>{Je.value=!0;const{status:e,extra:t,statusCode:a,msg:n}=await i({loading:"正在使用抵扣券，请稍侯...",request:I({pid:Number(null==$?void 0:$.voucherMode.activeInfo.pid),code:(null==$?void 0:$.voucherMode.activeInfo.code)||""}),data:{extra:[Object,"extra"],status:Boolean,status_code:[Number,"statusCode"],msg:String}});Je.value=!1,e?(await Se(),o.request({msg:n,status:e}),xe(),ke(),Oe()):120!==a||e?o.request({msg:n,status:e}):(Je.value=!1,ze({type:null==K?void 0:K.activeTypeInfo.type,typeName:B.value,extra:t}))},changeVoucherEvent:je,changeVoucherTypeEvent:Re,refreshSoftEvent:xe,isDisabledAuth:Ze,authType:H,bindAuthData:Ke,changeUnbindAuthor:async(e=!1)=>{if(Ke.value.extra.rest_unbind_count>0)try{await r({title:"提示",content:"解绑当前【".concat(B.value,"授权】，继续操作！")}),Ze.value=!0;const{data:a}=await T();if(o.request({msg:a.res,status:a.success}),a.success){await Se(),e?setTimeout((()=>{le(K.activeTypeInfo.type)}),500):await He({pid:t.coupon}),xe();const a=await $e.value;null==a||a.unmount()}}catch(a){}finally{Ze.value=!1}else window.open("https://www.bt.cn/admin/profe_ee","_blank")},privilegeList:["多对一技术支持","全年5次安全排查","5分钟极速响应","30+款付费插件","20+企业版专享功能","1000条免费短信（年付）","2张SSL商用证书（年付）","专享企业服务群（年付）","WAF防火墙","更换授权IP","客服优先响应","15+款付费插件","15天无理由退款"],proPrivilegeList:[0,0,0,0,0,0,0,0,1,1,1,1,1],ltdPrivilegeList:[0,0,1,1,1,1,1,1,1,1,1,1,1],plusPrivilegeList:[1,1,1,1,1,1,1,1,1,1,1,1,1],go2tab:async e=>{le(e);const t=await We.value;null==t||t.unmount()},emits:D,onCancel:async()=>(await r({title:"温馨提示",content:'支付过程中，请勿关闭该页面，以免出现支付异常！<br><a\n\t\t\t\tclass="bt-link text-[1.2rem]"\n\t\t\t\thref="https://www.bt.cn/new/wechat_customer"\n\t\t\t\ttarget="_blank"\n\t\t\t\trel="noreferrer noopener"\n\t\t\t\t>支付遇到问题？联系客服</a\n\t\t\t>',isHtml:!0,width:"40rem"}),ke(),!1),init:async e=>{e&&(P.value=e),S.value=!0,(()=>{const{pluginInfo:e,disablePro:a}=P.value;Y.value=!!e,U.value=P.value.sourceId,J.value=a,G.value=P.value.isHomeBubble,Object.assign(K,{typeList:[{type:"plugin",title:Y.value?e.title:"插件",describe:Y.value?8===e.type?"此插件已包含于【专业版】":"此插件已包含于【企业版】":"",pid:Y.value?e.pid:0,isHidden:!Y.value,tipsTitle:"插件说明",tipsList:[]},{type:"pro",title:"".concat(C,"专业版"),describe:"适用于个人用户、个人项目",pid:t.pro,isHidden:a,tipsTitle:"专业版特权",tipsList:[]},{type:"ltd",title:"".concat(C,"企业版"),describe:"适用于官网，电商、教育、医疗等用户",pid:t.ltd,recommend:!0,tipsTitle:"企业版特权",tipsList:[]},{type:"dev",title:"企业运维托管",describe:"适用于无专业技术、需技术服务的企业",pid:t.dev,tipsTitle:"企业运维托管特权",isHidden:Y.value,tipsList:["网站性能优化","网站安全扫描","网站攻击防护","服务器运维托管","企业版所有特权","文件防篡改配置","文件代码同步部署","系统文件垃圾清理","数据库数据同步部署","50x/40x网站报错处理","CPU内存占用过高处理"]},{type:"coupon",title:"抵扣券",describe:"抵扣券授权",pid:t.coupon,tipsTitle:"抵扣券来源",tipsList:["官网后台购买","活动页购买","推广赠送","更换绑定IP"]}],activityList:"",activeTypeInfo:{type:"pro",describe:"",title:"",pid:0,recommend:!1,tipsTitle:"",tipsList:[]},unbindAuthor:{status:!1,count:0}})})(),(async()=>{let e=sessionStorage.getItem("PAY-VIEW-INFO-REMARKS");e||await i({loading:Ye,request:N(),data:{pro_list:[Array,"pro"],list:[Array,"ltd"],activity_list:[Array,"activityList"]},success:t=>{e=JSON.stringify(t),sessionStorage.setItem("PAY-VIEW-INFO-REMARKS",e)}});const t=JSON.parse(e);Ye.value=!1;const{pro:a,ltd:o,activityList:n}=t;K.typeList[1].tipsList=a,K.typeList[2].tipsList=o,(new DOMParser).parseFromString(n,"text/xml"),K.activityList=n||"",K.activeTypeInfo=K.typeList.find((e=>e.type===K.activeTypeInfo.type)),Ee()})(),Ye.value=!0;let a=(()=>{let e="free"===H.value?"ltd":H.value;return J.value||"ltd"===e||(e="pro"),e})();var o;const n=((e,t)=>null==t?void 0:t.some((t=>t.type===e)))(a,null==(o=null==K?void 0:K.typeList)?void 0:o.filter((e=>!0!==(null==e?void 0:e.isHidden))));n||(a="ltd"),await le(a),(async()=>{if(G.value&&Object.keys(G.value).length>0&&"object"==typeof G.value){const{id:e,pro:t}=G.value;await Le(e,t)}})(),window.onbeforeunload=()=>"是否要离开"},$reset:Qe}}));export{D as P};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
