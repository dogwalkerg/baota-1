import{u as e}from"./index93.js?v=1734676359";import{u as t,al as a,am as l,R as s,an as n,bf as o,bg as i,x as r,l as p,H as u,ao as m,M as c}from"./utils-lib.js?v=1734676359";import{_}from"./index90.js?v=1734676359";import{_ as d}from"./index261.js?v=1734676359";import{_ as v}from"./index91.js?v=1734676359";import{u as f,a as b,g as x,b as h,c as P,d as T,e as j,f as k,h as y,o as F,i as E,j as g,k as I,l as w,s as R}from"./useStore5.js?v=1734676359";import{u as B}from"./index124.js?v=1734676359";import{_ as D}from"./index116.js?v=1734676359";import{r as C,b8 as L,c as q,e as O,I as A,o as V,k as M,l as S,p as H,x as Z,q as z,v as J,J as N}from"./base-lib.js?v=1734676359";import{a as W,j as G,b as K,k as Q,h as U,e as X,g as Y,u as $}from"./column.js?v=1734676359";import{p as ee}from"./validator.js?v=1734676359";import{B as te}from"./index117.js?v=1734676359";import"./index94.js?v=1734676359";import"./index95.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";import"./index107.js?v=1734676359";import"./index.vue_vue_type_style_index_0_scoped_03ce946a_lang.js?v=1734676359";const ae=q({__name:"index",setup(e){const{serverIp:N,mainHeight:ae,payment:le}=t(),{ftpPort:se,rowData:ne,pluginInfo:oe,isRefreshFtpList:ie}=f(),{isEdit:re}=b(),pe=e=>(ne.value=e,re.value=!!e,p({title:"".concat(e?"修改FTP用户【".concat(e.name,"】"):"添加FTP用户"),area:50,btn:"".concat(e?"保存":"确认"),compData:e||{},component:()=>u((()=>import("./index253.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})),ue=(e,t=!1)=>{"ltd"===le.value.authType?me(e):ee({sourceId:t?260:52})},me=e=>{ne.value=e,p({title:"【".concat(e.name,"】FTP配额容量"),area:50,btn:!0,compData:e,component:()=>u((()=>import("./index255.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},ce=(e=!0)=>{I.value=e,p({title:"FTP日志扫描工具",area:[70,52],component:()=>u((()=>import("./index257.js?v=1734676359").then((e=>e.k))),__vite__mapDeps([]),import.meta.url)})},_e=B({key:"type_id",name:"FTP分类",options:()=>[{label:"全部分类",value:"all"}],event:{get:P,add:T,update:j,delete:k}}),de=[{name:"容量限制",callback:()=>{if(0===Ie.data.length)return c.error("暂无FTP用户，请先添加FTP用户");ue(Ie.data[0],!0)}},{name:"FTP日志分析",callback:ce}],{BtOperation:ve}=a({options:[{type:"button",label:"添加FTP",active:!0,onClick:()=>pe()},{type:"button",label:"修改FTP端口",onClick:()=>{p({title:"修改FTP端口",area:40,btn:!0,component:()=>u((()=>import("./index256.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})}},{type:"button",label:"FTP日志分析",onClick:()=>ce(!1)},{type:"divider"},{type:"custom",render:()=>O(te,{class:"ml-1rem",isRequest:!1,pluginInfo:oe.value},null)}]}),fe=m([{label:"启用FTP",value:"start",event:w},{label:"停用FTP",value:"stop",event:w},{label:"改密FTP",value:"exitPaw",event:async(e,t,a,l,s)=>{ne.value={selectedList:a,clearSelection:s},await p({title:"批量修改FTP密码",area:"auto",btn:!0,compData:{selectedList:a,clearSelection:s},component:()=>u((()=>import("./index260.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})}},{label:"设置分类",value:"setClass",event:async(e,t,a,l,s)=>{R(a,s,Ee)}},{label:"删除FTP",value:"delete",event:w}]),{BtTable:be,BtPage:xe,BtRecommendSearch:he,BtRefresh:Pe,BtColumn:Te,BtBatch:je,BtTableCategory:ke,BtErrorMask:ye,tableRef:Fe,classList:Ee,refresh:ge,config:Ie}=l({request:e=>("all"===e.type_id&&(e.type_id=""),x(e)),columns:[W(),{label:"用户名",prop:"name",minWidth:120},G({width:160}),K({event:y,data:["已停用","已启用"]}),Q({label:"快速连接",width:80,title:"复制快速连接信息",text:"点击查看",event:e=>{ne.value=e,p({title:"快速连接",area:48,compData:e,component:()=>u((()=>import("./index259.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})}}),U(),{label:"密码有效期",isCustom:!0,width:120,title:"设置密码有效期",prop:"end_time",render:e=>{let{isOrange:t,isEnd:a}=h(e);return O("span",{onClick:()=>{ne.value=e,(e=>{p({title:"设置密码有效期",area:46,btn:!0,compData:e,component:()=>u((()=>import("./index254.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})})(e)},title:"设置密码有效期",style:"color:#".concat(a?"ef0808":t?"f0ad4e":"20a53a",";cursor:pointer")},["0"!==e.end_time?s(Number(e.end_time),"yyyy-MM-dd"):"永久"])}},X({event:ue,width:100}),Y({table:"ftps",width:"auto"}),$([{onClick:e=>{ne.value=e,p({title:"修改FTP权限配置-[".concat(e.name,"]"),area:72,btn:"保存",compData:e,component:()=>u((()=>import("./index258.js?v=1734676359")),__vite__mapDeps([]),import.meta.url)})},title:"配置"},{onClick:pe,title:"修改"},{onClick:F,title:"日志"},{onClick:E,title:"删除"}])],extension:[_e,fe,n(ie),o("search",{name:"ftps",list:de}),i()]}),{BtSoftInstallMask:we,checkInstallRequest:Re}=(e=>{if(!e.request&&!e.options)throw new Error("请传入request或者options参数");const t=C({name:"",version:"",setup:!1,status:!1,title:""}),a=L("_".concat(t.value.title,"_mask"),!1),l=async()=>{if(!e.request)return;const l=await e.request();t.value=l,a.value=!t.value.setup};return(null==e?void 0:e.extension)&&e.extension.length&&(null==e||e.extension.forEach((e=>{e.install(t.value)}))),(null==e?void 0:e.options)&&(t.value=e.options,a.value=!t.value.setup),{init:async()=>(await l(),{BtSoftInstallMask:q((()=>()=>t.value.setup?null:O(D,{options:t.value},null)))}),checkInstallRequest:l,BtSoftInstallMask:()=>O(A,null,[a.value?O(D,{options:t.value},null):null])}})({request:g,extension:[]});return V(Re),(e,t)=>{const a=v,l=d,s=_;return M(),S(A,null,[O(H(we)),O(H(ye)),O(l,{class:"!mb-[12px]",closable:!1,type:"info","show-icon":""},{title:Z((()=>[t[1]||(t[1]=z("span",null,"当前FTP地址为：",-1)),z("span",{class:"cursor-pointer",title:"点击复制FTP路径",onClick:t[0]||(t[0]=e=>H(r)({value:"ftp://".concat(H(N),":").concat(H(se))}))}," ftp://"+J(H(N)||"IP地址")+":"+J(H(se)||"端口"),1),O(a),t[2]||(t[2]=z("a",{target:"_blank",class:"bt-link",href:"https://download.bt.cn/win/filezilla/FileZilla-setup.exe"}," 下载FTP连接工具(FileZilla, 免费开源) ",-1))])),_:1}),O(s,null,{"header-left":Z((()=>[O(H(ve))])),"header-right":Z((()=>[O(H(ke),{class:"!w-[140px] mr-[10px]"}),O(H(he),{type:"ftps",placeholder:"请输入FTP用户/备注",class:"!w-[270px] mr-[10px]"}),O(H(Pe),{class:"mr-[10px]"}),O(H(Te))])),content:Z((()=>[O(H(be),{"min-height":H(ae)},null,8,["min-height"])])),"footer-left":Z((()=>[O(H(je))])),"footer-right":Z((()=>[O(H(xe))])),_:1})],64)}}}),le=q({__name:"index",setup(t){const{BtRouterTabs:a}=e({level:!0});return(e,t)=>(M(),N(H(a),null,{default:Z((()=>[O(ae)])),_:1}))}});export{le as default};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
