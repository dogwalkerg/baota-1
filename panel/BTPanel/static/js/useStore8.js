import{getDataInfoNew as t,modifyProjectRunState as a,setSiteStatus as s}from"./site.js?v=1734676359";import{a7 as e,G as r}from"./utils-lib.js?v=1734676359";import{g as o,s as n,r as i}from"./base-lib.js?v=1734676359";import"./__commonjsHelpers__.js?v=1734676359";const m=o("SITE-PHP-STORE",(()=>{const o=i({});return{scanData:i({info:[],time:"",is_pay:!0,loophole_num:0,site_num:0,web_scaning_times:0}),pluginInfo:o,getPhpList:async a=>{try{const s=JSON.parse(localStorage.getItem("phpTableColumn")||"[]"),{data:{data:r,page:o,search_history:n,error:i}}=await t(a);return{data:r.map((t=>({...t,isWaf:!(null==s?void 0:s.length)||s[0].isCustom}))),total:e(o),other:{search_history:n,error:i}}}catch(s){return{data:[],total:0,other:{search_history:{page:1,page_size:10,total:0},error:{code:"get value error！",message:"获取数据失败"}}}}},changeStatusEvent:async({row:t,action:e},{isAsync:o,status:n})=>{try{const i=await r({loading:"正在"+(n?"停止":"启动")+"，请稍后...",request:o?a({sitename:t.name,project_action:e}):s({id:t.id,name:t.name},e),message:!0});return{status:i.status,msg:i.msg}}catch(i){return{status:!1,msg:"操作失败"}}}}})),c=()=>n(m());export{m as SITE_PHP_STORE,c as useSitePhpStore};
